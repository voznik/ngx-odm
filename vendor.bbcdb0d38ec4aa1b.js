(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[502],{131(ct,E,a){"use strict";a.d(E,{XV:()=>r,MR:()=>d,fy:()=>D,oZ:()=>$,NV:()=>P,Q_:()=>S,C5:()=>_,GU:()=>b});var u=a(570);const r=(0,u.jm)(u.XV),d=(0,u.jm)(u.MR),D=(0,u.jm)(u.fy),$=(0,u.jm)(u.oZ),P=(0,u.jm)(u.NV),S=(0,u.jm)(u.Q_),_=(0,u.jm)(u.C5),b=(0,u.jm)(u.GU)},177(ct,E,a){"use strict";a.d(E,{AJ:()=>D,Vy:()=>S,Xr:()=>b});var u=a(375);const D="browser";function S(vt){return"server"===vt}let b=(()=>{class vt{static \u0275prov=(0,u.jDH)({token:vt,providedIn:"root",factory:()=>new W((0,u.WQX)(u.qQL),window)})}return vt})();class W{document;window;offset=()=>[0,0];constructor(Wt,tn){this.document=Wt,this.window=tn}setOffset(Wt){this.offset=Array.isArray(Wt)?()=>Wt:Wt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Wt,tn){this.window.scrollTo({...tn,left:Wt[0],top:Wt[1]})}scrollToAnchor(Wt,tn){const qt=function C(vt,Wt){const tn=vt.getElementById(Wt)||vt.getElementsByName(Wt)[0];if(tn)return tn;if("function"==typeof vt.createTreeWalker&&vt.body&&"function"==typeof vt.body.attachShadow){const qt=vt.createTreeWalker(vt.body,NodeFilter.SHOW_ELEMENT);let zn=qt.currentNode;for(;zn;){const Un=zn.shadowRoot;if(Un){const kn=Un.getElementById(Wt)||Un.querySelector(`[name="${Wt}"]`);if(kn)return kn}zn=qt.nextNode()}}return null}(this.document,Wt);qt&&(this.scrollToElement(qt,tn),qt.focus())}setHistoryScrollRestoration(Wt){try{this.window.history.scrollRestoration=Wt}catch{console.warn((0,u.OsK)(2400,!1))}}scrollToElement(Wt,tn){const qt=Wt.getBoundingClientRect(),zn=qt.left+this.window.pageXOffset,Un=qt.top+this.window.pageYOffset,kn=this.offset();this.window.scrollTo({...tn,left:zn-kn[0],top:Un-kn[1]})}}},203(ct,E,a){"use strict";a.d(E,{S:()=>d,u:()=>r});var u=a(720);function r(D){var $=D.split("-"),P="RxDB";return $.forEach(S=>{P+=(0,u.Z2)(S)}),P+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+P+" } from 'rxdb/plugins/"+D+"';\n            addRxPlugin("+P+");\n        ")}function d(D){return{name:D.name,message:D.message,rxdb:D.rxdb,parameters:D.parameters,extensions:D.extensions,code:D.code,url:D.url,stack:D.stack?D.stack.replace(/\n/g," \n "):void 0}}},207(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(3403);E.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:d=>(0,u.validateTuple)(d,"items")}},240(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ValueScope=E.ValueScopeName=E.Scope=E.varKinds=E.UsedValueState=void 0;const u=a(3467);class r extends Error{constructor(b){super(`CodeGen: "code" for ${b} not defined`),this.value=b.value}}var d=function(_){return _[_.Started=0]="Started",_[_.Completed=1]="Completed",_}(d||(E.UsedValueState=d={}));E.varKinds={const:new u.Name("const"),let:new u.Name("let"),var:new u.Name("var")};class D{constructor({prefixes:b,parent:W}={}){this._names={},this._prefixes=b,this._parent=W}toName(b){return b instanceof u.Name?b:this.name(b)}name(b){return new u.Name(this._newName(b))}_newName(b){return`${b}${(this._names[b]||this._nameGroup(b)).index++}`}_nameGroup(b){var W,C;if(null!==(C=null===(W=this._parent)||void 0===W?void 0:W._prefixes)&&void 0!==C&&C.has(b)||this._prefixes&&!this._prefixes.has(b))throw new Error(`CodeGen: prefix "${b}" is not allowed in this scope`);return this._names[b]={prefix:b,index:0}}}E.Scope=D;class $ extends u.Name{constructor(b,W){super(W),this.prefix=b}setValue(b,{property:W,itemIndex:C}){this.value=b,this.scopePath=u._`.${new u.Name(W)}[${C}]`}}E.ValueScopeName=$;const P=u._`\n`;E.ValueScope=class S extends D{constructor(b){super(b),this._values={},this._scope=b.scope,this.opts={...b,_n:b.lines?P:u.nil}}get(){return this._scope}name(b){return new $(b,this._newName(b))}value(b,W){var C;if(void 0===W.ref)throw new Error("CodeGen: ref must be passed in value");const L=this.toName(b),{prefix:I}=L,A=null!==(C=W.key)&&void 0!==C?C:W.ref;let U=this._values[I];if(U){const F=U.get(A);if(F)return F}else U=this._values[I]=new Map;U.set(A,L);const O=this._scope[I]||(this._scope[I]=[]),p=O.length;return O[p]=W.ref,L.setValue(W,{property:I,itemIndex:p}),L}getValue(b,W){const C=this._values[b];if(C)return C.get(W)}scopeRefs(b,W=this._values){return this._reduceValues(W,C=>{if(void 0===C.scopePath)throw new Error(`CodeGen: name "${C}" has no value`);return u._`${b}${C.scopePath}`})}scopeCode(b=this._values,W,C){return this._reduceValues(b,L=>{if(void 0===L.value)throw new Error(`CodeGen: name "${L}" has no value`);return L.value.code},W,C)}_reduceValues(b,W,C={},L){let I=u.nil;for(const A in b){const U=b[A];if(!U)continue;const O=C[A]=C[A]||new Map;U.forEach(p=>{if(O.has(p))return;O.set(p,d.Started);let F=W(p);if(F)I=u._`${I}${this.opts.es5?E.varKinds.var:E.varKinds.const} ${p} = ${F};${this.opts._n}`;else{if(!(F=L?.(p)))throw new r(p);I=u._`${I}${F}${this.opts._n}`}O.set(p,d.Completed)})}return I}}},274(ct,E,a){"use strict";a.d(E,{H:()=>d});var u=a(1397),r=a(8071);function d(D,$){return(0,r.T)($)?(0,u.Z)(D,$,1):(0,u.Z)(D,1)}},312(ct,E,a){"use strict";a.d(E,{TI:()=>S,_r:()=>D,vk:()=>d});var u=a(3896),r=a(9403);function d(_){return _.documentData?_.documentData:_.previousDocumentData}function D(_){switch(_.operation){case"INSERT":return{operation:_.operation,id:_.documentId,doc:_.documentData,previous:null};case"UPDATE":return{operation:_.operation,id:_.documentId,doc:u.h.deepFreezeWhenDevMode(_.documentData),previous:_.previousDocumentData?_.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:_.operation,id:_.documentId,doc:null,previous:_.previousDocumentData}}}var P=new Map;function S(_){return(0,r.q)(P,_,()=>{for(var b=new Array(_.events.length),W=_.events,C=_.collectionName,L=_.isLocal,I=u.h.deepFreezeWhenDevMode,A=0;A<W.length;A++){var U=W[A];b[A]={documentId:U.documentId,collectionName:C,isLocal:L,operation:U.operation,documentData:I(U.documentData),previousDocumentData:I(U.previousDocumentData)}}return b})}},345(ct,E,a){"use strict";a.d(E,{hE:()=>D});var u=a(375);let D=(()=>{class ge{_doc;constructor(He){this._doc=He}getTitle(){return this._doc.title}setTitle(He){this._doc.title=He||""}static \u0275fac=function(et){return new(et||ge)(u.KVO(u.qQL))};static \u0275prov=u.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})()},362(ct){"use strict";ct.exports=function E(a,u){if(a===u)return!0;if(a&&u&&"object"==typeof a&&"object"==typeof u){if(a.constructor!==u.constructor)return!1;var r,d,D;if(Array.isArray(a)){if((r=a.length)!=u.length)return!1;for(d=r;0!==d--;)if(!E(a[d],u[d]))return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===u.toString();if((r=(D=Object.keys(a)).length)!==Object.keys(u).length)return!1;for(d=r;0!==d--;)if(!Object.prototype.hasOwnProperty.call(u,D[d]))return!1;for(d=r;0!==d--;){var $=D[d];if(!E(a[$],u[$]))return!1}return!0}return a!=a&&u!=u}},375(ct,E,a){"use strict";a.d(E,{JEi:()=>ee,Isx:()=>Pe,EJG:()=>Jn,Yrj:()=>cr,VVG:()=>xt,Y20:()=>Mn,SKP:()=>Jt,hk6:()=>Ks,eVN:()=>Po,b5C:()=>Sr,rQE:()=>Ar,X5O:()=>Wn,qFA:()=>It,qQL:()=>va,abz:()=>ds,tQN:()=>m,pcR:()=>Ve,oMQ:()=>co,Mlv:()=>ie,MZA:()=>ln,M0L:()=>Tn,Z63:()=>Je,dTm:()=>Ws,VML:()=>ps,uvJ:()=>zi,zcH:()=>vu,bkB:()=>Do,Wg1:()=>ui,Yw1:()=>qe,jgP:()=>Ni,tcA:()=>it,ID:()=>wi,YEL:()=>hn,B9r:()=>Ue,GBX:()=>vi,ZTf:()=>hs,nKC:()=>Ge,zZn:()=>ls,rJ1:()=>dn,nfM:()=>Rn,s6P:()=>Ht,K29:()=>he,CQl:()=>Xn,p9y:()=>_n,zSs:()=>on,ONQ:()=>ze,hmW:()=>rn,yAH:()=>ke,SKi:()=>fs,myG:()=>_u,oTH:()=>pt,Czx:()=>Ti,f7T:()=>Se,wVl:()=>Yr,GYQ:()=>Gc,u5s:()=>bu,rev:()=>Ea,Ds7:()=>xi,e5P:()=>fo,Iaj:()=>R,GpT:()=>jn,buA:()=>p,AQb:()=>Qc,kHH:()=>hu,jNX:()=>an,eDl:()=>Yi,qlT:()=>be,bm_:()=>en,RxE:()=>I,r4V:()=>wa,ok8:()=>O,Evm:()=>Du,laP:()=>M,EYC:()=>yi,AbJ:()=>mu,ng7:()=>Oi,llW:()=>Bi,gsJ:()=>Qr,GZS:()=>Be,iYM:()=>De,PEr:()=>yt,z7f:()=>me,LZP:()=>j,Xln:()=>Xe,yzR:()=>rt,TWe:()=>Ct,LIA:()=>Ke,GWr:()=>Le,pbo:()=>st,bBq:()=>ht,Af3:()=>uo,zQk:()=>At,oZy:()=>Nt,tF7:()=>te,ZFY:()=>zn,cP4:()=>Tt,MdC:()=>dt,XvL:()=>Y,KET:()=>tt,Tkx:()=>Zt,iw4:()=>Ie,tdH:()=>Hc,pr_:()=>pe,IAh:()=>ce,U45:()=>xe,WrV:()=>He,kNT:()=>Me,MI:()=>jt,biv:()=>Kt,ZQF:()=>se,Cv0:()=>et,W0r:()=>Ee,R2n:()=>oe,O8q:()=>h,VKj:()=>l,Rom:()=>H,z6V:()=>Ci,n$e:()=>ne,hjC:()=>Or,Pz9:()=>ya,PQT:()=>yr,VX4:()=>wr,_Z$:()=>io,N79:()=>Lo,xLP:()=>Zn,QZP:()=>Xc,A7J:()=>xn,BI7:()=>fn,U7d:()=>un,uXy:()=>Lt,nZS:()=>Ut,ihb:()=>Nn,ID8:()=>dr,gv8:()=>Ma,dwj:()=>G,Bqz:()=>$i,OsK:()=>T,Rfq:()=>Oe,c$7:()=>Fr,gxQ:()=>Mr,ckz:()=>jo,kLh:()=>q,xUg:()=>fr,KdJ:()=>pr,db4:()=>Fi,VPL:()=>pn,MT:()=>$e,Z9v:()=>re,Ab:()=>bt,w7Z:()=>lt,Mx4:()=>Ae,veI:()=>Qe,HaV:()=>Tr,Agf:()=>Er,znI:()=>xo,wGu:()=>Jr,ebl:()=>J,OAn:()=>X,_0$:()=>Go,UaU:()=>is,vaC:()=>Cn,d31:()=>Sn,ZRn:()=>An,phH:()=>gn,WbQ:()=>Ir,WB9:()=>Zi,d_l:()=>Qo,vNG:()=>ts,oyA:()=>Hr,_px:()=>Wo,CpD:()=>$s,XRZ:()=>$n,klJ:()=>Z,Fje:()=>Oo,b$O:()=>v,SMZ:()=>B,WQX:()=>hr,MzJ:()=>qt,jXY:()=>sr,MME:()=>qr,JlV:()=>xr,Qs1:()=>tr,srX:()=>qn,vOT:()=>Li,YWB:()=>St,EPY:()=>qi,yoD:()=>Nr,P3H:()=>Dn,Jzi:()=>ge,rFz:()=>yn,JjR:()=>x,M6u:()=>Qi,KtD:()=>Ls,muV:()=>Ze,A0l:()=>Gn,q$2:()=>ir,yP_:()=>ur,EFk:()=>Pr,UhH:()=>ns,QuC:()=>Kr,Y3W:()=>si,K7h:()=>wt,FRF:()=>$t,ezK:()=>je,m7n:()=>ga,niQ:()=>bo,krE:()=>Ko,bll:()=>lo,Hh6:()=>lr,EmA:()=>Xt,blu:()=>$o,HAh:()=>Wi,WfI:()=>pi,xbp:()=>Ei,jvu:()=>yo,Rc9:()=>Ji,E6O:()=>Mi,DyX:()=>Bo,eFE:()=>kr,dMS:()=>ko,HUe:()=>Ao,nl4:()=>nt,N4e:()=>ei,XaM:()=>Fn,uiq:()=>lf,l4E:()=>Bc,Kw3:()=>eo,vQI:()=>N,RZ9:()=>Fe,GA0:()=>Ft,iMd:()=>Pt,Pfq:()=>cn,xyx:()=>y,a2B:()=>tn,kcM:()=>ut,DFp:()=>at,P2g:()=>Bn,cBl:()=>_r,ypq:()=>Co,vPA:()=>Vc,HO5:()=>Eu,M_e:()=>gr,B22:()=>ma,ik5:()=>es,AsM:()=>Q,PP7:()=>Zr,$8:()=>Te,$Hz:()=>fi,O8t:()=>Oa,zAe:()=>mn,IvY:()=>bn,_gW:()=>qo,F1c:()=>rr,ITl:()=>Si,brz:()=>er,jRZ:()=>Eo,SX7:()=>js,jDH:()=>ae,G2t:()=>Ne,fuf:()=>Uo,cSN:()=>Fs,KVO:()=>vr,dmw:()=>Pi,joV:()=>Bs,By9:()=>cu,qSk:()=>uu,Njj:()=>z,eBV:()=>le});var u=a(5824),r=a(4412),d=a(1985),D=a(1413),$=a(8359);let P;function S(){return P}function _(g){const fe=P;return P=g,fe}const W=Symbol("NotFound");function L(g){return g===W||"\u0275NotFound"===g?.name}Error;class I{full;major;minor;patch;constructor(fe){this.full=fe;const We=fe.split(".");this.major=We[0],this.minor=We[1],this.patch=We.slice(2).join(".")}}const O="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class p extends Error{code;constructor(fe,We){super(T(fe,We)),this.code=fe}}function T(g,fe){return`${function F(g){return`NG0${Math.abs(g)}`}(g)}${fe?": "+fe:""}`}const M=globalThis;function B(){return!1}function q(g){for(let fe in g)if(g[fe]===q)return fe;throw Error("")}function G(g,fe){for(const We in fe)fe.hasOwnProperty(We)&&!g.hasOwnProperty(We)&&(g[We]=fe[We])}function Q(g){if("string"==typeof g)return g;if(Array.isArray(g))return`[${g.map(Q).join(", ")}]`;if(null==g)return""+g;const fe=g.overriddenName||g.name;if(fe)return`${fe}`;const We=g.toString();if(null==We)return""+We;const Mt=We.indexOf("\n");return Mt>=0?We.slice(0,Mt):We}function ne(g,fe){return g?fe?`${g} ${fe}`:g:fe||""}const ve=q({__forward_ref__:q});function Oe(g){return g.__forward_ref__=Oe,g.toString=function(){return Q(this())},g}function nt(g){return ge(g)?g():g}function ge(g){return"function"==typeof g&&g.hasOwnProperty(ve)&&g.__forward_ref__===Oe}function xe(g,fe){"number"!=typeof g&&Te(fe,typeof g,"number","===")}function He(g,fe,We){xe(g,"Expected a number"),function _e(g,fe,We){g<=fe||Te(We,g,fe,"<=")}(g,We,"Expected number to be less than or equal to"),st(g,fe,"Expected number to be greater than or equal to")}function et(g,fe){"string"!=typeof g&&Te(fe,null===g?"null":typeof g,"string","===")}function Ke(g,fe){"function"!=typeof g&&Te(fe,null===g?"null":typeof g,"function","===")}function Xe(g,fe,We){g!=fe&&Te(We,g,fe,"==")}function Ie(g,fe,We){g==fe&&Te(We,g,fe,"!=")}function se(g,fe,We){g!==fe&&Te(We,g,fe,"===")}function ce(g,fe,We){g===fe&&Te(We,g,fe,"!==")}function Y(g,fe,We){g<fe||Te(We,g,fe,"<")}function Le(g,fe,We){g>fe||Te(We,g,fe,">")}function st(g,fe,We){g>=fe||Te(We,g,fe,">=")}function De(g,fe){null==g&&Te(fe,g,null,"!=")}function Te(g,fe,We,Mt){throw new Error(`ASSERTION ERROR: ${g}`+(null==Mt?"":` [Expected=> ${We} ${Mt} ${fe} <=Actual]`))}function me(g){g instanceof Node||Te(`The provided value must be an instance of a DOM Node but got ${Q(g)}`)}function j(g){g instanceof Element||Te(`The provided value must be an element but got ${Q(g)}`)}function te(g,fe){De(g,"Array must be defined.");const We=g.length;(fe<0||fe>=We)&&Te(`Index expected to be less than ${We} but got ${fe}`)}function Me(g,...fe){if(-1!==fe.indexOf(g))return!0;Te(`Expected value to be one of ${JSON.stringify(fe)} but was ${JSON.stringify(g)}.`)}function pe(g){null!==(0,u.nR)()&&Te(`${g}() should never be called in a reactive context.`)}function ae(g){return{token:g.token,providedIn:g.providedIn||null,factory:g.factory,value:void 0}}function Ne(g){return{providers:g.providers||[],imports:g.imports||[]}}function Ce(g){return function ot(g,fe){return g.hasOwnProperty(fe)&&g[fe]||null}(g,ke)}function Ze(g){return null!==Ce(g)}function J(g){return g&&g.hasOwnProperty(ze)?g[ze]:null}const ke=q({\u0275prov:q}),ze=q({\u0275inj:q});class Ge{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(fe,We){this._desc=fe,this.\u0275prov=void 0,"number"==typeof We?this.__NG_ELEMENT_ID__=We:void 0!==We&&(this.\u0275prov=ae({token:this,providedIn:We.providedIn||"root",factory:We.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Re;function Dt(){return Te("getInjectorProfilerContext should never be called in production mode"),Re}function at(g){Te("setInjectorProfilerContext should never be called in production mode");const fe=Re;return Re=g,fe}const Et=[],Vt=()=>{};function ut(g){return Te("setInjectorProfiler should never be called in production mode"),null!==g?(Et.includes(g)||Et.push(g),()=>function Yt(g){const fe=Et.indexOf(g);-1!==fe&&Et.splice(fe,1)}(g)):(Et.length=0,Vt)}function Bt(g){Te("Injector profiler should never be called in production mode");for(let fe=0;fe<Et.length;fe++)(0,Et[fe])(g)}function Ut(g,fe=!1){let We;Te("Injector profiler should never be called in production mode"),We="function"==typeof g||g instanceof Ge?g:nt(g.provide);let Mt=g;g instanceof Ge&&(Mt=g.\u0275prov||g),Bt({type:2,context:Dt(),providerRecord:{token:We,provider:Mt,isViewProvider:fe}})}function un(g){Te("Injector profiler should never be called in production mode"),Bt({type:5,context:Dt(),token:g})}function Lt(g){Te("Injector profiler should never be called in production mode"),Bt({type:1,context:Dt(),instance:{value:g}})}function fn(g,fe,We){Te("Injector profiler should never be called in production mode"),Bt({type:0,context:Dt(),service:{token:g,value:fe,flags:We}})}function xn(g){Te("Injector profiler should never be called in production mode"),Bt({type:4,context:Dt(),effectPhase:g})}function Fn(g,fe,We){Te("runInInjectorProfilerContext should never be called in production mode");const Mt=at({injector:g,token:fe});try{We()}finally{at(Mt)}}function Hn(g){return g&&!!g.\u0275providers}const Xn=q({\u0275cmp:q}),mt=q({\u0275dir:q}),kt=q({\u0275pipe:q}),rn=q({\u0275mod:q}),on=q({\u0275fac:q}),_n=q({__NG_ELEMENT_ID__:q}),sn=q({__NG_ENV_ID__:q});function gn(g){return br(g),g[rn]||null}function Ir(g){const fe=gn(g);if(!fe)throw new p(915,!1);return fe}function fr(g){return br(g),g[Xn]||null}function Er(g){const fe=Tr(g);if(!fe)throw new p(916,!1);return fe}function Tr(g){return br(g),g[mt]||null}function Hr(g){return br(g),g[kt]||null}function br(g,fe){if(null==g)throw new p(-919,!1)}function Kr(g){const fe=fr(g)||Tr(g)||Hr(g);return null!==fe&&fe.standalone}function kr(g){return"string"==typeof g?g:null==g?"":String(g)}function Zr(g){return"function"==typeof g?g.name||g.toString():"object"==typeof g&&null!=g&&"function"==typeof g.type?g.type.name||g.type.toString():kr(g)}function io(g){const fe=fr(g);return null!==fe&&fe.debugInfo?function di(g){return g.filePath&&g.lineNumber?`${g.className} (at ${g.filePath}:${g.lineNumber})`:g.className}(fe.debugInfo):Zr(g)}const mi=q({ngErrorCode:q}),Cr=q({ngErrorMessage:q}),$r=q({ngTokenPath:q});function yr(g,fe){return _i("",-200,fe)}function wr(g,fe){return function hi(g,fe){return g.message=function ii(g,fe,We=[],Mt=null){let Qt="";We&&We.length>1&&(Qt=` Path: ${We.join(" -> ")}.`);return T(fe,`${g}${Mt?` Source: ${Mt}.`:""}${Qt}`)}(g[Cr]||g.message,g[mi],g[$r],fe),g}(yr(0,fe),null)}function fi(g,fe){throw new p(-201,!1)}function _i(g,fe,We){const Mt=new p(fe,g);return Mt[mi]=fe,Mt[Cr]=g,We&&(Mt[$r]=We),Mt}let vt;function Wt(){return vt}function tn(g){const fe=vt;return vt=g,fe}function qt(g,fe,We){const Mt=Ce(g);return Mt&&"root"==Mt.providedIn?void 0===Mt.value?Mt.value=Mt.factory():Mt.value:8&We?null:void 0!==fe?fe:void fi()}function zn(g){}const kn={},Vn="__NG_DI_FLAG__";class jr{injector;constructor(fe){this.injector=fe}retrieve(fe,We){const Mt=Or(We)||0;try{return this.injector.get(fe,8&Mt?null:kn,Mt)}catch(Qt){if(L(Qt))return Qt;throw Qt}}}function Ur(g,fe=0){const We=S();if(void 0===We)throw new p(-203,!1);if(null===We)return qt(g,void 0,fe);{const Mt=function Wr(g){return{optional:!!(8&g),host:!!(1&g),self:!!(2&g),skipSelf:!!(4&g)}}(fe),Qt=We.retrieve(g,Mt);if(L(Qt)){if(Mt.optional)return null;throw Qt}return Qt}}function vr(g,fe=0){return(Wt()||Ur)(nt(g),fe)}function Pi(g){throw new p(202,!1)}function hr(g,fe){return vr(g,Or(fe))}function Or(g){return typeof g>"u"||"number"==typeof g?g:0|(g.optional&&8)|(g.host&&1)|(g.self&&2)|(g.skipSelf&&4)}function Gr(g){const fe=[];for(let We=0;We<g.length;We++){const Mt=nt(g[We]);if(Array.isArray(Mt)){if(0===Mt.length)throw new p(900,!1);let Qt,In=0;for(let Kn=0;Kn<Mt.length;Kn++){const ci=Mt[Kn],Rr=oi(ci);"number"==typeof Rr?-1===Rr?Qt=ci.token:In|=Rr:Qt=ci}fe.push(vr(Qt,In))}else fe.push(vr(Mt))}return fe}function Ci(g,fe){return g[Vn]=fe,g.prototype[Vn]=fe,g}function oi(g){return g[Vn]}function Jr(g,fe){return g.hasOwnProperty(on)?g[on]:null}function Oi(g,fe,We){if(g.length!==fe.length)return!1;for(let Mt=0;Mt<g.length;Mt++){let Qt=g[Mt],In=fe[Mt];if(We&&(Qt=We(Qt),In=We(In)),In!==Qt)return!1}return!0}function $i(g){return g.flat(Number.POSITIVE_INFINITY)}function Zn(g,fe){g.forEach(We=>Array.isArray(We)?Zn(We,fe):fe(We))}function yi(g,fe,We){fe>=g.length?g.push(We):g.splice(fe,0,We)}function Mi(g,fe){return fe>=g.length-1?g.pop():g.splice(fe,1)[0]}function pi(g,fe){const We=[];for(let Mt=0;Mt<g;Mt++)We.push(fe);return We}function Qr(g,fe,We){const Mt=g.length-We;for(;fe<Mt;)g[fe]=g[fe+We],fe++;for(;We--;)g.pop()}function Bi(g,fe,We,Mt){let Qt=g.length;if(Qt==fe)g.push(We,Mt);else if(1===Qt)g.push(Mt,g[0]),g[0]=We;else{for(Qt--,g.push(g[Qt-1],g[Qt]);Qt>fe;)g[Qt]=g[Qt-2],Qt--;g[fe]=We,g[fe+1]=Mt}}function je(g,fe,We){let Mt=$t(g,fe);return Mt>=0?g[1|Mt]=We:(Mt=~Mt,Bi(g,Mt,fe,We)),Mt}function wt(g,fe){const We=$t(g,fe);if(We>=0)return g[1|We]}function $t(g,fe){return function Gt(g,fe,We){let Mt=0,Qt=g.length>>We;for(;Qt!==Mt;){const In=Mt+(Qt-Mt>>1),Kn=g[In<<We];if(fe===Kn)return In<<We;Kn>fe?Qt=In:Mt=In+1}return~(Qt<<We)}(g,fe,1)}const ln={},ie=[],Je=new Ge(""),we=new Ge("",-1),Ue=new Ge("");class pt{get(fe,We=kn){if(We===kn){const Qt=_i("",-201);throw Qt.name="\u0275NotFound",Qt}return We}}function Xt(g){return{\u0275providers:g}}function Pn(...g){return{\u0275providers:sr(0,g),\u0275fromNgModule:!0}}function sr(g,...fe){const We=[],Mt=new Set;let Qt;const In=Kn=>{We.push(Kn)};return Zn(fe,Kn=>{const ci=Kn;er(ci,In,[],Mt)&&(Qt||=[],Qt.push(ci))}),void 0!==Qt&&Dr(Qt,In),We}function Dr(g,fe){for(let We=0;We<g.length;We++){const{ngModule:Mt,providers:Qt}=g[We];Yn(Qt,In=>{fe(In,Mt)})}}function er(g,fe,We,Mt){if(!(g=nt(g)))return!1;let Qt=null,In=J(g);const Kn=!In&&fr(g);if(In||Kn){if(Kn&&!Kn.standalone)return!1;Qt=g}else{const Rr=g.ngModule;if(In=J(Rr),!In)return!1;Qt=Rr}const ci=Mt.has(Qt);if(Kn){if(ci)return!1;if(Mt.add(Qt),Kn.dependencies){const Rr="function"==typeof Kn.dependencies?Kn.dependencies():Kn.dependencies;for(const Di of Rr)er(Di,fe,We,Mt)}}else{if(!In)return!1;{if(null!=In.imports&&!ci){let Di;Mt.add(Qt),Zn(In.imports,Mo=>{er(Mo,fe,We,Mt)&&(Di||=[],Di.push(Mo))}),void 0!==Di&&Dr(Di,fe)}if(!ci){const Di=Jr(Qt)||(()=>new Qt);fe({provide:Qt,useFactory:Di,deps:ie},Qt),fe({provide:Ue,useValue:Qt,multi:!0},Qt),fe({provide:Je,useValue:()=>vr(Qt),multi:!0},Qt)}const Rr=In.providers;if(null!=Rr&&!ci){const Di=g;Yn(Rr,Mo=>{fe(Mo,Di)})}}}return Qt!==g&&void 0!==g.providers}function Yn(g,fe){for(let We of g)Hn(We)&&(We=We.\u0275providers),Array.isArray(We)?Yn(We,fe):fe(We)}const ar=q({provide:String,useValue:q});function mr(g){return null!==g&&"object"==typeof g&&ar in g}function si(g){return"function"==typeof g}function qr(g){return!!g.useClass}const vi=new Ge(""),ji={},Ui={};let oo;function Zi(){return void 0===oo&&(oo=new pt),oo}class zi{}class fo extends zi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(fe,We,Mt,Qt){super(),this.parent=We,this.source=Mt,this.scopes=Qt,ho(fe,Kn=>this.processProvider(Kn)),this.records.set(we,Ki(void 0,this)),Qt.has("environment")&&this.records.set(zi,Ki(void 0,this));const In=this.records.get(vi);null!=In&&"string"==typeof In.value&&this.scopes.add(In.value),this.injectorDefTypes=new Set(this.get(Ue,ie,{self:!0}))}retrieve(fe,We){const Mt=Or(We)||0;try{return this.get(fe,kn,Mt)}catch(Qt){if(L(Qt))return Qt;throw Qt}}destroy(){to(this),this._destroyed=!0;const fe=(0,u.Ht)(null);try{for(const Mt of this._ngOnDestroyHooks)Mt.ngOnDestroy();const We=this._onDestroyHooks;this._onDestroyHooks=[];for(const Mt of We)Mt()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,u.Ht)(fe)}}onDestroy(fe){return to(this),this._onDestroyHooks.push(fe),()=>this.removeOnDestroy(fe)}runInContext(fe){to(this);const We=_(this),Mt=tn(void 0);try{return fe()}finally{_(We),tn(Mt)}}get(fe,We=kn,Mt){if(to(this),fe.hasOwnProperty(sn))return fe[sn](this);const Qt=Or(Mt),Kn=_(this),ci=tn(void 0);try{if(!(4&Qt)){let Di=this.records.get(fe);if(void 0===Di){const Mo=function no(g){return"function"==typeof g||"object"==typeof g&&"InjectionToken"===g.ngMetadataName}(fe)&&Ce(fe);Di=Mo&&this.injectableDefInScope(Mo)?Ki(ai(fe),ji):null,this.records.set(fe,Di)}if(null!=Di)return this.hydrate(fe,Di,Qt)}return(2&Qt?Zi():this.parent).get(fe,We=8&Qt&&We===kn?null:We)}catch(Rr){const Di=function Ii(g){return g[mi]}(Rr);throw-200===Di||-201===Di?new p(Di,null):Rr}finally{tn(ci),_(Kn)}}resolveInjectorInitializers(){const fe=(0,u.Ht)(null),We=_(this),Mt=tn(void 0);try{const In=this.get(Je,ie,{self:!0});for(const Kn of In)Kn()}finally{_(We),tn(Mt),(0,u.Ht)(fe)}}toString(){const fe=[],We=this.records;for(const Mt of We.keys())fe.push(Q(Mt));return`R3Injector[${fe.join(", ")}]`}processProvider(fe){let We=si(fe=nt(fe))?fe:nt(fe&&fe.provide);const Mt=function vo(g){return mr(g)?Ki(void 0,g.useValue):Ki(Ji(g),ji)}(fe);if(!si(fe)&&!0===fe.multi){let Qt=this.records.get(We);Qt||(Qt=Ki(void 0,ji,!0),Qt.factory=()=>Gr(Qt.multi),this.records.set(We,Qt)),We=fe,Qt.multi.push(fe)}this.records.set(We,Mt)}hydrate(fe,We,Mt){const Qt=(0,u.Ht)(null);try{if(We.value===Ui)throw yr(Q(fe));return We.value===ji&&(We.value=Ui,We.value=We.factory(void 0,Mt)),"object"==typeof We.value&&We.value&&function ao(g){return null!==g&&"object"==typeof g&&"function"==typeof g.ngOnDestroy}(We.value)&&this._ngOnDestroyHooks.add(We.value),We.value}finally{(0,u.Ht)(Qt)}}injectableDefInScope(fe){if(!fe.providedIn)return!1;const We=nt(fe.providedIn);return"string"==typeof We?"any"===We||this.scopes.has(We):this.injectorDefTypes.has(We)}removeOnDestroy(fe){const We=this._onDestroyHooks.indexOf(fe);-1!==We&&this._onDestroyHooks.splice(We,1)}}function ai(g){const fe=Ce(g),We=null!==fe?fe.factory:Jr(g);if(null!==We)return We;if(g instanceof Ge)throw new p(204,!1);if(g instanceof Function)return function Gi(g){if(g.length>0)throw new p(204,!1);const We=function k(g){return(g?.[ke]??null)||null}(g);return null!==We?()=>We.factory(g):()=>new g}(g);throw new p(204,!1)}function Ji(g,fe,We){let Mt;if(si(g)){const Qt=nt(g);return Jr(Qt)||ai(Qt)}if(mr(g))Mt=()=>nt(g.useValue);else if(function ki(g){return!(!g||!g.useFactory)}(g))Mt=()=>g.useFactory(...Gr(g.deps||[]));else if(function Ri(g){return!(!g||!g.useExisting)}(g))Mt=(Qt,In)=>vr(nt(g.useExisting),void 0!==In&&8&In?8:void 0);else{const Qt=nt(g&&(g.useClass||g.provide));if(!function so(g){return!!g.deps}(g))return Jr(Qt)||ai(Qt);Mt=()=>new Qt(...Gr(g.deps))}return Mt}function to(g){if(g.destroyed)throw new p(205,!1)}function Ki(g,fe,We=!1){return{factory:g,value:fe,multi:We?[]:void 0}}function ho(g,fe){for(const We of g)Array.isArray(We)?ho(We,fe):We&&Hn(We)?ho(We.\u0275providers,fe):fe(We)}function ei(g,fe){let We;g instanceof fo?(to(g),We=g):We=new jr(g);const Qt=_(We),In=tn(void 0);try{return fe()}finally{_(Qt),tn(In)}}function Qi(){return void 0!==Wt()||null!=S()}function uo(g){if(!Qi())throw new p(-203,!1)}const Ni=0,Yi=1,ui=2,Se=3,he=4,be=5,it=6,xt=7,Jt=8,hn=9,Tn=10,jn=11,Jn=12,cr=13,Wn=14,Sr=15,Ar=16,Yr=17,xi=18,wi=19,co=20,Ti=21,Ve=22,m=23,R=24,ee=25,Pe=26,qe=27,It=6,Ht=7,en=8,Rn=9,Mn=10;function ir(g){return Array.isArray(g)&&"object"==typeof g[1]}function Gn(g){return Array.isArray(g)&&!0===g[1]}function qn(g){return!!(4&g.flags)}function tr(g){return g.componentOffset>-1}function Nr(g){return!(1&~g.flags)}function xr(g){return!!g.template}function Pr(g){return!!(512&g[ui])}function qi(g){return!(256&~g[ui])}function l(g,fe){H(g,fe[Yi])}function h(g,fe){const We=fe+qe;te(g,We),Y(We,g[Yi].bindingStartIndex,"TNodes should be created before any bindings")}function H(g,fe){oe(g);const We=fe.data;for(let Mt=qe;Mt<We.length;Mt++)if(We[Mt]===g)return;Te("This TNode does not belong to this TView.")}function oe(g){De(g,"TNode must be defined"),g&&"object"==typeof g&&g.hasOwnProperty("directiveStylingLast")||Te("Not of type TNode, got: "+g)}function Ee(g){De(g,"Expected TIcu to be defined"),"number"!=typeof g.currentCaseLViewIndex&&Te("Object is not of TIcu type.")}function Be(g,fe="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){fr(g)||Te(fe)}function tt(g,fe="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){gn(g)||Te(fe)}function ht(g){De(g,"currentTNode should exist!"),De(g.parent,"currentTNode should have a parent")}function Tt(g){De(g,"LContainer must be defined"),Xe(Gn(g),!0,"Expecting LContainer")}function dt(g){De(g,"LView must be defined"),Xe(ir(g),!0,"Expecting LView")}function rt(g,fe){Xe(g.firstCreatePass,!0,fe||"Should only be called in first create pass.")}function Ct(g,fe){Xe(g.firstUpdatePass,!0,"Should only be called in first update pass.")}function yt(g){(void 0===g.type||null==g.selectors||void 0===g.inputs)&&Te("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function At(g,fe){Ot(qe,g.bindingStartIndex,fe)}function Nt(g,fe){Ot(g[1].expandoStartIndex,g.length,fe)}function Ot(g,fe,We){g<=We&&We<fe||Te(`Index out of range (expecting ${g} <= ${We} < ${fe})`)}function Kt(g,fe){De(g[Sr],"Component views should exist."),De(g[Sr][be].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function jt(g,fe){De(g,"Component views should always have a parent view (component's host view)")}function Zt(g,fe){Nt(g,fe),Nt(g,fe+8),xe(g[fe+0],"injectorIndex should point to a bloom filter"),xe(g[fe+1],"injectorIndex should point to a bloom filter"),xe(g[fe+2],"injectorIndex should point to a bloom filter"),xe(g[fe+3],"injectorIndex should point to a bloom filter"),xe(g[fe+4],"injectorIndex should point to a bloom filter"),xe(g[fe+5],"injectorIndex should point to a bloom filter"),xe(g[fe+6],"injectorIndex should point to a bloom filter"),xe(g[fe+7],"injectorIndex should point to a bloom filter"),xe(g[fe+8],"injectorIndex should point to parent injector")}const an="svg",dn="math";function bn(g){for(;Array.isArray(g);)g=g[Ni];return g}function mn(g){for(;Array.isArray(g);){if("object"==typeof g[1])return g;g=g[Ni]}return null}function Cn(g,fe){return bn(fe[g])}function Sn(g,fe){return bn(fe[g.index])}function An(g,fe){const We=null===g?-1:g.index;return-1!==We?bn(fe[We]):null}function $n(g,fe){return g.data[fe]}function lr(g,fe){return g[fe]}function gr(g,fe,We,Mt){We>=g.data.length&&(g.data[We]=null,g.blueprint[We]=null),fe[We]=Mt}function pr(g,fe){const We=fe[g];return ir(We)?We:We[Ni]}function Li(g){return!(4&~g[ui])}function rr(g){return!(128&~g[ui])}function Si(g){return Gn(g[Se])}function Fi(g,fe){return null==fe?null:g[fe]}function Ao(g){g[Yr]=0}function Wi(g){1024&g[ui]||(g[ui]|=1024,rr(g)&&$o(g))}function Eo(g,fe){for(;g>0;)fe=fe[Wn],g--;return fe}function ko(g){return!!(9216&g[ui]||g[R]?.dirty)}function qo(g){g[Tn].changeDetectionScheduler?.notify(8),64&g[ui]&&(g[ui]|=1024),ko(g)&&$o(g)}function $o(g){g[Tn].changeDetectionScheduler?.notify(0);let fe=Go(g);for(;null!==fe&&!(8192&fe[ui])&&(fe[ui]|=8192,rr(fe));)fe=Go(fe)}function es(g,fe){if(qi(g))throw new p(911,!1);null===g[Ti]&&(g[Ti]=[]),g[Ti].push(fe)}function Bo(g,fe){if(null===g[Ti])return;const We=g[Ti].indexOf(fe);-1!==We&&g[Ti].splice(We,1)}function Go(g){const fe=g[Se];return Gn(fe)?fe[Se]:fe}function Qo(g){return g[xt]??=[]}function ts(g){return g.cleanup??=[]}function ma(g,fe,We,Mt){const Qt=Qo(fe);Qt.push(We),g.firstCreatePass&&ts(g).push(Mt,Qt.length-1)}const or={lFrame:_o(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Po=function(g){return g[g.Off=0]="Off",g[g.Exhaustive=1]="Exhaustive",g[g.OnlyDirtyViews=2]="OnlyDirtyViews",g}(Po||{});let Vi=0,No=!1;function xo(){return or.lFrame.elementDepthCount}function Oo(){or.lFrame.elementDepthCount++}function Lo(){or.lFrame.elementDepthCount--}function jo(){return or.bindingsEnabled}function Ls(){return null!==or.skipHydrationRootTNode}function ns(g){return or.skipHydrationRootTNode===g}function Fs(){or.bindingsEnabled=!0}function Uo(){or.bindingsEnabled=!1}function Ko(){or.skipHydrationRootTNode=null}function X(){return or.lFrame.lView}function Z(){return or.lFrame.tView}function le(g){return or.lFrame.contextLView=g,g[Jt]}function z(g){return or.lFrame.contextLView=null,g}function Ae(){let g=Qe();for(;null!==g&&64===g.type;)g=g.parent;return g}function Qe(){return or.lFrame.currentTNode}function bt(){const g=or.lFrame,fe=g.currentTNode;return g.isParent?fe:fe.parent}function Pt(g,fe){const We=or.lFrame;We.currentTNode=g,We.isParent=fe}function St(){return or.lFrame.isParent}function cn(){or.lFrame.isParent=!1}function pn(){return or.lFrame.contextLView}function yn(){return Te("Must never be called in production mode"),Vi!==Po.Off}function Dn(){return Te("Must never be called in production mode"),Vi===Po.Exhaustive}function Bn(g){Te("Must never be called in production mode"),Vi=g}function ur(){return No}function _r(g){const fe=No;return No=g,fe}function Mr(){const g=or.lFrame;let fe=g.bindingRootIndex;return-1===fe&&(fe=g.bindingRootIndex=g.tView.bindingStartIndex),fe}function Fr(){return or.lFrame.bindingIndex}function eo(g){return or.lFrame.bindingIndex=g}function Ei(){return or.lFrame.bindingIndex++}function v(g){const fe=or.lFrame,We=fe.bindingIndex;return fe.bindingIndex=fe.bindingIndex+g,We}function x(){return or.lFrame.inI18n}function y(g){or.lFrame.inI18n=g}function N(g,fe){const We=or.lFrame;We.bindingIndex=We.bindingRootIndex=g,Fe(fe)}function re(){return or.lFrame.currentDirectiveIndex}function Fe(g){or.lFrame.currentDirectiveIndex=g}function $e(g){const fe=or.lFrame.currentDirectiveIndex;return-1===fe?null:g[fe]}function lt(){return or.lFrame.currentQueryIndex}function Ft(g){or.lFrame.currentQueryIndex=g}function En(g){const fe=g[Yi];return 2===fe.type?fe.declTNode:1===fe.type?g[be]:null}function Nn(g,fe,We){if(4&We){let Qt=fe,In=g;for(;!(Qt=Qt.parent,null!==Qt||1&We||(Qt=En(In),null===Qt||(In=In[Wn],10&Qt.type))););if(null===Qt)return!1;fe=Qt,g=In}const Mt=or.lFrame=Vr();return Mt.currentTNode=fe,Mt.lView=g,!0}function dr(g){const fe=Vr(),We=g[Yi];or.lFrame=fe,fe.currentTNode=We.firstChild,fe.lView=g,fe.tView=We,fe.contextLView=g,fe.bindingIndex=We.bindingStartIndex,fe.inI18n=!1}function Vr(){const g=or.lFrame,fe=null===g?null:g.child;return null===fe?_o(g):fe}function _o(g){const fe={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:g,child:null,inI18n:!1};return null!==g&&(g.child=fe),fe}function Xr(){const g=or.lFrame;return or.lFrame=g.parent,g.currentTNode=null,g.lView=null,g}const bo=Xr;function lo(){const g=Xr();g.isParent=!0,g.tView=null,g.selectedIndex=-1,g.contextLView=null,g.elementDepthCount=0,g.currentDirectiveIndex=-1,g.currentNamespace=null,g.bindingRootIndex=-1,g.bindingIndex=-1,g.currentQueryIndex=0}function yo(g){return(or.lFrame.contextLView=Eo(g,or.lFrame.contextLView))[Jt]}function Wo(){return or.lFrame.selectedIndex}function Co(g){or.lFrame.selectedIndex=g}function $s(){const g=or.lFrame;return $n(g.tView,g.selectedIndex)}function uu(){or.lFrame.currentNamespace=an}function cu(){or.lFrame.currentNamespace=dn}function Bs(){!function lu(){or.lFrame.currentNamespace=null}()}function is(){return or.lFrame.currentNamespace}let du=!0;function js(){return du}function ga(g){du=g}function _a(g,fe=null,We=null,Mt){const Qt=ya(g,fe,We,Mt);return Qt.resolveInjectorInitializers(),Qt}function ya(g,fe=null,We=null,Mt,Qt=new Set){const In=[We||ie,Pn(g)];return Mt=Mt||("object"==typeof g?void 0:Q(g)),new fo(In,fe||Zi(),Mt||null,Qt)}class ls{static THROW_IF_NOT_FOUND=kn;static NULL=new pt;static create(fe,We){if(Array.isArray(fe))return _a({name:""},We,fe,"");{const Mt=fe.name??"";return _a({name:Mt},fe.parent,fe.providers,Mt)}}static \u0275prov=ae({token:ls,providedIn:"any",factory:()=>vr(we)});static __NG_ELEMENT_ID__=-1}const va=new Ge("");let ds=(()=>class g{static __NG_ELEMENT_ID__=$c;static __NG_ENV_ID__=We=>We})();class fu extends ds{_lView;constructor(fe){super(),this._lView=fe}get destroyed(){return qi(this._lView)}onDestroy(fe){const We=this._lView;return es(We,fe),()=>Bo(We,fe)}}function $c(){return new fu(X())}const hu=!1;let Ea=(()=>{class g{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new r.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new d.c(We=>{We.next(!1),We.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const We=this.taskId++;return this.pendingTasks.add(We),We}has(We){return this.pendingTasks.has(We)}remove(We){this.pendingTasks.delete(We),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ae({token:g,providedIn:"root",factory:()=>new g})}return g})();const Do=class Vo extends D.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(fe=!1){super(),this.__isAsync=fe,Qi()&&(this.destroyRef=hr(ds,{optional:!0})??void 0,this.pendingTasks=hr(Ea,{optional:!0})??void 0)}emit(fe){const We=(0,u.Ht)(null);try{super.next(fe)}finally{(0,u.Ht)(We)}}subscribe(fe,We,Mt){let Qt=fe,In=We||(()=>null),Kn=Mt;if(fe&&"object"==typeof fe){const Rr=fe;Qt=Rr.next?.bind(Rr),In=Rr.error?.bind(Rr),Kn=Rr.complete?.bind(Rr)}this.__isAsync&&(In=this.wrapInTimeout(In),Qt&&(Qt=this.wrapInTimeout(Qt)),Kn&&(Kn=this.wrapInTimeout(Kn)));const ci=super.subscribe({next:Qt,error:In,complete:Kn});return fe instanceof $.yU&&fe.add(ci),ci}wrapInTimeout(fe){return We=>{const Mt=this.pendingTasks?.add();setTimeout(()=>{try{fe(We)}finally{void 0!==Mt&&this.pendingTasks?.remove(Mt)}})}}};function Us(...g){}function Bc(g){let fe,We;function Mt(){g=Us;try{void 0!==We&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(We),void 0!==fe&&clearTimeout(fe)}catch{}}return fe=setTimeout(()=>{g(),Mt()}),"function"==typeof requestAnimationFrame&&(We=requestAnimationFrame(()=>{g(),Mt()})),()=>Mt()}function lf(g){return queueMicrotask(()=>g()),()=>{g=Us}}const pu="isAngularZone",mu=pu+"_ID";let gu=0;class fs{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Do(!1);onMicrotaskEmpty=new Do(!1);onStable=new Do(!1);onError=new Do(!1);constructor(fe){const{enableLongStackTrace:We=!1,shouldCoalesceEventChangeDetection:Mt=!1,shouldCoalesceRunChangeDetection:Qt=!1,scheduleInRootZone:In=hu}=fe;if(typeof Zone>"u")throw new p(908,!1);Zone.assertZonePatched();const Kn=this;Kn._nesting=0,Kn._outer=Kn._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(Kn._inner=Kn._inner.fork(new Zone.TaskTrackingZoneSpec)),We&&Zone.longStackTraceZoneSpec&&(Kn._inner=Kn._inner.fork(Zone.longStackTraceZoneSpec)),Kn.shouldCoalesceEventChangeDetection=!Qt&&Mt,Kn.shouldCoalesceRunChangeDetection=Qt,Kn.callbackScheduled=!1,Kn.scheduleInRootZone=In,function ba(g){const fe=()=>{!function Uc(g){function fe(){Bc(()=>{g.callbackScheduled=!1,To(g),g.isCheckStableRunning=!0,Da(g),g.isCheckStableRunning=!1})}g.isCheckStableRunning||g.callbackScheduled||(g.callbackScheduled=!0,g.scheduleInRootZone?Zone.root.run(()=>{fe()}):g._outer.run(()=>{fe()}),To(g))}(g)},We=gu++;g._inner=g._inner.fork({name:"angular",properties:{[pu]:!0,[mu]:We,[mu+We]:!0},onInvokeTask:(Mt,Qt,In,Kn,ci,Rr)=>{if(function yu(g){return Kc(g,"__ignore_ng_zone__")}(Rr))return Mt.invokeTask(In,Kn,ci,Rr);try{return os(g),Mt.invokeTask(In,Kn,ci,Rr)}finally{(g.shouldCoalesceEventChangeDetection&&"eventTask"===Kn.type||g.shouldCoalesceRunChangeDetection)&&fe(),Ca(g)}},onInvoke:(Mt,Qt,In,Kn,ci,Rr,Di)=>{try{return os(g),Mt.invoke(In,Kn,ci,Rr,Di)}finally{g.shouldCoalesceRunChangeDetection&&!g.callbackScheduled&&!function df(g){return Kc(g,"__scheduler_tick__")}(Rr)&&fe(),Ca(g)}},onHasTask:(Mt,Qt,In,Kn)=>{Mt.hasTask(In,Kn),Qt===In&&("microTask"==Kn.change?(g._hasPendingMicrotasks=Kn.microTask,To(g),Da(g)):"macroTask"==Kn.change&&(g.hasPendingMacrotasks=Kn.macroTask))},onHandleError:(Mt,Qt,In,Kn)=>(Mt.handleError(In,Kn),g.runOutsideAngular(()=>g.onError.emit(Kn)),!1)})}(Kn)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(pu)}static assertInAngularZone(){if(!fs.isInAngularZone())throw new p(909,!1)}static assertNotInAngularZone(){if(fs.isInAngularZone())throw new p(909,!1)}run(fe,We,Mt){return this._inner.run(fe,We,Mt)}runTask(fe,We,Mt,Qt){const In=this._inner,Kn=In.scheduleEventTask("NgZoneEvent: "+Qt,fe,jc,Us,Us);try{return In.runTask(Kn,We,Mt)}finally{In.cancelTask(Kn)}}runGuarded(fe,We,Mt){return this._inner.runGuarded(fe,We,Mt)}runOutsideAngular(fe){return this._outer.run(fe)}}const jc={};function Da(g){if(0==g._nesting&&!g.hasPendingMicrotasks&&!g.isStable)try{g._nesting++,g.onMicrotaskEmpty.emit(null)}finally{if(g._nesting--,!g.hasPendingMicrotasks)try{g.runOutsideAngular(()=>g.onStable.emit(null))}finally{g.isStable=!0}}}function To(g){g.hasPendingMicrotasks=!!(g._hasPendingMicrotasks||(g.shouldCoalesceEventChangeDetection||g.shouldCoalesceRunChangeDetection)&&!0===g.callbackScheduled)}function os(g){g._nesting++,g.isStable&&(g.isStable=!1,g.onUnstable.emit(null))}function Ca(g){g._nesting--,Da(g)}class _u{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Do;onMicrotaskEmpty=new Do;onStable=new Do;onError=new Do;run(fe,We,Mt){return fe.apply(We,Mt)}runGuarded(fe,We,Mt){return fe.apply(We,Mt)}runOutsideAngular(fe){return fe()}runTask(fe,We,Mt,Qt){return fe.apply(We,Mt)}}function Kc(g,fe){return!(!Array.isArray(g)||1!==g.length)&&!0===g[0]?.data?.[fe]}class vu{_console=console;handleError(fe){this._console.error("ERROR",fe)}}const hs=new Ge("",{factory:()=>{const g=hr(fs),fe=hr(zi);let We;return Mt=>{g.runOutsideAngular(()=>{fe.destroyed&&!We?setTimeout(()=>{throw Mt}):(We??=fe.get(vu),We.handleError(Mt))})}}}),Ma={provide:Je,useValue:()=>{hr(vu,{optional:!0})},multi:!0};function Vc(g,fe){const[We,Mt,Qt]=(0,u.n5)(g,fe?.equal),In=We;return In.set=Mt,In.update=Qt,In.asReadonly=Eu.bind(In),In}function Eu(){const g=this[u.bh];if(void 0===g.readonlyFn){const fe=()=>this();fe[u.bh]=g,g.readonlyFn=fe}return g.readonlyFn}function Hc(g,fe){if(null!==(0,u.nR)())throw new p(-602,!1)}let wa=(()=>class g{view;node;constructor(We,Mt){this.view=We,this.node=Mt}static __NG_ELEMENT_ID__=zc})();function zc(){return new wa(X(),Ae())}class Ks{}const Du=new Ge("",{factory:()=>!0}),Gc=new Ge("",{factory:()=>!1}),Qc=new Ge("");let bu=(()=>{class g{internalPendingTasks=hr(Ea);scheduler=hr(Ks);errorHandler=hr(hs);add(){const We=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(We)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(We))}}run(We){const Mt=this.add();We().catch(this.errorHandler).finally(Mt)}static \u0275prov=ae({token:g,providedIn:"root",factory:()=>new g})}return g})(),ps=(()=>{class g{static \u0275prov=ae({token:g,providedIn:"root",factory:()=>new Yc})}return g})();class Yc{dirtyEffectCount=0;queues=new Map;add(fe){this.enqueue(fe),this.schedule(fe)}schedule(fe){fe.dirty&&this.dirtyEffectCount++}remove(fe){const Mt=this.queues.get(fe.zone);Mt.has(fe)&&(Mt.delete(fe),fe.dirty&&this.dirtyEffectCount--)}enqueue(fe){const We=fe.zone;this.queues.has(We)||this.queues.set(We,new Set);const Mt=this.queues.get(We);Mt.has(fe)||Mt.add(fe)}flush(){for(;this.dirtyEffectCount>0;){let fe=!1;for(const[We,Mt]of this.queues)fe||=null===We?this.flushQueue(Mt):We.run(()=>this.flushQueue(Mt));fe||(this.dirtyEffectCount=0)}}flushQueue(fe){let We=!1;for(const Mt of fe)Mt.dirty&&(this.dirtyEffectCount--,We=!0,Mt.run());return We}}class Ws{[u.bh];constructor(fe){this[u.bh]=fe}destroy(){this[u.bh].destroy()}}function Xc(g,fe){const We=fe?.injector??hr(ls);let Qt,Mt=!0!==fe?.manualCleanup?We.get(ds):null;const In=We.get(wa,null,{optional:!0}),Kn=We.get(Ks);return null!==In?(Qt=function Mu(g,fe,We){const Mt=Object.create(Jc);return Mt.view=g,Mt.zone=typeof Zone<"u"?Zone.current:null,Mt.notifier=fe,Mt.fn=Ia(Mt,We),g[m]??=new Set,g[m].add(Mt),Mt.consumerMarkedDirty(Mt),Mt}(In.view,Kn,g),Mt instanceof fu&&Mt._lView===In.view&&(Mt=null)):Qt=function Sa(g,fe,We){const Mt=Object.create(Zc);return Mt.fn=Ia(Mt,g),Mt.scheduler=fe,Mt.notifier=We,Mt.zone=typeof Zone<"u"?Zone.current:null,Mt.scheduler.add(Mt),Mt.notifier.notify(12),Mt}(g,We.get(ps),Kn),Qt.injector=We,null!==Mt&&(Qt.onDestroyFns=[Mt.onDestroy(()=>Qt.destroy())]),new Ws(Qt)}const Cu={...u.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const g=_r(!1);try{(0,u.lh)(this)}finally{_r(g)}},cleanup(){if(!this.cleanupFns?.length)return;const g=(0,u.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,u.Ht)(g)}}},Zc={...Cu,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,u.XR)(this),null!==this.onDestroyFns)for(const g of this.onDestroyFns)g();this.cleanup(),this.scheduler.remove(this)}},Jc={...Cu,consumerMarkedDirty(){this.view[ui]|=8192,$o(this.view),this.notifier.notify(13)},destroy(){if((0,u.XR)(this),null!==this.onDestroyFns)for(const g of this.onDestroyFns)g();this.cleanup(),this.view[m]?.delete(this)}};function Ia(g,fe){return()=>{fe(We=>(g.cleanupFns??=[]).push(We))}}function Oa(g){return(0,u.O8)(g)}},457(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(6281),r=a(7085),d=a(9795),D=a(5309),$=a(3880),P=[u.default,r.default,(0,d.default)(),D.default,$.metadataVocabulary,$.contentVocabulary];E.default=P},467(ct,E,a){"use strict";function u(d,D,$,P,S,_,b){try{var W=d[_](b),C=W.value}catch(L){return void $(L)}W.done?D(C):Promise.resolve(C).then(P,S)}function r(d){return function(){var D=this,$=arguments;return new Promise(function(P,S){var _=d.apply(D,$);function b(C){u(_,P,S,b,W,"next",C)}function W(C){u(_,P,S,b,W,"throw",C)}b(void 0)})}}a.d(E,{A:()=>r})},570(ct,E,a){"use strict";a.d(E,{C5:()=>S,GU:()=>b,Gd:()=>O,Ig:()=>p,Jy:()=>T,MR:()=>L,NV:()=>W,Pp:()=>A,Q_:()=>C,TU:()=>q,WP:()=>U,XV:()=>P,fw:()=>$,fy:()=>I,jm:()=>D,oZ:()=>_});var u=a(7624),r=a(9820),d=a(4671);function D(Q){return(ue,ve,Oe)=>{const nt={unwrapArray:!0},ge=Math.max(1,ue.split(".").length-1);return xe=>{const He=(0,d.hd)(xe,ue,nt);return Q(He,ve,{...Oe,depth:ge})}}}function $(Q){return(ne,ue,ve)=>{const Oe=(0,u.px)(ne,ue,null,ve);return Q(...Oe)}}function P(Q,ne,ue){return!!((0,d.n4)(Q,ne)||(0,d.gD)(Q)&&(0,d.gD)(ne))||!!(0,d.cy)(Q)&&(Q.some(ve=>(0,d.n4)(ve,ne))||(0,d.Bq)(Q,ue?.depth).some(ve=>(0,d.n4)(ve,ne)))}function S(Q,ne,ue){return!P(Q,ne,ue)}function _(Q,ne,ue){return(0,d.gD)(Q)?ne.some(ve=>null===ve):(0,d.E$)([(0,d.eC)(Q),ne],ue?.hashFunction).length>0}function b(Q,ne,ue){return!_(Q,ne,ue)}function W(Q,ne,ue){return G(Q,ne,(ve,Oe)=>(0,d.UD)(ve,Oe)<0)}function C(Q,ne,ue){return G(Q,ne,(ve,Oe)=>(0,d.UD)(ve,Oe)<=0)}function L(Q,ne,ue){return G(Q,ne,(ve,Oe)=>(0,d.UD)(ve,Oe)>0)}function I(Q,ne,ue){return G(Q,ne,(ve,Oe)=>(0,d.UD)(ve,Oe)>=0)}function A(Q,ne,ue){return(0,d.eC)(Q).some(ve=>2===ne.length&&ve%ne[0]===ne[1])}function U(Q,ne,ue){const ve=(0,d.eC)(Q),Oe=nt=>(0,d.Kg)(nt)&&(0,d.vN)(ne.exec(nt),ue?.useStrictMode);return ve.some(Oe)||(0,d.Bq)(ve,1).some(Oe)}function O(Q,ne,ue){if(!((0,d.cy)(Q)&&(0,d.cy)(ne)&&Q.length&&ne.length))return!1;let ve=!0;for(const Oe of ne){if(!ve)break;ve=(0,d.Gv)(Oe)&&Object.keys(Oe).includes("$elemMatch")?T(Q,Oe.$elemMatch,ue):(0,d.gd)(Oe)?Q.some(nt=>"string"==typeof nt&&Oe.test(nt)):Q.some(nt=>(0,d.n4)(Oe,nt))}return ve}function p(Q,ne,ue){return Array.isArray(Q)&&Q.length===ne}function F(Q){return(0,d.Zo)(Q)&&-1===["$and","$or","$nor"].indexOf(Q)}function T(Q,ne,ue){if((0,d.cy)(Q)&&!(0,d.Im)(Q)){let ve=ge=>ge,Oe=ne;Object.keys(ne).every(F)&&(Oe={temp:ne},ve=ge=>({temp:ge}));const nt=new r.X(Oe,ue);for(let ge=0,xe=Q.length;ge<xe;ge++)if(nt.test(ve(Q[ge])))return!0}return!1}const M=Q=>null===Q,V={array:d.cy,boolean:d.Lm,bool:d.Lm,date:d.$P,number:d.Et,int:d.Et,long:d.Et,double:d.Et,decimal:d.Et,null:M,object:d.Gv,regexp:d.gd,regex:d.gd,string:d.Kg,undefined:d.gD,function:Q=>{throw new d.d8("unsupported type key `function`.")},1:d.Et,2:d.Kg,3:d.Gv,4:d.cy,6:d.gD,8:d.Lm,9:d.$P,10:M,11:d.gd,16:d.Et,18:d.Et,19:d.Et};function B(Q,ne,ue){const ve=V[ne];return!!ve&&ve(Q)}function q(Q,ne,ue){return(0,d.cy)(ne)?ne.findIndex(ve=>B(Q,ve))>=0:B(Q,ne)}function G(Q,ne,ue){return(0,d.eC)(Q).some(ve=>(0,d.QP)(ve)===(0,d.QP)(ne)&&ue(ve,ne))}},573(ct){var a,u,E=ct.exports={};function r(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function D(A){if(a===setTimeout)return setTimeout(A,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(A,0);try{return a(A,0)}catch{try{return a.call(null,A,0)}catch{return a.call(this,A,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:r}catch{a=r}try{u="function"==typeof clearTimeout?clearTimeout:d}catch{u=d}}();var _,P=[],S=!1,b=-1;function W(){!S||!_||(S=!1,_.length?P=_.concat(P):b=-1,P.length&&C())}function C(){if(!S){var A=D(W);S=!0;for(var U=P.length;U;){for(_=P,P=[];++b<U;)_&&_[b].run();b=-1,U=P.length}_=null,S=!1,function $(A){if(u===clearTimeout)return clearTimeout(A);if((u===d||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(A);try{return u(A)}catch{try{return u.call(null,A)}catch{return u.call(this,A)}}}(A)}}function L(A,U){this.fun=A,this.array=U}function I(){}E.nextTick=function(A){var U=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)U[O-1]=arguments[O];P.push(new L(A,U)),1===P.length&&!S&&D(C)},L.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=I,E.addListener=I,E.once=I,E.off=I,E.removeListener=I,E.removeAllListeners=I,E.emit=I,E.prependListener=I,E.prependOnceListener=I,E.listeners=function(A){return[]},E.binding=function(A){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(A){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},591(ct,E,a){"use strict";function u(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}a.d(E,{L:()=>u})},605(ct,E,a){"use strict";a.d(E,{Y:()=>d});var u=a(8839),r=a(1584);function d(D=0,$=u.E){return D<0&&(D=0),(0,r.O)(D,D,$)}},720(ct,E,a){"use strict";a.d(E,{L$:()=>$,Z2:()=>D,ky:()=>S,zs:()=>r});function r(C=10){for(var L="",I=0;I<C;I++)L+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random()));return L}function D(C){return(C+="").charAt(0).toUpperCase()+C.substr(1)}function $(C){for(;"."===C.charAt(0);)C=C.substr(1);for(;"."===C.slice(-1);)C=C.slice(0,-1);return C}function S(C){return!(!C.includes("/")&&!C.includes("\\"))}},722(ct,E,a){"use strict";a.d(E,{x:()=>r});var u=a(4671);const r=($,P,S)=>{if((0,u.Im)(P)||!(0,u.Gv)(P))return $;let _=u.UD;const b=S.collation;return(0,u.Gv)(b)&&(0,u.Kg)(b.locale)&&(_=function D($){const P={sensitivity:d[$.strength||3],caseFirst:"off"===$.caseFirst?"false":$.caseFirst||"false",numeric:$.numericOrdering||!1,ignorePunctuation:"shifted"===$.alternate};!0===($.caseLevel||!1)&&("base"===P.sensitivity&&(P.sensitivity="case"),"accent"===P.sensitivity&&(P.sensitivity="variant"));const S=new Intl.Collator($.locale,P);return(_,b)=>{if(!(0,u.Kg)(_)||!(0,u.Kg)(b))return(0,u.UD)(_,b);const W=S.compare(_,b);return W<0?-1:W>0?1:0}}(b)),$.transform(W=>{const C=Object.keys(P);for(const L of C.reverse()){const I=(0,u.$z)(W,O=>(0,u.hd)(O,L),S.hashFunction),A=Array.from(I.keys()).sort(_);-1===P[L]&&A.reverse();let U=0;for(const O of A)for(const p of I.get(O))W[U++]=p;(0,u.vA)(U==W.length,"bug: counter must match collection size.")}return W})},d={1:"base",2:"accent",3:"variant"}},738(ct,E,a){"use strict";a.d(E,{Gd:()=>r,Jy:()=>d,Ig:()=>D});var u=a(570);const r=(0,u.jm)(u.Gd),d=(0,u.jm)(u.Jy),D=(0,u.jm)(u.Ig)},742(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.validateKeywordUsage=E.validSchemaType=E.funcKeywordCode=E.macroKeywordCode=void 0;const u=a(5432),r=a(2682),d=a(2240),D=a(7511);function S(I){const{gen:A,data:U,it:O}=I;A.if(O.parentData,()=>A.assign(U,u._`${O.parentData}[${O.parentDataProperty}]`))}function W(I,A,U){if(void 0===U)throw new Error(`keyword "${A}" failed to compile`);return I.scopeValue("keyword","function"==typeof U?{ref:U}:{ref:U,code:(0,u.stringify)(U)})}E.macroKeywordCode=function $(I,A){const{gen:U,keyword:O,schema:p,parentSchema:F,it:T}=I,M=A.macro.call(T.self,p,F,T),V=W(U,O,M);!1!==T.opts.validateSchema&&T.self.validateSchema(M,!0);const B=U.name("valid");I.subschema({schema:M,schemaPath:u.nil,errSchemaPath:`${T.errSchemaPath}/${O}`,topSchemaRef:V,compositeRule:!0},B),I.pass(B,()=>I.error(!0))},E.funcKeywordCode=function P(I,A){var U;const{gen:O,keyword:p,schema:F,parentSchema:T,$data:M,it:V}=I;!function b({schemaEnv:I},A){if(A.async&&!I.$async)throw new Error("async keyword in sync schema")}(V,A);const B=!M&&A.compile?A.compile.call(V.self,F,T,V):A.validate,q=W(O,p,B),G=O.let("valid");function ve(nt=(A.async?u._`await `:u.nil)){O.assign(G,u._`${nt}${(0,d.callValidateCode)(I,q,V.opts.passContext?r.default.this:r.default.self,!("compile"in A&&!M||!1===A.schema))}`,A.modifying)}function Oe(nt){var ge;O.if((0,u.not)(null!==(ge=A.valid)&&void 0!==ge?ge:G),nt)}I.block$data(G,function Q(){if(!1===A.errors)ve(),A.modifying&&S(I),Oe(()=>I.error());else{const nt=A.async?function ne(){const nt=O.let("ruleErrs",null);return O.try(()=>ve(u._`await `),ge=>O.assign(G,!1).if(u._`${ge} instanceof ${V.ValidationError}`,()=>O.assign(nt,u._`${ge}.errors`),()=>O.throw(ge))),nt}():function ue(){const nt=u._`${q}.errors`;return O.assign(nt,null),ve(u.nil),nt}();A.modifying&&S(I),Oe(()=>function _(I,A){const{gen:U}=I;U.if(u._`Array.isArray(${A})`,()=>{U.assign(r.default.vErrors,u._`${r.default.vErrors} === null ? ${A} : ${r.default.vErrors}.concat(${A})`).assign(r.default.errors,u._`${r.default.vErrors}.length`),(0,D.extendErrors)(I)},()=>I.error())}(I,nt))}}),I.ok(null!==(U=A.valid)&&void 0!==U?U:G)},E.validSchemaType=function C(I,A,U=!1){return!A.length||A.some(O=>"array"===O?Array.isArray(I):"object"===O?I&&"object"==typeof I&&!Array.isArray(I):typeof I==O||U&&typeof I>"u")},E.validateKeywordUsage=function L({schema:I,opts:A,self:U,errSchemaPath:O},p,F){if(Array.isArray(p.keyword)?!p.keyword.includes(F):p.keyword!==F)throw new Error("ajv implementation error");const T=p.dependencies;if(T?.some(M=>!Object.prototype.hasOwnProperty.call(I,M)))throw new Error(`parent schema must have dependencies of ${F}: ${T.join(",")}`);if(p.validateSchema&&!p.validateSchema(I[F])){const V=`keyword "${F}" value is invalid at path "${O}": `+U.errorsText(p.validateSchema.errors);if("log"!==A.validateSchema)throw new Error(V);U.logger.error(V)}}},776(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432);E.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:D})=>u.str`must be multiple of ${D}`,params:({schemaCode:D})=>u._`{multipleOf: ${D}}`},code(D){const{gen:$,data:P,schemaCode:S,it:_}=D,b=_.opts.multipleOfPrecision,W=$.let("res"),C=b?u._`Math.abs(Math.round(${W}) - ${W}) > 1e-${b}`:u._`${W} !== parseInt(${W})`;D.fail$data(u._`(${S} === 0 || (${W} = ${P}/${S}, ${C}))`)}}},898(ct,E,a){"use strict";a.d(E,{SE:()=>Ie,o0:()=>se,mC:()=>Le,c5:()=>Xe,CU:()=>_e});var u=a(467),r=a(4412),d=a(1413),D=a(4843),$=a(4572),P=a(5964),S=a(1397),_=a(1885),b=a(6434),W=a(5520),C=a(8663),L=a(6893),I=a(2060),A=a(4552),U=a(6568);function O(K,De){return p.apply(this,arguments)}function p(){return(p=(0,u.A)(function*(K,De){var Te=(0,_.U)(K.input.metaInstance.schema,{isCheckpoint:"1",itemId:De}),j=(yield K.input.metaInstance.findDocumentsById([Te],!1))[0];if(K.lastCheckpointDoc[De]=j,j)return j.checkpointData})).apply(this,arguments)}function F(K,De,Te){return T.apply(this,arguments)}function T(){return(T=(0,u.A)(function*(K,De,Te){K.checkpointQueue=K.checkpointQueue.then((0,u.A)(function*(){var me=K.lastCheckpointDoc[De];if(Te&&!K.events.canceled.getValue()&&(!me||JSON.stringify(me.checkpointData)!==JSON.stringify(Te))){var j={id:"",isCheckpoint:"1",itemId:De,_deleted:!1,_attachments:{},checkpointData:Te,_meta:(0,I.o4)(),_rev:(0,I.Fq)()};for(j.id=(0,_.U)(K.input.metaInstance.schema,j);!K.events.canceled.getValue();){if(me&&(j.checkpointData=(0,L.Mu)([me.checkpointData,j.checkpointData])),j._meta.lwt=(0,A.t)(),j._rev=(0,U.CM)(yield K.checkpointKey,me),K.events.canceled.getValue())return;var te=[{previous:me,document:j}],Me=yield K.input.metaInstance.bulkWrite(te,"replication-set-checkpoint"),pe=(0,L.YN)(K.primaryPath,te,Me)[0];if(pe)return void(K.lastCheckpointDoc[De]=pe);var ae=Me.error[0];if(409!==ae.status)throw ae;me=(0,C.ZN)(ae.documentInDb),j._rev=(0,U.CM)(yield K.checkpointKey,me)}}})),yield K.checkpointQueue})).apply(this,arguments)}function V(){return(V=(0,u.A)(function*(K){return"rx_storage_replication_"+(yield K.hashFunction([K.identifier,K.forkInstance.databaseName,K.forkInstance.collectionName].join("||")))})).apply(this,arguments)}var B=a(4740),q=a(7176);function G(K,De,Te,me,j){var te=Object.assign({},me,{_attachments:De&&me._attachments?me._attachments:{},_meta:Te?me._meta:Object.assign({},j?j._meta:{},{lwt:(0,A.t)()}),_rev:Te?me._rev:(0,I.Fq)()});return te._rev||(te._rev=(0,U.CM)(K,j)),te}function Q(K,De,Te){var me=(0,b.FD)(K);return De||delete me._attachments,Te||(delete me._meta,delete me._rev),me}function ne(K,De){return K.hasAttachments?De.map(Te=>{var me=(0,b.o8)(Te.document);return me.docData=(0,L.on)(me.docData),{document:me,previous:Te.previous}}):De}function ue(K){for(;;){if(!K.underlyingPersistentStorage)return K;K=K.underlyingPersistentStorage}}var ve=a(7695);function nt(){return nt=(0,u.A)(function*(K){K.input.initialCheckpoint&&K.input.initialCheckpoint.downstream&&((yield O(K,"down"))||(yield F(K,"down",K.input.initialCheckpoint.downstream)));var Te=yield K.input.hashFunction(K.input.identifier),me=K.input.replicationHandler,j=0,te=[];function Me(ke){K.stats.down.addNewTask=K.stats.down.addNewTask+1;var ze={time:j++,task:ke};te.push(ze),K.streamQueue.down=K.streamQueue.down.then(()=>{for(var Ge=[];te.length>0;){K.events.active.down.next(!0);var Re=(0,C.ZN)(te.shift());if(!(Re.time<ae)){if("RESYNC"===Re.task){if(0===Ge.length){Ge.push(Re.task);break}break}Ge.push(Re.task)}}if(0!==Ge.length)return"RESYNC"===Ge[0]?function Ne(){return Ce.apply(this,arguments)}():function Ze(ke){K.stats.down.downstreamProcessChanges=K.stats.down.downstreamProcessChanges+1;var ze=[],Ge=null;return ke.forEach(Re=>{if("RESYNC"===Re)throw new Error("SNH");(0,q.Hb)(ze,Re.documents),Ge=(0,L.Mu)([Ge,Re.checkpoint])}),J(ze,(0,C.ZN)(Ge))}(Ge)}).then(()=>{K.events.active.down.next(!1),!K.firstSyncDone.down.getValue()&&!K.events.canceled.getValue()&&K.firstSyncDone.down.next(!0)})}if(Me("RESYNC"),!K.events.canceled.getValue()){var pe=me.masterChangeStream$.pipe((0,S.Z)(function(){var ke=(0,u.A)(function*(ze){return yield(0,D._)(K.events.active.up.pipe((0,P.p)(Ge=>!Ge))),ze});return function(ze){return ke.apply(this,arguments)}}())).subscribe(ke=>{K.stats.down.masterChangeStreamEmit=K.stats.down.masterChangeStreamEmit+1,Me(ke)});(0,D._)(K.events.canceled.pipe((0,P.p)(ke=>!!ke))).then(()=>pe.unsubscribe())}var ae=-1;function Ce(){return(Ce=(0,u.A)(function*(){if(K.stats.down.downstreamResyncOnce=K.stats.down.downstreamResyncOnce+1,!K.events.canceled.getValue()){K.checkpointQueue=K.checkpointQueue.then(()=>O(K,"down"));for(var ke=yield K.checkpointQueue,ze=[];!K.events.canceled.getValue();){ae=j++;var Ge=yield me.masterChangesSince(ke,K.input.pullBatchSize);if(0===Ge.documents.length||(ke=(0,L.Mu)([ke,Ge.checkpoint]),ze.push(J(Ge.documents,ke)),Ge.documents.length<K.input.pullBatchSize))break}yield Promise.all(ze)}})).apply(this,arguments)}var ot=W.em,k={docs:{}};function J(ke,ze){var Ge=K.primaryPath;return K.stats.down.persistFromMaster=K.stats.down.persistFromMaster+1,ke.forEach(Re=>{k.docs[Re[Ge]]=Re}),k.checkpoint=ze,ot=ot.then(()=>{var Re=k.docs;k.docs={};var Dt=k.checkpoint,at=Object.keys(Re);if(K.events.canceled.getValue()||0===at.length)return W.em;var Et=[],Vt={},Yt={},ut=[];return Promise.all([K.input.forkInstance.findDocumentsById(at,!0),(0,ve.qV)(K,at)]).then(([Bt,Ut])=>{var un=new Map;return Bt.forEach(Lt=>un.set(Lt[Ge],Lt)),Promise.all(at.map(function(){var Lt=(0,u.A)(function*(fn){var On=un.get(fn),xn=On?Q(On,K.hasAttachments,!1):void 0,Fn=Re[fn],Hn=Ut[fn];Hn&&On&&Hn.metaDocument.isResolvedConflict===On._rev&&(yield K.streamQueue.up);var Xn=!(!Hn||!xn)&&K.input.conflictHandler.isEqual(Hn.docData,xn,"downstream-check-if-equal-0");if(!Xn&&Hn&&Hn.docData._rev&&On&&On._meta[K.input.identifier]&&(0,U.Wg)(On._rev)===On._meta[K.input.identifier]&&(Xn=!0),On&&Hn&&!1===Xn||On&&!Hn)return W.em;var mt=!!xn&&K.input.conflictHandler.isEqual(Fn,xn,"downstream-check-if-equal-1");if(xn&&mt)return(!Hn||!1===Xn)&&ut.push(yield(0,ve.FR)(K,xn,Hn?Hn.metaDocument:void 0)),W.em;var kt=Object.assign({},Fn,On?{_meta:(0,b.FD)(On._meta),_attachments:K.hasAttachments&&Fn._attachments?Fn._attachments:{},_rev:(0,I.Fq)()}:{_meta:{lwt:(0,A.t)()},_rev:(0,I.Fq)(),_attachments:K.hasAttachments&&Fn._attachments?Fn._attachments:{}});if(Fn._rev){var rn=On?(0,U.Wg)(On._rev)+1:1;kt._meta[K.input.identifier]=rn,K.input.keepMeta&&(kt._rev=Fn._rev)}K.input.keepMeta&&Fn._meta&&(kt._meta=Fn._meta);var on={previous:On,document:kt};on.document._rev=on.document._rev?on.document._rev:(0,U.CM)(Te,on.previous),Et.push(on),Vt[fn]=on,Yt[fn]=yield(0,ve.FR)(K,Fn,Hn?Hn.metaDocument:void 0)});return function(fn){return Lt.apply(this,arguments)}}()))}).then((0,u.A)(function*(){if(Et.length>0)return K.input.forkInstance.bulkWrite(Et,yield K.downstreamBulkWriteFlag).then(Bt=>{var un;if((0,L.YN)(K.primaryPath,Et,Bt).forEach(Lt=>{var fn=Lt[Ge];K.events.processed.down.next(Vt[fn]),ut.push(Yt[fn])}),Bt.error.forEach(Lt=>{if(409!==Lt.status){var fn=(0,B.Br)("RC_PULL",{writeError:Lt});K.events.error.next(fn),un=fn}}),un)throw un})})).then(()=>{if(ut.length>0)return K.input.metaInstance.bulkWrite(ne(K,ut),"replication-down-write-meta").then(Bt=>{Bt.error.forEach(Ut=>{K.events.error.next((0,B.Br)("RC_PULL",{id:Ut.documentId,writeError:Ut}))})})}).then(()=>{F(K,"down",Dt)})}).catch(Re=>K.events.error.next(Re)),ot}}),nt.apply(this,arguments)}function xe(){return(xe=(0,u.A)(function*(K,De,Te){var me=K.input.conflictHandler;if(!me.isEqual(De.realMasterState,De.newDocumentState,"replication-resolve-conflict")){var te=yield me.resolve(De,"replication-resolve-conflict"),Me=Object.assign({},te,{_meta:(0,b.FD)(Te._meta),_rev:(0,I.Fq)(),_attachments:(0,b.FD)(Te._attachments)});return Me._meta.lwt=(0,A.t)(),Me._rev=(0,U.CM)(yield K.checkpointKey,Te),Me}})).apply(this,arguments)}var He=a(1948);function Ke(){return Ke=(0,u.A)(function*(K){K.input.initialCheckpoint&&K.input.initialCheckpoint.upstream&&((yield O(K,"up"))||(yield F(K,"up",K.input.initialCheckpoint.upstream)));var Te=K.input.replicationHandler;K.streamQueue.up=K.streamQueue.up.then(()=>Ce().then(()=>ot()));var me=0,j=-1,te=[],Me=W.Dr,pe={docs:{}},ae=K.input.forkInstance.changeStream().subscribe(J=>{if(!K.events.paused.getValue())return K.stats.up.forkChangeStreamEmit=K.stats.up.forkChangeStreamEmit+1,te.push({task:J,time:me++}),K.events.active.up.getValue()||K.events.active.up.next(!0),K.input.waitBeforePersist?K.input.waitBeforePersist().then(()=>ot()):ot()}),Ne=Te.masterChangeStream$.pipe((0,P.p)(J=>"RESYNC"===J)).subscribe(()=>{te.push({task:"RESYNC",time:me++}),ot()});function Ce(){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,u.A)(function*(){if(K.stats.up.upstreamInitialSync=K.stats.up.upstreamInitialSync+1,!K.events.canceled.getValue()){K.checkpointQueue=K.checkpointQueue.then(()=>O(K,"up"));for(var J=yield K.checkpointQueue,ke=new Set,ze=function(){var Dt=(0,u.A)(function*(){j=me++,ke.size>3&&(yield Promise.race(Array.from(ke)));var at=yield(0,L.p0)(K.input.forkInstance,K.input.pushBatchSize,J);if(0===at.documents.length)return 1;J=(0,L.Mu)([J,at.checkpoint]);var Et=k(at.documents,(0,C.ZN)(J));ke.add(Et),Et.catch().then(()=>ke.delete(Et))});return function(){return Dt.apply(this,arguments)}}();!K.events.canceled.getValue()&&!(yield ze()););(yield Promise.all(ke)).find(Dt=>!!Dt)?yield Ce():!K.firstSyncDone.up.getValue()&&!K.events.canceled.getValue()&&K.firstSyncDone.up.next(!0)}}),Ze.apply(this,arguments)}function ot(){K.events.canceled.getValue()||0===te.length?K.events.active.up.next(!1):(K.stats.up.processTasks=K.stats.up.processTasks+1,K.events.active.up.next(!0),K.streamQueue.up=K.streamQueue.up.then((0,u.A)(function*(){for(var ke,J=[];te.length>0;){var ze=(0,C.ZN)(te.shift());if(!(ze.time<j)){if("RESYNC"===ze.task)return K.events.active.up.next(!1),void(yield Ce());ze.task.context!==(yield K.downstreamBulkWriteFlag)&&(0,q.Hb)(J,ze.task.events.map(Ge=>Ge.documentData)),ke=(0,L.Mu)([ke,ze.task.checkpoint])}}if(yield k(J,ke),0!==te.length)return ot();K.events.active.up.next(!1)})))}function k(J,ke){return K.stats.up.persistToMaster=K.stats.up.persistToMaster+1,J.forEach(ze=>{pe.docs[ze[K.primaryPath]]=ze}),pe.checkpoint=ke,Me=Me.then((0,u.A)(function*(){if(K.events.canceled.getValue())return!1;var ze=pe.docs;pe.docs={};var Ge=pe.checkpoint,Re=Object.keys(ze);function Dt(){return F(K,"up",Ge)}if(0===Re.length)return Dt(),!1;var at=yield(0,ve.qV)(K,Re),Et={},Vt=[],Yt={},ut={};if(yield Promise.all(Re.map(function(){var rn=(0,u.A)(function*(on){var _n=ze[on];ut[on]=_n;var sn=Q(_n,K.hasAttachments,!!K.input.keepMeta),gn=at[on];gn&&gn.metaDocument.isResolvedConflict!==_n._rev&&K.input.conflictHandler.isEqual(gn.docData,sn,"upstream-check-if-equal")||gn&&gn.docData._rev&&(0,U.Wg)(_n._rev)===_n._meta[K.input.identifier]||(Vt.push(on),Et[on]={assumedMasterState:gn?gn.docData:void 0,newDocumentState:sn},Yt[on]=yield(0,ve.FR)(K,sn,gn?gn.metaDocument:void 0))});return function(on){return rn.apply(this,arguments)}}())),0===Vt.length)return Dt(),!1;var Bt=Object.values(Et),Ut=new Set,un={},Lt=(0,q.Aj)(Bt,K.input.pushBatchSize);yield Promise.all(Lt.map(function(){var rn=(0,u.A)(function*(on){K.hasAttachments&&(yield Promise.all(on.map(function(){var sn=(0,u.A)(function*(gn){gn.newDocumentState=yield(0,He.M9)(K.primaryPath,K.input.forkInstance,(0,b.o8)(gn.newDocumentState),gn.assumedMasterState)});return function(gn){return sn.apply(this,arguments)}}()))),(yield Te.masterWrite(on)).forEach(sn=>{var gn=sn[K.primaryPath];Ut.add(gn),un[gn]=sn})});return function(on){return rn.apply(this,arguments)}}()));var fn=[];if(Vt.forEach(rn=>{Ut.has(rn)||(K.events.processed.up.next(Et[rn]),fn.push(Yt[rn]))}),K.events.canceled.getValue())return!1;fn.length>0&&(yield K.input.metaInstance.bulkWrite(ne(K,fn),"replication-up-write-meta"));var On=!1;if(Ut.size>0){K.stats.up.persistToMasterHadConflicts=K.stats.up.persistToMasterHadConflicts+1;var xn=[],Fn={};if(yield Promise.all(Object.entries(un).map(([rn,on])=>{var _n=Et[rn],sn={newDocumentState:_n.newDocumentState,assumedMasterState:_n.assumedMasterState,realMasterState:on};return function ge(K,De,Te){return xe.apply(this,arguments)}(K,sn,ut[rn]).then(function(){var gn=(0,u.A)(function*(Ir){if(Ir){K.events.resolvedConflicts.next({input:sn,output:Ir}),xn.push({previous:ut[rn],document:Ir});var fr=at[rn];Fn[rn]=yield(0,ve.FR)(K,(0,C.ZN)(on),fr?fr.metaDocument:void 0,Ir._rev)}});return function(Ir){return gn.apply(this,arguments)}}())})),xn.length>0){On=!0,K.stats.up.persistToMasterConflictWrites=K.stats.up.persistToMasterConflictWrites+1;var Xn,Hn=yield K.input.forkInstance.bulkWrite(xn,"replication-up-write-conflict");if(Hn.error.forEach(rn=>{if(409!==rn.status){var on=(0,B.Br)("RC_PUSH",{writeError:rn});K.events.error.next(on),Xn=on}}),Xn)throw Xn;var mt=[];(0,L.YN)(K.primaryPath,xn,Hn).forEach(rn=>{mt.push(Fn[rn[K.primaryPath]])}),mt.length>0&&(yield K.input.metaInstance.bulkWrite(ne(K,mt),"replication-up-write-conflict-meta"))}}return Dt(),On})).catch(ze=>(K.events.error.next(ze),!1)),Me}(0,D._)(K.events.canceled.pipe((0,P.p)(J=>!!J))).then(()=>{ae.unsubscribe(),Ne.unsubscribe()})}),Ke.apply(this,arguments)}function Xe(K){(K=(0,b.FD)(K)).forkInstance=ue(K.forkInstance),K.metaInstance=ue(K.metaInstance);var De=function M(K){return V.apply(this,arguments)}(K),Te={primaryPath:(0,_.xQ)(K.forkInstance.schema.primaryKey),hasAttachments:!!K.forkInstance.schema.attachments,input:K,checkpointKey:De,downstreamBulkWriteFlag:De.then(me=>"replication-downstream-"+me),events:{canceled:new r.t(!1),paused:new r.t(!1),active:{down:new r.t(!0),up:new r.t(!0)},processed:{down:new d.B,up:new d.B},resolvedConflicts:new d.B,error:new d.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new r.t(!1),up:new r.t(!1)},streamQueue:{down:W.em,up:W.em},checkpointQueue:W.em,lastCheckpointDoc:{}};return function Oe(K){nt.apply(this,arguments)}(Te),function et(K){Ke.apply(this,arguments)}(Te),Te}function Ie(K){return(0,D._)((0,$.z)([K.firstSyncDone.down.pipe((0,P.p)(De=>!!De)),K.firstSyncDone.up.pipe((0,P.p)(De=>!!De))])).then(()=>{})}function se(K){return Promise.all([K.streamQueue.up,K.streamQueue.down,K.checkpointQueue])}function _e(K,De,Te,me=!1){var j=!!(K=ue(K)).schema.attachments,te=(0,_.xQ)(K.schema.primaryKey),Me={masterChangeStream$:K.changeStream().pipe((0,S.Z)(function(){var pe=(0,u.A)(function*(ae){var Ne={checkpoint:ae.checkpoint,documents:yield Promise.all(ae.events.map(function(){var Ce=(0,u.A)(function*(Ze){var ot=Q(Ze.documentData,j,me);return j&&(ot=yield(0,He.M9)(te,K,(0,b.o8)(ot),void 0)),ot});return function(Ze){return Ce.apply(this,arguments)}}()))};return Ne});return function(ae){return pe.apply(this,arguments)}}())),masterChangesSince:(pe,ae)=>(0,L.p0)(K,ae,pe).then(function(){var Ne=(0,u.A)(function*(Ce){return{checkpoint:Ce.documents.length>0?Ce.checkpoint:pe,documents:yield Promise.all(Ce.documents.map(function(){var Ze=(0,u.A)(function*(ot){var k=Q(ot,j,me);return j&&(k=yield(0,He.M9)(te,K,(0,b.o8)(k),void 0)),k});return function(ot){return Ze.apply(this,arguments)}}()))}});return function(Ce){return Ne.apply(this,arguments)}}()),masterWrite:pe=>(0,u.A)(function*(){var ae={};pe.forEach(ke=>{ae[ke.newDocumentState[te]]=ke});var Ne=Object.keys(ae),Ce=yield K.findDocumentsById(Ne,!0),Ze=new Map;Ce.forEach(ke=>Ze.set(ke[te],ke));var ot=[],k=[];return yield Promise.all(Object.entries(ae).map(([ke,ze])=>{var Ge=Ze.get(ke);Ge?Ge&&!ze.assumedMasterState?ot.push(Q(Ge,j,me)):!0===De.isEqual(Q(Ge,j,me),(0,C.ZN)(ze.assumedMasterState),"rxStorageInstanceToReplicationHandler-masterWrite")?k.push({previous:Ge,document:G(Te,j,me,ze.newDocumentState,Ge)}):ot.push(Q(Ge,j,me)):k.push({document:G(Te,j,me,ze.newDocumentState)})})),k.length>0&&(yield K.bulkWrite(k,"replication-master-write")).error.forEach(ke=>{if(409!==ke.status)throw(0,B.Br)("SNH",{name:"non conflict error",error:ke});ot.push(Q((0,C.ZN)(ke.documentInDb),j,me))}),ot})()};return Me}function Le(K){return st.apply(this,arguments)}function st(){return(st=(0,u.A)(function*(K){K.events.canceled.next(!0),K.events.active.up.complete(),K.events.active.down.complete(),K.events.processed.up.complete(),K.events.processed.down.complete(),K.events.resolvedConflicts.complete(),K.events.canceled.complete(),yield K.checkpointQueue})).apply(this,arguments)}},983(ct,E,a){"use strict";a.d(E,{w:()=>r});const r=new(a(1985).c)($=>$.complete())},997(ct,E,a){"use strict";a.d(E,{Cf:()=>S,OK:()=>$,g0:()=>D,sk:()=>P});var u=a(7176),r=a(4740),d=a(1885),D="\uffff",$=Number.MIN_SAFE_INTEGER;function P(I,A){var U=A.selector,O=I.indexes?I.indexes.slice(0):[];A.index&&(O=[A.index]);var p=!!A.sort.find(q=>"desc"===Object.values(q)[0]),F=new Set;Object.keys(U).forEach(q=>{var G=(0,d.nT)(I,q);G&&"boolean"===G.type&&Object.prototype.hasOwnProperty.call(U[q],"$eq")&&F.add(q)});var B,M=A.sort.map(q=>Object.keys(q)[0]).filter(q=>!F.has(q)).join(","),V=-1;if(O.forEach(q=>{var G=!0,Q=!0,ne=q.map(ge=>{var xe=U[ge],He=xe?Object.keys(xe):[],et={};return xe&&He.length?He.forEach(Xe=>{if(S.has(Xe)){var se=function C(I,A){switch(I){case"$eq":return{startKey:A,endKey:A,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:A,inclusiveEnd:!0};case"$gte":return{startKey:A,inclusiveStart:!0};case"$lt":return{endKey:A,inclusiveEnd:!1};case"$gt":return{startKey:A,inclusiveStart:!1};default:throw new Error("SNH")}}(Xe,xe[Xe]);et=Object.assign(et,se)}}):et={startKey:Q?$:D,endKey:G?D:$,inclusiveStart:!0,inclusiveEnd:!0},typeof et.startKey>"u"&&(et.startKey=$),typeof et.endKey>"u"&&(et.endKey=D),typeof et.inclusiveStart>"u"&&(et.inclusiveStart=!0),typeof et.inclusiveEnd>"u"&&(et.inclusiveEnd=!0),Q&&!et.inclusiveStart&&(Q=!1),G&&!et.inclusiveEnd&&(G=!1),et}),ue=ne.map(ge=>ge.startKey),ve=ne.map(ge=>ge.endKey),Oe={index:q,startKeys:ue,endKeys:ve,inclusiveEnd:G,inclusiveStart:Q,sortSatisfiedByIndex:!p&&M===q.filter(ge=>!F.has(ge)).join(","),selectorSatisfiedByIndex:W(q,A.selector,ue,ve)},nt=function L(I,A,U){var O=0,p=q=>{q>0&&(O+=q)},T=(0,u.Sd)(U.startKeys,q=>q!==$&&q!==D);p(10*T);var M=(0,u.Sd)(U.startKeys,q=>q!==D&&q!==$);p(10*M);var V=(0,u.Sd)(U.startKeys,(q,G)=>q===U.endKeys[G]);return p(10*V*1.5),p(U.sortSatisfiedByIndex?5:0),O}(0,0,Oe);(nt>=V||A.index)&&(V=nt,B=Oe)}),!B)throw(0,r.Br)("SNH",{query:A});return B}var S=new Set(["$eq","$gt","$gte","$lt","$lte"]),_=new Set(["$eq","$gt","$gte"]),b=new Set(["$eq","$lt","$lte"]);function W(I,A,U,O){if(Object.entries(A).find(([Xe,Ie])=>!I.includes(Xe)||Object.entries(Ie).find(([ce,Y])=>!S.has(ce)))||A.$and||A.$or)return!1;var T=[],M=new Set;for(var[V,B]of Object.entries(A)){if(!I.includes(V))return!1;var q=Object.keys(B).filter(Xe=>_.has(Xe));if(q.length>1)return!1;var G=q[0];if(G&&M.add(V),"$eq"!==G){if(T.length>0)return!1;T.push(G)}}var Q=[],ne=new Set;for(var[ue,ve]of Object.entries(A)){if(!I.includes(ue))return!1;var Oe=Object.keys(ve).filter(Xe=>b.has(Xe));if(Oe.length>1)return!1;var nt=Oe[0];if(nt&&ne.add(ue),"$eq"!==nt){if(Q.length>0)return!1;Q.push(nt)}}var ge=0;for(var xe of I){for(var He of[M,ne]){if(!He.has(xe)&&He.size>0)return!1;He.delete(xe)}if(U[ge]!==O[ge]&&M.size>0&&ne.size>0)return!1;ge++}return!0}},1026(ct,E,a){"use strict";a.d(E,{$:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1064(ct,E){"use strict";function u(d,D){return D.rules.some($=>r(d,$))}function r(d,D){var $;return void 0!==d[D.keyword]||(null===($=D.definition.implements)||void 0===$?void 0:$.some(P=>void 0!==d[P]))}Object.defineProperty(E,"__esModule",{value:!0}),E.shouldUseRule=E.shouldUseGroup=E.schemaHasRulesForType=void 0,E.schemaHasRulesForType=function a({schema:d,self:D},$){const P=D.RULES.types[$];return P&&!0!==P&&u(d,P)},E.shouldUseGroup=u,E.shouldUseRule=r},1176(ct,E,a){"use strict";a.d(E,{HJ:()=>Me});var u=a(6893),r=a(6052),d=a(467),D=a(1413),$=a(1885),P=a(6434),S=a(8663),_=a(997);function W(pe,ae){var Ne=function b(pe,ae){return ae.map(Ce=>{var Ze=(0,$.nT)(pe,Ce);if(!Ze)throw new Error("not in schema: "+Ce);var k,ot=Ze.type;("number"===ot||"integer"===ot)&&(k=C(Ze));var ze,J=(0,P.SQ)(Ce),ke=Ze.maxLength?Ze.maxLength:0;return ze="string"===ot?Re=>{var Dt=J(Re);return Dt||(Dt=""),Dt.padEnd(ke," ")}:"boolean"===ot?Re=>J(Re)?"1":"0":Re=>{var Dt=J(Re);return A(k,Dt)},{fieldName:Ce,schemaPart:Ze,parsedLengths:k,getValue:J,getIndexStringPart:ze}})}(pe,ae),Ce=Ne.length,Ze=Ne.map(k=>k.getIndexStringPart);return function(k){for(var J="",ke=0;ke<Ce;++ke)J+=Ze[ke](k);return J}}function C(pe){var ae=Math.floor(pe.minimum),Ne=Math.ceil(pe.maximum),Ce=pe.multipleOf,ot=(Ne-ae).toString().length,k=Ce.toString().split("."),J=0;return k.length>1&&(J=k[1].length),{minimum:ae,maximum:Ne,nonDecimals:ot,decimals:J,roundedMinimum:ae}}function A(pe,ae){typeof ae>"u"&&(ae=0),ae<pe.minimum&&(ae=pe.minimum),ae>pe.maximum&&(ae=pe.maximum);var Ce=(Math.floor(ae)-pe.roundedMinimum).toString().padStart(pe.nonDecimals,"0");if(pe.decimals>0){var Ze=ae.toString().split(".");Ce+=(Ze.length>1?Ze[1]:"0").padEnd(pe.decimals,"0")}return Ce}function U(pe,ae,Ne){var Ce="";return ae.forEach((Ze,ot)=>{var k=(0,$.nT)(pe,Ze),J=Ne[ot],ke=k.type;switch(ke){case"string":var ze=(0,S.ZN)(k.maxLength,"maxLength not set");Ce+="string"==typeof J?J.padEnd(ze," "):"".padEnd(ze," ");break;case"boolean":Ce+=null===J||J===_.OK?"0":J===_.g0||J?"1":"0";break;case"number":case"integer":var Re=C(k);if(null===J||J===_.OK)Ce+="0".repeat(Re.nonDecimals+Re.decimals);else if(J===_.g0)Ce+=A(Re,Re.maximum);else{var at=A(Re,J);Ce+=at}break;default:throw new Error("unknown index type "+ke)}}),Ce}var F=a(5520),T=a(4552),M=a(720),V=a(6636);function B(pe,ae,Ne,Ce,Ze){for(var ot=Ze+1;Ce<=Ze;){var k=Ce+Ze>>>1,J=pe[k];(void 0!==Ne?Ne(J,ae):J-ae)>=0?(ot=k,Ze=k-1):Ce=k+1}return ot}function q(pe,ae,Ne,Ce,Ze){for(var ot=Ze+1;Ce<=Ze;){var k=Ce+Ze>>>1,J=pe[k];(void 0!==Ne?Ne(J,ae):J-ae)>0?(ot=k,Ze=k-1):Ce=k+1}return ot}function G(pe,ae,Ne,Ce,Ze){for(var ot=Ce-1;Ce<=Ze;){var k=Ce+Ze>>>1,J=pe[k];(void 0!==Ne?Ne(J,ae):J-ae)<0?(ot=k,Ce=k+1):Ze=k-1}return ot}function Q(pe,ae,Ne,Ce,Ze){for(var ot=Ce-1;Ce<=Ze;){var k=Ce+Ze>>>1,J=pe[k];(void 0!==Ne?Ne(J,ae):J-ae)<=0?(ot=k,Ce=k+1):Ze=k-1}return ot}function ne(pe,ae,Ne,Ce,Ze){for(;Ce<=Ze;){var ot=Ce+Ze>>>1,k=pe[ot],J=void 0!==Ne?Ne(k,ae):k-ae;if(0===J)return ot;J<=0?Ce=ot+1:Ze=ot-1}return-1}function ue(pe,ae,Ne,Ce,Ze,ot){return ot(pe,ae,Ne,void 0===Ce?0:0|Ce,void 0===Ze?pe.length-1:0|Ze)}function ve(pe,ae,Ne,Ce,Ze){return ue(pe,ae,Ne,Ce,Ze,B)}function Oe(pe,ae,Ne,Ce,Ze){return ue(pe,ae,Ne,Ce,Ze,q)}function nt(pe,ae,Ne,Ce,Ze){return ue(pe,ae,Ne,Ce,Ze,G)}function ge(pe,ae,Ne,Ce,Ze){return ue(pe,ae,Ne,Ce,Ze,Q)}function xe(pe,ae,Ne,Ce,Ze){return ue(pe,ae,Ne,Ce,Ze,ne)}var He=a(3659),et=a(4740);function Ke(pe,ae,Ne){return[pe,ae,Ne].join("--memory--")}function Xe(pe){if(pe.internals.removed)throw new Error("removed already "+pe.databaseName+" - "+pe.collectionName+" - "+pe.schema.version)}function Ie(pe,ae){return pe+"||"+ae}function se(pe,ae){return pe[0]<ae[0]?-1:1}function ce(pe,ae,Ne,Ce,Ze){ae.documents.set(pe,Ce);for(var ot=0;ot<Ne.length;++ot){var k=Ne[ot],J=k.docsWithIndex,ke=k.getIndexableString,ze=ke(Ce),Ge=(0,He.t)(J,[ze,Ce,pe],se,0);if(Ze){var Re=ke(Ze);if(Re===ze){var Dt=J[Ge-1];if(Dt&&Dt[2]===pe)J.splice(Ge-1,1);else{if(J[Ge+1][2]!==pe)throw(0,et.Br)("SNH",{document:Ce,args:{byIndex:k}});J.splice(Ge+1,1)}}else{var Et=xe(J,[Re],_e);J.splice(Et,1)}}}}function Y(pe,ae,Ne,Ce){Ne.documents.delete(Ce[pe]),Object.values(Ne.byIndex).forEach(ot=>{var k=ot.docsWithIndex,ke=xe(k,[ot.getIndexableString(Ce)],_e);k.splice(ke,1)})}function _e(pe,ae){var Ne=pe[0],Ce=ae[0];return Ne<Ce?-1:Ne===Ce?0:1}var Le=a(7176);function K(pe){return pe.join(",")}var De=a(6362),Te=new Set,me=function(){function pe(Ne,Ce,Ze,ot,k,J,ke,ze){this.closed=!1,this.categorizedByWriteInput=new WeakMap,this.storage=Ne,this.databaseName=Ce,this.collectionName=Ze,this.schema=ot,this.internals=k,this.options=J,this.settings=ke,this.devMode=ze,Te.add(this),this.primaryPath=(0,$.xQ)(this.schema.primaryKey)}var ae=pe.prototype;return ae.bulkWrite=function(Ce,Ze){this.ensurePersistence(),Xe(this);var ot=this.internals,J=this.primaryPath,ke=(0,u.gi)(this,J,this.internals.documents,Ce,Ze),Ge=Promise.resolve({error:ke.errors});if(this.categorizedByWriteInput.set(Ce,ke),this.internals.ensurePersistenceTask=ke,this.internals.ensurePersistenceIdlePromise||(this.internals.ensurePersistenceIdlePromise=(0,F.vN)().then(()=>{this.internals.ensurePersistenceIdlePromise=void 0,this.ensurePersistence()})),ke.eventBulk.events.length>0){var Re=(0,S.ZN)(ke.newestRow).document;ke.eventBulk.checkpoint={id:Re[J],lwt:Re._meta.lwt},ot.changes$.next(ke.eventBulk)}return Ge},ae.ensurePersistence=function(){if(this.internals.ensurePersistenceTask){var Ce=this.internals,Ze=this.internals.documents,ot=this.primaryPath,k=this.internals.ensurePersistenceTask;this.internals.ensurePersistenceTask=void 0;for(var J=Object.values(this.internals.byIndex),ke=k.bulkInsertDocs,ze=0;ze<ke.length;++ze){var Re=ke[ze].document;ce(Re[ot],Ce,J,Re,void 0)}for(var at=k.bulkUpdateDocs,Et=0;Et<at.length;++Et){var Yt=at[Et].document,ut=Yt[ot];ce(ut,Ce,J,Yt,Ze.get(ut))}if(this.schema.attachments){var Bt=Ce.attachments;k.attachmentsAdd.forEach(Ut=>{Bt.set(Ie(Ut.documentId,Ut.attachmentId),{writeData:Ut.attachmentData,digest:Ut.digest})}),this.schema.attachments&&(k.attachmentsUpdate.forEach(Ut=>{Bt.set(Ie(Ut.documentId,Ut.attachmentId),{writeData:Ut.attachmentData,digest:Ut.digest})}),k.attachmentsRemove.forEach(Ut=>{Bt.delete(Ie(Ut.documentId,Ut.attachmentId))}))}}},ae.findDocumentsById=function(Ce,Ze){this.ensurePersistence();var ot=this.internals.documents,k=[];if(0===ot.size)return Promise.resolve(k);for(var J=0;J<Ce.length;++J){var ze=ot.get(Ce[J]);ze&&(!ze._deleted||Ze)&&k.push(ze)}return Promise.resolve(k)},ae.query=function(Ce){this.ensurePersistence();var Ze=Ce.queryPlan,ot=Ce.query,k=ot.skip?ot.skip:0,ke=k+(ot.limit?ot.limit:1/0),ze=!1;Ze.selectorSatisfiedByIndex||(ze=(0,De.Lr)(this.schema,Ce.query));var Re=!Ze.sortSatisfiedByIndex,Dt=Ze.index,Et=U(this.schema,Dt,Ze.startKeys),Yt=function O(pe,ae,Ne){var Ce="";return ae.forEach((Ze,ot)=>{var k=(0,$.nT)(pe,Ze),J=Ne[ot],ke=k.type;switch(ke){case"string":var ze=(0,S.ZN)(k.maxLength,"maxLength not set");Ce+="string"==typeof J&&J!==_.g0?J.padEnd(ze," "):"".padEnd(ze,J===_.OK?" ":_.g0);break;case"boolean":Ce+=null===J||J?"1":"0";break;case"number":case"integer":var Re=C(k);Ce+=null===J||J===_.g0?"9".repeat(Re.nonDecimals+Re.decimals):J===_.OK?"0".repeat(Re.nonDecimals+Re.decimals):A(Re,J);break;default:throw new Error("unknown index type "+ke)}}),Ce}(this.schema,Dt,Ze.endKeys),ut=K(Dt);if(!this.internals.byIndex[ut])throw new Error("index does not exist "+ut);for(var Bt=this.internals.byIndex[ut].docsWithIndex,Ut=(Ze.inclusiveStart?ve:Oe)(Bt,[Et],_e),un=(Ze.inclusiveEnd?ge:nt)(Bt,[Yt],_e),Lt=[],fn=!1;!fn;){var On=Bt[Ut];if(!On||Ut>un)break;var xn=On[1];(!ze||ze(xn))&&Lt.push(xn),Lt.length>=ke&&!Re&&(fn=!0),Ut++}if(Re){var Fn=(0,De.Xw)(this.schema,Ce.query);Lt=Lt.sort(Fn)}return Lt=Lt.slice(k,ke),Promise.resolve({documents:Lt})},ae.count=function(){var Ne=(0,d.A)(function*(Ze){return this.ensurePersistence(),{count:(yield this.query(Ze)).documents.length,mode:"fast"}});return function Ce(Ze){return Ne.apply(this,arguments)}}(),ae.cleanup=function(Ce){this.ensurePersistence();for(var Ze=(0,T.t)()-Ce,ot=["_deleted","_meta.lwt",this.primaryPath],k=K(ot),J=this.internals.byIndex[k].docsWithIndex,ze=Oe(J,[U(this.schema,ot,[!0,0,""])],_e),Ge=!1;!Ge;){var Re=J[ze];!Re||Re[1]._meta.lwt>Ze?Ge=!0:(Y(this.primaryPath,0,this.internals,Re[1]),ze++)}return F.Ms},ae.getAttachmentData=function(Ce,Ze,ot){this.ensurePersistence(),Xe(this);var k=Ie(Ce,Ze),J=this.internals.attachments.get(k);if(!ot||!J||J.digest!==ot)throw new Error("attachment does not exist: "+k);return Promise.resolve(J.writeData.data)},ae.changeStream=function(){return Xe(this),this.internals.changes$.asObservable()},ae.remove=function(){var Ne=(0,d.A)(function*(){if(this.closed)throw new Error("closed");this.ensurePersistence(),Xe(this),this.internals.removed=!0,this.storage.collectionStates.delete(Ke(this.databaseName,this.collectionName,this.schema.version)),yield this.close()});return function Ce(){return Ne.apply(this,arguments)}}(),ae.close=function(){return Te.delete(this),this.ensurePersistence(),this.closed||(this.closed=!0,this.internals.refCount=this.internals.refCount-1),F.em},pe}();var te=new Map;function Me(pe={}){return{name:"memory",rxdbVersion:r.o,collectionStates:te,createStorageInstance(Ne){return(0,u.pZ)(Ne),function j(pe,ae,Ne){var Ce=Ke(ae.databaseName,ae.collectionName,ae.schema.version),Ze=pe.collectionStates.get(Ce);if(Ze){if(ae.devMode&&!(0,V.b)(Ze.schema,ae.schema))throw new Error("storage was already created with a different schema");Ze.refCount=Ze.refCount+1}else(function st(pe,ae){var Ne=(0,$.xQ)(ae.primaryKey),Ce=ae.indexes?ae.indexes.map(Ze=>(0,Le.$r)(Ze)):[];Ce.push(["_deleted","_meta.lwt",Ne]),Ce.forEach(Ze=>{pe.byIndex[K(Ze)]={index:Ze,docsWithIndex:[],getIndexableString:W(ae,Ze)}})})(Ze={id:(0,M.zs)(5),schema:ae.schema,removed:!1,refCount:1,documents:new Map,attachments:ae.schema.attachments?new Map:void 0,byIndex:{},changes$:new D.B},ae.schema),pe.collectionStates.set(Ce,Ze);var ot=new me(pe,ae.databaseName,ae.collectionName,ae.schema,Ze,ae.options,Ne,ae.devMode);return Promise.resolve(ot)}(this,Ne,Object.assign({},pe,Ne.options))}}}},1203(ct,E,a){"use strict";a.d(E,{F:()=>r,m:()=>d});var u=a(3669);function r(...D){return d(D)}function d(D){return 0===D.length?u.D:1===D.length?D[0]:function(P){return D.reduce((S,_)=>_(S),P)}}},1220(ct,E,a){"use strict";a.d(E,{yQ:()=>G});var u=a(467),r={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},d=a(5520),D=a(7042),$=a(9403),P=a(2284),S=a(4843),_=d.Ms;function W(){return W=(0,u.A)(function*(Q){var ne=Q.database,ue=Object.assign({},r,ne.cleanupPolicy?ne.cleanupPolicy:{});yield C(Q,ue),!Q.closed&&(yield I(Q,ue),yield function U(Q,ne){return O.apply(this,arguments)}(Q,ue))}),W.apply(this,arguments)}function C(Q,ne){return L.apply(this,arguments)}function L(){return(L=(0,u.A)(function*(Q,ne){yield Q.promiseWait(ne.minimumCollectionAge),!Q.closed&&Q.database.multiInstance&&ne.waitForLeadership&&(yield Q.database.waitForLeadership())})).apply(this,arguments)}function I(Q,ne){return A.apply(this,arguments)}function A(){return(A=(0,u.A)(function*(Q,ne){for(var ue=Q.database,ve=Q.storageInstance,Oe=!1;!Oe&&!Q.closed;){if(ne.awaitReplicationsInSync){var nt=(0,$.q)(D.ix,Q,()=>[]);yield Promise.all(nt.map(ge=>{if(!ge.isStopped())return ge.awaitInSync()}))}if(Q.closed)return;_=_.then((0,u.A)(function*(){if(Q.closed)return!0;yield ue.requestIdlePromise();var ge=[];ge.push(ve.cleanup(ne.minimumDeletedTime));var xe=(0,$.q)(D.ix,Q,()=>[]);for(var He of xe){var et=He.metaInstance;et&&ge.push(et.cleanup(ne.minimumDeletedTime))}return!(yield Promise.all(ge)).find(Xe=>!Xe)})),Oe=yield _}yield(0,P.FX)("postCleanup",{collectionName:Q.name,databaseName:ue.name})})).apply(this,arguments)}function O(){return(O=(0,u.A)(function*(Q,ne){for(;!Q.closed;){if(yield(0,S._)(Q.eventBulks$).catch(()=>{}),yield Q.promiseWait(ne.runEach),Q.closed)return;yield I(Q,ne)}})).apply(this,arguments)}var p=d.Ms;function T(){return T=(0,u.A)(function*(Q){var ne=Q.collection,ue=ne.database,ve=Object.assign({},r,ue.cleanupPolicy?ue.cleanupPolicy:{});yield C(ne,ve),!ne.closed&&(yield M(Q,ve),yield function B(Q,ne){return q.apply(this,arguments)}(Q,ve))}),T.apply(this,arguments)}function M(Q,ne){return V.apply(this,arguments)}function V(){return(V=(0,u.A)(function*(Q,ne){for(var ue=Q.collection,ve=ue.database,Oe=!1;!Oe&&!ue.closed;){if(ne.awaitReplicationsInSync){var nt=D.ix.get(ue);nt&&(yield Promise.all(nt.map(ge=>{if(!ge.isStopped())return ge.awaitInSync()})))}if(ue.closed)return;p=p.then((0,u.A)(function*(){return!!ue.closed||(yield ve.requestIdlePromise(),Q._cleanup())})),Oe=yield p}})).apply(this,arguments)}function q(){return(q=(0,u.A)(function*(Q,ne){for(var ue=Q.collection;!ue.closed;){if(yield(0,S._)(ue.eventBulks$).catch(()=>{}),yield ue.promiseWait(ne.runEach),ue.closed)return;yield M(Q,ne)}})).apply(this,arguments)}var G={name:"cleanup",rxdb:!0,prototypes:{RxCollection:Q=>{Q.cleanup=function(){var ne=(0,u.A)(function*(ue){var ve=Object.assign({},r,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof ue>"u"&&(ue=ve.minimumDeletedTime),yield I(this,ve)});return function(ue){return ne.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:Q=>{!function b(Q){W.apply(this,arguments)}(Q.collection)}},createRxState:{after:Q=>{!function F(Q){T.apply(this,arguments)}(Q.state)}}}}},1239(ct,E,a){"use strict";a.d(E,{g9:()=>A});var u=a(9492),r=a(3685),d=a(5520),D=a(9403),$=new WeakMap,P=new WeakMap;function S(U){return(0,D.q)(P,U,()=>(0,u.X)(U))}function _(){var U=(0,r.I0)(this.storage.name,this.token,this.name,this),O=this.close.bind(this);this.close=function(){return(0,r.cZ)(this.token,this),O()};var p=S(U);return p||(p=S(U),$.set(this,p)),this.leaderElector=()=>p,p}function b(){return!this.multiInstance||this.leaderElector().isLeader}function W(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):d.Ms}var A={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:U=>{U.leaderElector=_,U.isLeader=b,U.waitForLeadership=W}},hooks:{preCloseRxDatabase:{after:function C(U){var O=$.get(U);O&&O.die()}}}}},1277(ct,E,a){"use strict";a.d(E,{lB:()=>xe,uh:()=>se,U0:()=>_e,NI:()=>st,A_:()=>ce});var u=a(467),r=a(9650),d=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function $(me,j){if(j){if(j._timeoutObj&&clearTimeout(j._timeoutObj),me._pHM.has(j)){var te=me._pHM.get(j);me._hPM.delete(te),me._pHM.delete(j)}me._iC.delete(j)}}function P(me){me._tryIR||0===me._iC.size||(me._tryIR=!0,setTimeout(function(){me.isIdle()?setTimeout(function(){me.isIdle()?(function D(me){0!==me._iC.size&&(me._iC.values().next().value._manRes(),setTimeout(function(){return P(me)},0))}(me),me._tryIR=!1):me._tryIR=!1},0):me._tryIR=!1},0))}d.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,P(this)},wrapCall:function(j){var Me,te=this;this._qC++;try{Me=j()}catch(pe){throw this.unlock(),pe}return Me.then&&"function"==typeof Me.then?Me.then(function(pe){return te.unlock(),pe}).catch(function(pe){throw te.unlock(),pe}):(this.unlock(),Me)},requestIdlePromise:function(j){var te=this;j=j||{};var Me,pe=new Promise(function(Ce){return Me=Ce});if(pe._manRes=function(){$(te,pe),Me()},j.timeout){var Ne=setTimeout(function(){pe._manRes()},j.timeout);pe._timeoutObj=Ne}return this._iC.add(pe),P(this),pe},cancelIdlePromise:function(j){$(this,j)},requestIdleCallback:function(j,te){var Me=this._lHN++,pe=this.requestIdlePromise(te);return this._hPM.set(Me,pe),this._pHM.set(pe,Me),pe.then(function(){return j()}),Me},cancelIdleCallback:function(j){var te=this._hPM.get(j);this.cancelIdlePromise(te)},clear:function(){var j=this;this._iC.forEach(function(te){return $(j,te)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};class S{ttl;map=new Map;_to=!1;constructor(j){this.ttl=j}has(j){return this.map.has(j)}add(j){this.map.set(j,b()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function _(me){const j=b()-me.ttl,te=me.map[Symbol.iterator]();for(;;){const Me=te.next().value;if(!Me)return;if(!(Me[1]<j))return;me.map.delete(Me[0])}}(this)},0))}clear(){this.map.clear()}}function b(){return Date.now()}var W=a(6052),C=a(5520),L=a(2060),I=a(6434),A=a(8663),U=a(203),O=a(4425),p=a(720),F=a(4740),T=a(9182),M=a(2284),V=a(1413),B=a(1397),q=a(4395),G=a(6893),Q=a(2104),ne=a(1318),ue=a(3896),ve=a(312),Oe=new Set,nt=new Map,xe=function(){function me(te,Me,pe,ae,Ne,Ce,Ze=!1,ot={},k,J,ke,ze,Ge,Re){this.idleQueue=new d,this.rxdbVersion=W.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onClose=[],this.closed=!1,this.collections={},this.states={},this.eventBulks$=new V.B,this.closePromise=null,this.observable$=this.eventBulks$.pipe((0,B.Z)(Dt=>(0,ve.TI)(Dt))),this.storageToken=C.Dr,this.storageTokenDocument=C.Dr,this.emittedEventBulkIds=new S(6e4),this.name=te,this.token=Me,this.storage=pe,this.instanceCreationOptions=ae,this.password=Ne,this.multiInstance=Ce,this.eventReduce=Ze,this.options=ot,this.internalStore=k,this.hashFunction=J,this.cleanupPolicy=ke,this.allowSlowCount=ze,this.reactivity=Ge,this.onClosed=Re,"pseudoInstance"!==this.name&&(this.internalStore=(0,G.AM)(this.asRxDatabase,k,Q.CC),this.storageTokenDocument=(0,Q.ol)(this.asRxDatabase).catch(Dt=>this.startupErrors.push(Dt)),this.storageToken=this.storageTokenDocument.then(Dt=>Dt.data.token).catch(Dt=>this.startupErrors.push(Dt)))}var j=me.prototype;return j.getReactivityFactory=function(){if(!this.reactivity)throw(0,F.Br)("DB14",{database:this.name});return this.reactivity},j.$emit=function(Me){this.emittedEventBulkIds.has(Me.id)||(this.emittedEventBulkIds.add(Me.id),this.eventBulks$.next(Me))},j.removeCollectionDoc=function(){var te=(0,u.A)(function*(pe,ae){var Ne=yield(0,G.O5)(this.internalStore,(0,Q.lz)((0,Q.bV)(pe,ae),Q.Nu));if(!Ne)throw(0,F.Br)("SNH",{name:pe,schema:ae});var Ce=(0,G.C9)(Ne);Ce._deleted=!0,yield this.internalStore.bulkWrite([{document:Ce,previous:Ne}],"rx-database-remove-collection")});return function Me(pe,ae){return te.apply(this,arguments)}}(),j.addCollections=function(){var te=(0,u.A)(function*(pe){var ae=this,Ne={},Ce={},Ze=[],ot={};yield Promise.all(Object.entries(pe).map(function(){var ke=(0,u.A)(function*([ze,Ge]){var Re=ze,Dt=Ge.schema;Ne[Re]=Dt;var at=(0,T.Wq)(Dt,ae.hashFunction);if(Ce[Re]=at,ae.collections[ze])throw(0,F.Br)("DB3",{name:ze});var Et=(0,Q.bV)(ze,Dt),Vt={id:(0,Q.lz)(Et,Q.Nu),key:Et,context:Q.Nu,data:{name:Re,schemaHash:yield at.hash,schema:at.jsonSchema,version:at.version,connectedStorages:[]},_deleted:!1,_meta:(0,L.o4)(),_rev:(0,L.Fq)(),_attachments:{}};Ze.push({document:Vt});var Yt=Object.assign({},Ge,{name:Re,schema:at,database:ae}),ut=(0,I.FD)(Ge);ut.database=ae,ut.name=ze,(0,M.Xi)("preCreateRxCollection",ut),Yt.conflictHandler=ut.conflictHandler,ot[Re]=Yt});return function(ze){return ke.apply(this,arguments)}}()));var k=yield this.internalStore.bulkWrite(Ze,"rx-database-add-collection");yield function De(me){return Te.apply(this,arguments)}(this),yield Promise.all(k.error.map(function(){var ke=(0,u.A)(function*(ze){if(409!==ze.status)throw(0,F.Br)("DB12",{database:ae.name,writeError:ze});var Ge=(0,A.ZN)(ze.documentInDb),Re=Ge.data.name,Dt=Ce[Re];if(Ge.data.schemaHash!==(yield Dt.hash))throw(0,F.Br)("DB6",{database:ae.name,collection:Re,previousSchemaHash:Ge.data.schemaHash,schemaHash:yield Dt.hash,previousSchema:Ge.data.schema,schema:(0,A.ZN)(Ne[Re])})});return function(ze){return ke.apply(this,arguments)}}()));var J={};return yield Promise.all(Object.keys(pe).map(function(){var ke=(0,u.A)(function*(ze){var Ge=ot[ze],Re=yield(0,q.dN)(Ge);J[ze]=Re,ae.collections[ze]=Re,ae[ze]||Object.defineProperty(ae,ze,{get:()=>ae.collections[ze]})});return function(ze){return ke.apply(this,arguments)}}())),J});return function Me(pe){return te.apply(this,arguments)}}(),j.lockedRun=function(Me){return this.idleQueue.wrapCall(Me)},j.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},j.exportJSON=function(Me){throw(0,U.u)("json-dump")},j.addState=function(Me){throw(0,U.u)("state")},j.importJSON=function(Me){throw(0,U.u)("json-dump")},j.backup=function(Me){throw(0,U.u)("backup")},j.leaderElector=function(){throw(0,U.u)("leader-election")},j.isLeader=function(){throw(0,U.u)("leader-election")},j.waitForLeadership=function(){throw(0,U.u)("leader-election")},j.migrationStates=function(){throw(0,U.u)("migration-schema")},j.close=function(){var Me=this;if(this.closePromise)return this.closePromise;var{promise:pe,resolve:ae}=et(),Ne=Ce=>{this.onClosed&&this.onClosed(),this.closed=!0,ae(Ce)};return this.closePromise=pe,(0,u.A)(function*(){if(yield(0,M.FX)("preCloseRxDatabase",Me),Me.eventBulks$.complete(),Me._subs.map(Ce=>Ce.unsubscribe()),"pseudoInstance"!==Me.name)return Me.requestIdlePromise().then(()=>Promise.all(Me.onClose.map(Ce=>Ce()))).then(()=>Promise.all(Object.keys(Me.collections).map(Ce=>Me.collections[Ce]).map(Ce=>Ce.close()))).then(()=>Me.internalStore.close()).then(()=>Ne(!0));Ne(!1)})(),pe},j.remove=function(){return this.close().then(()=>ce(this.name,this.storage,this.multiInstance,this.password))},(0,r.A)(me,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function et(){var me,j;return{promise:new Promise((Me,pe)=>{me=Me,j=pe}),resolve:me,reject:j}}function Ke(me,j){return j.name+"|"+me}function Xe(me,j,te,Me,pe,ae){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.A)(function*(me,j,te,Me,pe,ae){return yield j.createStorageInstance({databaseInstanceToken:me,databaseName:te,collectionName:G.OG,schema:Q.CC,options:Me,multiInstance:pe,password:ae,devMode:ue.h.isDevMode()})})).apply(this,arguments)}function se({storage:me,instanceCreationOptions:j,name:te,password:Me,multiInstance:pe=!0,eventReduce:ae=!0,ignoreDuplicate:Ne=!1,options:Ce={},cleanupPolicy:Ze,closeDuplicates:ot=!1,allowSlowCount:k=!1,localDocuments:J=!1,hashFunction:ke=O.V0,reactivity:ze}){(0,M.Xi)("preCreateRxDatabase",{storage:me,instanceCreationOptions:j,name:te,password:Me,multiInstance:pe,eventReduce:ae,ignoreDuplicate:Ne,options:Ce,localDocuments:J});var Ge=Ke(te,me),Re=nt.get(Ge)||new Set,Dt=et(),at=Array.from(Re),Et=()=>{Re.delete(Dt.promise),Oe.delete(Ge)};return Re.add(Dt.promise),nt.set(Ge,Re),(0,u.A)(function*(){if(ot&&(yield Promise.all(at.map(Bt=>Bt.catch(()=>null).then(Ut=>Ut&&Ut.close())))),Ne){if(!ue.h.isDevMode())throw(0,F.Br)("DB9",{database:te})}else!function He(me,j){if(Oe.has(Ke(me,j)))throw(0,F.Br)("DB8",{name:me,storage:j.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(te,me);Oe.add(Ge);var Vt=(0,p.zs)(10),Yt=yield Xe(Vt,me,te,j,pe,Me),ut=new xe(te,Vt,me,j,Me,pe,ae,Ce,Yt,ke,Ze,k,ze,Et);return yield(0,M.FX)("createRxDatabase",{database:ut,creator:{storage:me,instanceCreationOptions:j,name:te,password:Me,multiInstance:pe,eventReduce:ae,ignoreDuplicate:Ne,options:Ce,localDocuments:J}}),ut})().then(Vt=>{Dt.resolve(Vt)}).catch(Vt=>{Dt.reject(Vt),Et()}),Dt.promise}function ce(me,j){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.A)(function*(me,j,te=!0,Me){var pe=(0,p.zs)(10),ae=yield Xe(pe,j,me,{},te,Me),Ne=yield(0,Q.WY)(ae),Ce=new Set;Ne.forEach(ot=>Ce.add(ot.data.name));var Ze=Array.from(Ce);return yield Promise.all(Ze.map(ot=>(0,ne.vM)(j,ae,pe,me,ot,te,Me))),yield(0,M.FX)("postRemoveRxDatabase",{databaseName:me,storage:j}),yield ae.remove(),Ze})).apply(this,arguments)}function _e(me){return me instanceof xe}function st(me){return K.apply(this,arguments)}function K(){return(K=(0,u.A)(function*(me){return(yield me.storageTokenDocument).data.instanceToken===me.token})).apply(this,arguments)}function Te(){return(Te=(0,u.A)(function*(me){if(yield me.storageToken,me.startupErrors[0])throw me.startupErrors[0]})).apply(this,arguments)}},1311(ct,E,a){"use strict";a.d(E,{Vx:()=>P,_H:()=>b});var u=a(467),r={},d=a(4425),D=a(5520),P=16,S=D.Dr,_=!1;function b(){return W.apply(this,arguments)}function W(){return(W=(0,u.A)(function*(){return _||(_=!0,S=(0,u.A)(function*(){return!(!r.premium||"string"!=typeof r.premium||"6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"!==(yield(0,d.V0)(r.premium)))})()),S})).apply(this,arguments)}},1318(ct,E,a){"use strict";a.d(E,{JY:()=>L,qH:()=>p,vK:()=>I,vM:()=>U});var u=a(467),r=a(6568),d=a(2060),D=a(6434),$=a(4552),P=a(1885),S=a(2284),_=a(2104),b=a(6893),W=a(3896),C=a(4740);function L(F,T){return T=(0,D.FD)(T),T=(0,P.pA)(F,T),"string"!=typeof F.jsonSchema.primaryKey&&(T=(0,P.Nq)(F.primaryPath,F.jsonSchema,T)),T._meta=(0,d.o4)(),Object.prototype.hasOwnProperty.call(T,"_deleted")||(T._deleted=!1),Object.prototype.hasOwnProperty.call(T,"_attachments")||(T._attachments={}),Object.prototype.hasOwnProperty.call(T,"_rev")||(T._rev=(0,d.Fq)()),T}function I(F,T){return A.apply(this,arguments)}function A(){return(A=(0,u.A)(function*(F,T){return T.multiInstance=F.multiInstance,yield F.storage.createStorageInstance(T)})).apply(this,arguments)}function U(F,T,M,V,B,q,G,Q){return O.apply(this,arguments)}function O(){return O=(0,u.A)(function*(F,T,M,V,B,q,G,Q){var ue=(yield(0,_.WY)(T)).filter(ge=>ge.data.name===B),ve=[];ue.forEach(ge=>{ve.push({collectionName:ge.data.name,schema:ge.data.schema,isCollection:!0}),ge.data.connectedStorages.forEach(xe=>ve.push({collectionName:xe.collectionName,isCollection:!1,schema:xe.schema}))});var Oe=new Set;if(ve=ve.filter(ge=>{var xe=ge.collectionName+"||"+ge.schema.version;return!Oe.has(xe)&&(Oe.add(xe),!0)}),yield Promise.all(ve.map(function(){var ge=(0,u.A)(function*(xe){var He=yield F.createStorageInstance({collectionName:xe.collectionName,databaseInstanceToken:M,databaseName:V,multiInstance:q,options:{},schema:xe.schema,password:G,devMode:W.h.isDevMode()});yield He.remove(),xe.isCollection&&(yield(0,S.FX)("postRemoveRxCollection",{storage:F,databaseName:V,collectionName:B}))});return function(xe){return ge.apply(this,arguments)}}())),Q){var nt=ue.map(ge=>{var xe=(0,b.C9)(ge);return xe._deleted=!0,xe._meta.lwt=(0,$.t)(),xe._rev=(0,r.CM)(M,ge),{previous:ge,document:xe}});yield T.bulkWrite(nt,"rx-database-remove-collection-all")}}),O.apply(this,arguments)}function p(F){if(F.closed)throw(0,C.Br)("COL21",{collection:F.name,version:F.schema.version})}},1379(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432);E.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:D,schemaCode:$})=>u.str`must NOT have ${"maxProperties"===D?"more":"fewer"} than ${$} properties`,params:({schemaCode:D})=>u._`{limit: ${D}}`},code(D){const{keyword:$,data:P,schemaCode:S}=D;D.fail$data(u._`Object.keys(${P}).length ${"maxProperties"===$?u.operators.GT:u.operators.LT} ${S}`)}}},1384(ct,E,a){"use strict";a.d(E,{Qh:()=>_e});var u=a(9568),r=a(8663),d=a(9403),D=a(5520),$=a(467),P=a(5964),S=a(6354),_=a(4843),b=a(1413),W=a(4740),C=a(4412),L=a(2104),I=a(9182),A=a(6434);function U(st){return O.apply(this,arguments)}function O(){return(O=(0,$.A)(function*(st){var K=(0,I.NP)(st.collection.schema.jsonSchema).map(j=>st.collection.name+"-"+j),De=yield st.database.internalStore.findDocumentsById(K.map(j=>(0,L.lz)(j,L.Nu)),!1),Te={};De.forEach(j=>Te[j.key]=j);var me=K.find(j=>Te[j]);return me?Te[me]:void 0})).apply(this,arguments)}function T(st){return M.apply(this,arguments)}function M(){return(M=(0,$.A)(function*(st){return 0===st.collection.schema.version?D.Dr:!!(yield U(st))})).apply(this,arguments)}var B=new WeakMap;function G(st){return(0,d.q)(B,st,()=>new C.t([]))}var ne=a(203),ue=a(2060),ve=a(6636),Oe=a(6893),nt=a(7354),ge=a(9492),xe=a(7695),He=a(898),et=a(7606),Ke=a(3896),Xe=a(6362),Ie=function(){function st(De,Te,me=[De.name,"v",De.schema.version].join("-")){this.started=!1,this.canceled=!1,this.updateStatusHandlers=[],this.updateStatusQueue=D.Ms,this.collection=De,this.migrationStrategies=Te,this.statusDocKey=me,this.database=De.database,this.oldCollectionMeta=U(this),this.mustMigrate=T(this),this.statusDocId=(0,L.lz)(this.statusDocKey,L.Uy),function q(st){var K=G(st.database),De=K.getValue().slice(0);De.push(st),K.next(De)}(this),this.$=(0,Oe.PA)(this.database.internalStore,this.statusDocId).pipe((0,P.p)(j=>!!j),(0,S.T)(j=>(0,r.ZN)(j).data),(0,u.t)(r.bz))}var K=st.prototype;return K.getStatus=function(){return(0,_._)(this.$)},K.startMigration=function(){var De=(0,$.A)(function*(me=200){var j=this;if(yield this.mustMigrate){if(this.started)throw(0,W.Br)("DM1");if(this.started=!0,this.database.multiInstance){this.broadcastChannel=new nt.X2(["rx-migration-state",this.database.name,this.collection.name,this.collection.schema.version].join("|"));var Me=(0,ge.X)(this.broadcastChannel);yield Me.awaitLeadership()}var pe=yield this.oldCollectionMeta,ae=yield this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:this.collection.name,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:(0,r.ZN)(pe).data.schema,password:this.database.password,devMode:Ke.h.isDevMode()}),Ne=yield this.getConnectedStorageInstances(),Ce=yield this.countAllDocuments([ae].concat(Ne.map(ot=>ot.oldStorage)));yield this.updateStatus(ot=>(ot.count.total=Ce,ot));try{yield Promise.all(Ne.map(function(){var ot=(0,$.A)(function*(k){yield(0,L.vV)(j.collection,k.newStorage.collectionName,k.newStorage.schema),yield j.migrateStorage(k.oldStorage,k.newStorage,me),yield k.newStorage.close()});return function(k){return ot.apply(this,arguments)}}())),yield this.migrateStorage(ae,this.collection.storageInstance.originalStorageInstance,me)}catch(ot){return yield ae.close(),void(yield this.updateStatus(k=>(k.status="ERROR",k.error=(0,ne.S)(ot),k)))}try{yield(0,Oe.mQ)(this.database.internalStore,{previous:pe,document:Object.assign({},pe,{_deleted:!0})},"rx-migration-remove-collection-meta")}catch(ot){var Ze=(0,W.sX)(ot);if(!Ze||!Ze.documentInDb._deleted)throw ot}yield this.updateStatus(ot=>(ot.status="DONE",ot)),this.broadcastChannel&&(yield this.broadcastChannel.close())}});return function Te(){return De.apply(this,arguments)}}(),K.updateStatus=function(Te){var me=this;return this.updateStatusHandlers.push(Te),this.updateStatusQueue=this.updateStatusQueue.then((0,$.A)(function*(){if(0!==me.updateStatusHandlers.length){var j=me.updateStatusHandlers;for(me.updateStatusHandlers=[];;){var te=yield(0,Oe.O5)(me.database.internalStore,me.statusDocId),Me=(0,A.o8)(te);te||(Me={id:me.statusDocId,key:me.statusDocKey,context:L.Uy,data:{collectionName:me.collection.name,status:"RUNNING",count:{total:0,handled:0,percent:0}},_deleted:!1,_meta:(0,ue.o4)(),_rev:(0,ue.Fq)(),_attachments:{}});var pe=(0,r.ZN)(Me).data;for(var ae of j)pe=ae(pe);if(pe.count.percent=Math.round(pe.count.handled/pe.count.total*100),Me&&te&&(0,ve.b)(Me.data,te.data))break;try{yield(0,Oe.mQ)(me.database.internalStore,{previous:te,document:(0,r.ZN)(Me)},L.Uy);break}catch(Ne){if(!(0,W.sX)(Ne))throw Ne}}}})),this.updateStatusQueue},K.migrateStorage=function(){var De=(0,$.A)(function*(me,j,te){var Me=this;this.collection.onClose.push(()=>this.cancel()),this.database.onClose.push(()=>this.cancel());var Ze,pe=yield this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:"rx-migration-state-meta-"+me.collectionName+"-"+me.schema.version,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:(0,xe.mg)(me.schema,(0,Oe.ME)(me.schema)),password:this.database.password,devMode:Ke.h.isDevMode()}),ae=(0,He.CU)(j,et.a,this.database.token,!0),Ne=(0,He.c5)({keepMeta:!0,identifier:["rx-migration-state",me.collectionName,me.schema.version,this.collection.schema.version].join("-"),replicationHandler:{masterChangesSince:()=>Promise.resolve({checkpoint:null,documents:[]}),masterWrite:(Ze=(0,$.A)(function*(ot){var k=yield Promise.all(ot.map(function(){var ke=(0,$.A)(function*(ze){var Ge=ze.newDocumentState;if(j.schema.title===xe.DD&&(Ge=ze.newDocumentState.docData,"1"===ze.newDocumentState.isCheckpoint))return{assumedMasterState:void 0,newDocumentState:ze.newDocumentState};var Re=yield function p(st,K,De){var Te=(0,A.FD)(De._attachments),me=(0,A.o8)(De),j=me._meta;delete me._meta,me._attachments=Te;for(var te=K+1,Me=Promise.resolve(me),pe=function(){var ae=te;Me=Me.then(Ne=>function F(st,K,De){if(null===De)return D.$A;var Te=st.migrationStrategies[K](De,st);return(0,D.hq)(Te)}(st,ae,Ne)),te++};te<=st.schema.version;)pe();return Me.then(ae=>null===ae?D.$A:(j&&(ae._meta=j),ae))}(Me.collection,me.schema.version,Ge);return null===Re?null:{assumedMasterState:void 0,newDocumentState:j.schema.title===xe.DD?Object.assign({},ze.newDocumentState,{docData:Re}):Re}});return function(ze){return ke.apply(this,arguments)}}()));return k=k.filter(ke=>!!ke&&!!ke.newDocumentState),yield ae.masterWrite(k)}),function(k){return Ze.apply(this,arguments)}),masterChangeStream$:(new b.B).asObservable()},forkInstance:me,metaInstance:pe,pushBatchSize:te,pullBatchSize:0,conflictHandler:et.a,hashFunction:this.database.hashFunction}),Ce=!1;if(Ne.events.error.subscribe(Ze=>Ce=Ze),Ne.events.processed.up.subscribe(()=>{this.updateStatus(Ze=>(Ze.count.handled=Ze.count.handled+1,Ze))}),yield(0,He.SE)(Ne),yield(0,He.o0)(Ne),yield this.updateStatusQueue,Ce)throw yield pe.close(),Ce;yield Promise.all([me.remove(),pe.remove()]),yield this.cancel()});return function Te(me,j,te){return De.apply(this,arguments)}}(),K.cancel=function(){var De=(0,$.A)(function*(){this.canceled=!0,this.replicationState&&(yield(0,He.mC)(this.replicationState)),this.broadcastChannel&&(yield this.broadcastChannel.close())});return function Te(){return De.apply(this,arguments)}}(),K.countAllDocuments=function(){var De=(0,$.A)(function*(me){var j=0;return yield Promise.all(me.map(function(){var te=(0,$.A)(function*(Me){var pe=(0,Xe.Ib)(Me.schema,(0,Xe._V)(Me.schema,{selector:{}})),ae=yield Me.count(pe);j+=ae.count});return function(Me){return te.apply(this,arguments)}}())),j});return function Te(me){return De.apply(this,arguments)}}(),K.getConnectedStorageInstances=function(){var De=(0,$.A)(function*(){var me=this,j=(0,r.ZN)(yield this.oldCollectionMeta),te=[];return yield Promise.all(yield Promise.all(j.data.connectedStorages.map(function(){var Me=(0,$.A)(function*(pe){if(pe.schema.title!==xe.DD)throw new Error("unknown migration handling for schema");var ae=(0,xe.mg)((0,A.o8)(me.collection.schema.jsonSchema),(0,Oe.ME)(pe.schema));ae.version=me.collection.schema.version;var[Ne,Ce]=yield Promise.all([me.database.storage.createStorageInstance({databaseInstanceToken:me.database.token,databaseName:me.database.name,devMode:Ke.h.isDevMode(),multiInstance:me.database.multiInstance,options:{},schema:pe.schema,password:me.database.password,collectionName:pe.collectionName}),me.database.storage.createStorageInstance({databaseInstanceToken:me.database.token,databaseName:me.database.name,devMode:Ke.h.isDevMode(),multiInstance:me.database.multiInstance,options:{},schema:ae,password:me.database.password,collectionName:pe.collectionName})]);te.push({oldStorage:Ne,newStorage:Ce})});return function(pe){return Me.apply(this,arguments)}}()))),te});return function Te(){return De.apply(this,arguments)}}(),K.migratePromise=function(){var De=(0,$.A)(function*(me){if(this.startMigration(me),!(yield this.mustMigrate))return{status:"DONE",collectionName:this.collection.name,count:{handled:0,percent:0,total:0}};var te=yield Promise.race([(0,_._)(this.$.pipe((0,P.p)(Me=>"DONE"===Me.status))),(0,_._)(this.$.pipe((0,P.p)(Me=>"ERROR"===Me.status)))]);if("ERROR"===te.status)throw(0,W.Br)("DM4",{collection:this.collection.name,error:te.error});return te});return function Te(me){return De.apply(this,arguments)}}(),st}(),se=a(4281),ce=a(6094),Y=new WeakMap,_e={name:"migration-schema",rxdb:!0,init(){(0,se.j)(ce.$d)},hooks:{preCloseRxDatabase:{after:function Q(st){var K=B.get(st);K&&K.complete()}}},prototypes:{RxDatabase:st=>{st.migrationStates=function(){return G(this).pipe((0,u.t)(r.bz))}},RxCollection:st=>{st.getMigrationState=function(){return(0,d.q)(Y,this,()=>new Ie(this.asRxCollection,this.migrationStrategies))},st.migrationNeeded=function(){return 0===this.schema.version?D.Dr:T(this.getMigrationState())}}}}},1397(ct,E,a){"use strict";a.d(E,{Z:()=>_});var u=a(6354),r=a(8750),d=a(9974),D=a(5225),$=a(4360),S=a(8071);function _(b,W,C=1/0){return(0,S.T)(W)?_((L,I)=>(0,u.T)((A,U)=>W(L,A,I,U))((0,r.Tg)(b(L,I))),C):("number"==typeof W&&(C=W),(0,d.N)((L,I)=>function P(b,W,C,L,I,A,U,O){const p=[];let F=0,T=0,M=!1;const V=()=>{M&&!p.length&&!F&&W.complete()},B=G=>F<L?q(G):p.push(G),q=G=>{A&&W.next(G),F++;let Q=!1;(0,r.Tg)(C(G,T++)).subscribe((0,$._)(W,ne=>{I?.(ne),A?B(ne):W.next(ne)},()=>{Q=!0},void 0,()=>{if(Q)try{for(F--;p.length&&F<L;){const ne=p.shift();U?(0,D.N)(W,U,()=>q(ne)):q(ne)}V()}catch(ne){W.error(ne)}}))};return b.subscribe((0,$._)(W,B,()=>{M=!0,V()})),()=>{O?.()}}(L,I,b,C)))}},1413(ct,E,a){"use strict";a.d(E,{B:()=>S});var u=a(1985),r=a(8359);const D=(0,a(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=a(7908),P=a(9786);let S=(()=>{class b extends u.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(C){const L=new _(this,this);return L.operator=C,L}_throwIfClosed(){if(this.closed)throw new D}next(C){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const L of this.currentObservers)L.next(C)}})}error(C){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=C;const{observers:L}=this;for(;L.length;)L.shift().error(C)}})}complete(){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:C}=this;for(;C.length;)C.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var C;return(null===(C=this.observers)||void 0===C?void 0:C.length)>0}_trySubscribe(C){return this._throwIfClosed(),super._trySubscribe(C)}_subscribe(C){return this._throwIfClosed(),this._checkFinalizedStatuses(C),this._innerSubscribe(C)}_innerSubscribe(C){const{hasError:L,isStopped:I,observers:A}=this;return L||I?r.Kn:(this.currentObservers=null,A.push(C),new r.yU(()=>{this.currentObservers=null,(0,$.o)(A,C)}))}_checkFinalizedStatuses(C){const{hasError:L,thrownError:I,isStopped:A}=this;L?C.error(I):A&&C.complete()}asObservable(){const C=new u.c;return C.source=this,C}}return b.create=(W,C)=>new _(W,C),b})();class _ extends S{constructor(W,C){super(),this.destination=W,this.source=C}next(W){var C,L;null===(L=null===(C=this.destination)||void 0===C?void 0:C.next)||void 0===L||L.call(C,W)}error(W){var C,L;null===(L=null===(C=this.destination)||void 0===C?void 0:C.error)||void 0===L||L.call(C,W)}complete(){var W,C;null===(C=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===C||C.call(W)}_subscribe(W){var C,L;return null!==(L=null===(C=this.source)||void 0===C?void 0:C.subscribe(W))&&void 0!==L?L:r.Kn}}},1506(ct,E){"use strict";function a(u){const r=u.length;let $,d=0,D=0;for(;D<r;)d++,$=u.charCodeAt(D++),$>=55296&&$<=56319&&D<r&&($=u.charCodeAt(D),56320==(64512&$)&&D++);return d}Object.defineProperty(E,"__esModule",{value:!0}),E.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},1584(ct,E,a){"use strict";a.d(E,{O:()=>$});var u=a(1985),r=a(8839),d=a(9470);function $(P=0,S,_=r.b){let b=-1;return null!=S&&((0,d.m)(S)?_=S:b=S),new u.c(W=>{let C=function D(P){return P instanceof Date&&!isNaN(P)}(P)?+P-_.now():P;C<0&&(C=0);let L=0;return _.schedule(function(){W.closed||(W.next(L++),0<=b?this.schedule(void 0,b):W.complete())},C)})}},1635(ct,E,a){"use strict";function $(se,ce,Y,_e){var K,Le=arguments.length,st=Le<3?ce:null===_e?_e=Object.getOwnPropertyDescriptor(ce,Y):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)st=Reflect.decorate(se,ce,Y,_e);else for(var De=se.length-1;De>=0;De--)(K=se[De])&&(st=(Le<3?K(st):Le>3?K(ce,Y,st):K(ce,Y))||st);return Le>3&&st&&Object.defineProperty(ce,Y,st),st}function C(se,ce){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(se,ce)}function L(se,ce,Y,_e){return new(Y||(Y=Promise))(function(st,K){function De(j){try{me(_e.next(j))}catch(te){K(te)}}function Te(j){try{me(_e.throw(j))}catch(te){K(te)}}function me(j){j.done?st(j.value):function Le(st){return st instanceof Y?st:new Y(function(K){K(st)})}(j.value).then(De,Te)}me((_e=_e.apply(se,ce||[])).next())})}function V(se){return this instanceof V?(this.v=se,this):new V(se)}function B(se,ce,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,_e=Y.apply(se,ce||[]),st=[];return Le=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),De("next"),De("throw"),De("return",function K(pe){return function(ae){return Promise.resolve(ae).then(pe,te)}}),Le[Symbol.asyncIterator]=function(){return this},Le;function De(pe,ae){_e[pe]&&(Le[pe]=function(Ne){return new Promise(function(Ce,Ze){st.push([pe,Ne,Ce,Ze])>1||Te(pe,Ne)})},ae&&(Le[pe]=ae(Le[pe])))}function Te(pe,ae){try{!function me(pe){pe.value instanceof V?Promise.resolve(pe.value.v).then(j,te):Me(st[0][2],pe)}(_e[pe](ae))}catch(Ne){Me(st[0][3],Ne)}}function j(pe){Te("next",pe)}function te(pe){Te("throw",pe)}function Me(pe,ae){pe(ae),st.shift(),st.length&&Te(st[0][0],st[0][1])}}function G(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,ce=se[Symbol.asyncIterator];return ce?ce.call(se):(se=function O(se){var ce="function"==typeof Symbol&&Symbol.iterator,Y=ce&&se[ce],_e=0;if(Y)return Y.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&_e>=se.length&&(se=void 0),{value:se&&se[_e++],done:!se}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Y={},_e("next"),_e("throw"),_e("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function _e(st){Y[st]=se[st]&&function(K){return new Promise(function(De,Te){!function Le(st,K,De,Te){Promise.resolve(Te).then(function(me){st({value:me,done:De})},K)}(De,Te,(K=se[st](K)).done,K.value)})}}}a.d(E,{AQ:()=>B,Cg:()=>$,N3:()=>V,Sn:()=>C,sH:()=>L,xN:()=>G}),"function"==typeof SuppressedError&&SuppressedError},1661(ct){"use strict";const E=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),a=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function u(C){let L="",I=0,A=0;for(A=0;A<C.length;A++)if(I=C[A].charCodeAt(0),48!==I){if(!(I>=48&&I<=57||I>=65&&I<=70||I>=97&&I<=102))return"";L+=C[A];break}for(A+=1;A<C.length;A++){if(I=C[A].charCodeAt(0),!(I>=48&&I<=57||I>=65&&I<=70||I>=97&&I<=102))return"";L+=C[A]}return L}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function d(C){return C.length=0,!0}function D(C,L,I){if(C.length){const A=u(C);if(""===A)return I.error=!0,!1;L.push(A),C.length=0}return!0}function P(C){if(function S(C,L){let I=0;for(let A=0;A<C.length;A++)C[A]===L&&I++;return I}(C,":")<2)return{host:C,isIPV6:!1};const L=function $(C){let L=0;const I={error:!1,address:"",zone:""},A=[],U=[];let O=!1,p=!1,F=D;for(let T=0;T<C.length;T++){const M=C[T];if("["!==M&&"]"!==M){if(":"===M){if(!0===O&&(p=!0),!F(U,A,I))break;if(++L>7){I.error=!0;break}T>0&&":"===C[T-1]&&(O=!0),A.push(":");continue}if("%"!==M){U.push(M);continue}if(!F(U,A,I))break;F=d}}return U.length&&(F===d?I.zone=U.join(""):A.push(p?U.join(""):u(U))),I.address=A.join(""),I}(C);if(L.error)return{host:C,isIPV6:!1};{let I=L.address,A=L.address;return L.zone&&(I+="%"+L.zone,A+="%25"+L.zone),{host:I,isIPV6:!0,escapedHost:A}}}ct.exports={nonSimpleDomain:r,recomposeAuthority:function W(C){const L=[];if(void 0!==C.userinfo&&(L.push(C.userinfo),L.push("@")),void 0!==C.host){let I=unescape(C.host);if(!a(I)){const A=P(I);I=!0===A.isIPV6?`[${A.escapedHost}]`:C.host}L.push(I)}return("number"==typeof C.port||"string"==typeof C.port)&&(L.push(":"),L.push(String(C.port))),L.length?L.join(""):void 0},normalizeComponentEncoding:function b(C,L){const I=!0!==L?escape:unescape;return void 0!==C.scheme&&(C.scheme=I(C.scheme)),void 0!==C.userinfo&&(C.userinfo=I(C.userinfo)),void 0!==C.host&&(C.host=I(C.host)),void 0!==C.path&&(C.path=I(C.path)),void 0!==C.query&&(C.query=I(C.query)),void 0!==C.fragment&&(C.fragment=I(C.fragment)),C},removeDotSegments:function _(C){let L=C;const I=[];let A=-1,U=0;for(;U=L.length;){if(1===U){if("."===L)break;if("/"===L){I.push("/");break}I.push(L);break}if(2===U){if("."===L[0]){if("."===L[1])break;if("/"===L[1]){L=L.slice(2);continue}}else if("/"===L[0]&&("."===L[1]||"/"===L[1])){I.push("/");break}}else if(3===U&&"/.."===L){0!==I.length&&I.pop(),I.push("/");break}if("."===L[0]){if("."===L[1]){if("/"===L[2]){L=L.slice(3);continue}}else if("/"===L[1]){L=L.slice(2);continue}}else if("/"===L[0]&&"."===L[1]){if("/"===L[2]){L=L.slice(2);continue}if("."===L[2]&&"/"===L[3]){L=L.slice(3),0!==I.length&&I.pop();continue}}if(-1===(A=L.indexOf("/",1))){I.push(L);break}I.push(L.slice(0,A)),L=L.slice(A)}return I.join("")},isIPv4:a,isUUID:E,normalizeIPv6:P,stringArrayToHexStripped:u}},1680(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.callRef=E.getValidate=void 0;const u=a(6606),r=a(2240),d=a(5432),D=a(2682),$=a(7762),P=a(7868),S={keyword:"$ref",schemaType:"string",code(W){const{gen:C,schema:L,it:I}=W,{baseId:A,schemaEnv:U,validateName:O,opts:p,self:F}=I,{root:T}=U;if(("#"===L||"#/"===L)&&A===T.baseId)return function V(){if(U===T)return b(W,O,U,U.$async);const G=C.scopeValue("root",{ref:T});return b(W,d._`${G}.validate`,T,T.$async)}();const M=$.resolveRef.call(F,T,A,L);if(void 0===M)throw new u.default(I.opts.uriResolver,A,L);return M instanceof $.SchemaEnv?function B(G){const Q=_(W,G);b(W,Q,G,G.$async)}(M):function q(G){const Q=C.scopeValue("schema",!0===p.code.source?{ref:G,code:(0,d.stringify)(G)}:{ref:G}),ne=C.name("valid"),ue=W.subschema({schema:G,dataTypes:[],schemaPath:d.nil,topSchemaRef:Q,errSchemaPath:L},ne);W.mergeEvaluated(ue),W.ok(ne)}(M)}};function _(W,C){const{gen:L}=W;return C.validate?L.scopeValue("validate",{ref:C.validate}):d._`${L.scopeValue("wrapper",{ref:C})}.validate`}function b(W,C,L,I){const{gen:A,it:U}=W,{allErrors:O,schemaEnv:p,opts:F}=U,T=F.passContext?D.default.this:d.nil;function B(G){const Q=d._`${G}.errors`;A.assign(D.default.vErrors,d._`${D.default.vErrors} === null ? ${Q} : ${D.default.vErrors}.concat(${Q})`),A.assign(D.default.errors,d._`${D.default.vErrors}.length`)}function q(G){var Q;if(!U.opts.unevaluated)return;const ne=null===(Q=L?.validate)||void 0===Q?void 0:Q.evaluated;if(!0!==U.props)if(ne&&!ne.dynamicProps)void 0!==ne.props&&(U.props=P.mergeEvaluated.props(A,ne.props,U.props));else{const ue=A.var("props",d._`${G}.evaluated.props`);U.props=P.mergeEvaluated.props(A,ue,U.props,d.Name)}if(!0!==U.items)if(ne&&!ne.dynamicItems)void 0!==ne.items&&(U.items=P.mergeEvaluated.items(A,ne.items,U.items));else{const ue=A.var("items",d._`${G}.evaluated.items`);U.items=P.mergeEvaluated.items(A,ue,U.items,d.Name)}}I?function M(){if(!p.$async)throw new Error("async schema referenced by sync schema");const G=A.let("valid");A.try(()=>{A.code(d._`await ${(0,r.callValidateCode)(W,C,T)}`),q(C),O||A.assign(G,!0)},Q=>{A.if(d._`!(${Q} instanceof ${U.ValidationError})`,()=>A.throw(Q)),B(Q),O||A.assign(G,!1)}),W.ok(G)}():function V(){W.result((0,r.callValidateCode)(W,C,T),()=>q(C),()=>B(C))}()}E.getValidate=_,E.callRef=b,E.default=S},1744(ct,E,a){"use strict";a.d(E,{UU:()=>S,oq:()=>_});var u=O=>{var p=typeof O;return null!==O&&("object"===p||"function"===p)},r=new Set(["__proto__","prototype","constructor"]),d=new Set("0123456789");function D(O){var p=[],F="",T="start",M=!1;for(var V of O)switch(V){case"\\":if("index"===T)throw new Error("Invalid character in an index");if("indexEnd"===T)throw new Error("Invalid character after an index");M&&(F+=V),T="property",M=!M;break;case".":if("index"===T)throw new Error("Invalid character in an index");if("indexEnd"===T){T="property";break}if(M){M=!1,F+=V;break}if(r.has(F))return[];p.push(F),F="",T="property";break;case"[":if("index"===T)throw new Error("Invalid character in an index");if("indexEnd"===T){T="index";break}if(M){M=!1,F+=V;break}if("property"===T){if(r.has(F))return[];p.push(F),F=""}T="index";break;case"]":if("index"===T){p.push(Number.parseInt(F,10)),F="",T="indexEnd";break}if("indexEnd"===T)throw new Error("Invalid character after an index");default:if("index"===T&&!d.has(V))throw new Error("Invalid character in an index");if("indexEnd"===T)throw new Error("Invalid character after an index");"start"===T&&(T="property"),M&&(M=!1,F+="\\"),F+=V}switch(M&&(F+="\\"),T){case"property":if(r.has(F))return[];p.push(F);break;case"index":throw new Error("Index was not closed");case"start":p.push("")}return p}function $(O,p){if("number"!=typeof p&&Array.isArray(O)){var F=Number.parseInt(p,10);return Number.isInteger(F)&&O[F]===O[p]}return!1}function P(O,p){if($(O,p))throw new Error("Cannot use string index")}function S(O,p,F){if(Array.isArray(p)&&(p=p.join(".")),!p.includes(".")&&!p.includes("["))return O[p];if(!u(O)||"string"!=typeof p)return void 0===F?O:F;var T=D(p);if(0===T.length)return F;for(var M=0;M<T.length;M++){var V=T[M];if(null==(O=$(O,V)?M===T.length-1?void 0:null:O[V])){if(M!==T.length-1)return F;break}}return void 0===O?F:O}function _(O,p,F){if(Array.isArray(p)&&(p=p.join(".")),!u(O)||"string"!=typeof p)return O;for(var T=O,M=D(p),V=0;V<M.length;V++){var B=M[V];P(O,B),V===M.length-1?O[B]=F:u(O[B])||(O[B]="number"==typeof M[V+1]?[]:{}),O=O[B]}return T}},1853(ct,E,a){"use strict";function u(r){const D=r($=>{Error.call($),$.stack=(new Error).stack});return D.prototype=Object.create(Error.prototype),D.prototype.constructor=D,D}a.d(E,{L:()=>u})},1885(ct,E,a){"use strict";a.d(E,{pA:()=>B,Nq:()=>L,Ud:()=>F,U:()=>U,uK:()=>V,Hq:()=>A,xQ:()=>I,nT:()=>C,d1:()=>O});var u=a(4740),r=/\./g,D=a(720),$=a(1744),P=a(8663),S=a(6434),_=a(7176);function C(G,Q){var ne=Q;return ne=ne.replace(r,".properties."),ne=(0,D.L$)(ne="properties."+ne),(0,$.UU)(G,ne)}function L(G,Q,ne){if("string"==typeof Q.primaryKey)return ne;var ue=U(Q,ne),ve=ne[G];if(ve&&ve!==ue)throw(0,u.Br)("DOC19",{args:{documentData:ne,existingPrimary:ve,newPrimary:ue},schema:Q});return ne[G]=ue,ne}function I(G){return"string"==typeof G?G:G.key}function A(G){var ne=C(G,I(G.primaryKey));return(0,P.ZN)(ne.maxLength)}function U(G,Q){if("string"==typeof G.primaryKey)return Q[G.primaryKey];var ne=G.primaryKey;return ne.fields.map(ue=>{var ve=(0,$.UU)(Q,ue);if(typeof ve>"u")throw(0,u.Br)("DOC18",{args:{field:ue,documentData:Q}});return ve}).join(ne.separator)}function O(G){return(0,S.mf)(G,!0)}function F(G){var Q=I((G=(0,S.FD)(G)).primaryKey);G.properties=(0,S.FD)(G.properties),G.additionalProperties=!1,Object.prototype.hasOwnProperty.call(G,"keyCompression")||(G.keyCompression=!1),G.indexes=G.indexes?G.indexes.slice(0):[],G.required=G.required?G.required.slice(0):[],G.encrypted=G.encrypted?G.encrypted.slice(0):[],G.properties._rev={type:"string",minLength:1},G.properties._attachments={type:"object"},G.properties._deleted={type:"boolean"},G.properties._meta=M,G.required=G.required?G.required.slice(0):[],G.required.push("_deleted"),G.required.push("_rev"),G.required.push("_meta"),G.required.push("_attachments");var ne=V(G);(0,_.Hb)(G.required,ne),G.required=G.required.filter(Oe=>!Oe.includes(".")).filter((Oe,nt,ge)=>ge.indexOf(Oe)===nt),G.version=G.version||0;var ue=G.indexes.map(Oe=>{var nt=(0,_.k_)(Oe)?Oe.slice(0):[Oe];return nt.includes(Q)||nt.push(Q),"_deleted"!==nt[0]&&nt.unshift("_deleted"),nt});0===ue.length&&ue.push(function p(G){return["_deleted",G]}(Q)),ue.push(["_meta.lwt",Q]),G.internalIndexes&&G.internalIndexes.map(Oe=>{ue.push(Oe)});var ve=new Set;return ue.filter(Oe=>{var nt=Oe.join(",");return!ve.has(nt)&&(ve.add(nt),!0)}),G.indexes=ue,G}var M={type:"object",properties:{lwt:{type:"number",minimum:a(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function V(G){var Q=Object.keys(G.properties).filter(ue=>G.properties[ue].final),ne=I(G.primaryKey);return Q.push(ne),"string"!=typeof G.primaryKey&&G.primaryKey.fields.forEach(ue=>Q.push(ue)),Q}function B(G,Q){for(var ne=Object.keys(G.defaultValues),ue=0;ue<ne.length;++ue){var ve=ne[ue];(!Object.prototype.hasOwnProperty.call(Q,ve)||typeof Q[ve]>"u")&&(Q[ve]=G.defaultValues[ve])}return Q}},1948(ct,E,a){"use strict";a.d(E,{M9:()=>P,Yi:()=>D,kc:()=>$});var u=a(467),r=a(4740),d=a(8663);function D(_){if(!_.collection.schema.jsonSchema.attachments)throw(0,r.Br)("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function $(_){Object.entries(_.doc.collection.attachments).forEach(([b,W])=>{Object.defineProperty(_,b,{get:()=>W.bind(_)})})}function P(_,b,W,C){return S.apply(this,arguments)}function S(){return S=(0,u.A)(function*(_,b,W,C){if(!W._attachments||C&&!C._attachments)throw new Error("_attachments missing");var L=W[_],I=new Set(C&&C._attachments?Object.keys(C._attachments):[]);return yield Promise.all(Object.entries(W._attachments).map(function(){var A=(0,u.A)(function*([U,O]){if((!I.has(U)||C&&(0,d.ZN)(C._attachments)[U].digest!==O.digest)&&!O.data){var p=yield b.getAttachmentData(L,U,O.digest);O.data=p}});return function(U){return A.apply(this,arguments)}}())),W}),S.apply(this,arguments)}},1985(ct,E,a){"use strict";a.d(E,{c:()=>_});var u=a(7707),r=a(8359),d=a(3494),D=a(1203),$=a(1026),P=a(8071),S=a(9786);let _=(()=>{class L{constructor(A){A&&(this._subscribe=A)}lift(A){const U=new L;return U.source=this,U.operator=A,U}subscribe(A,U,O){const p=function C(L){return L&&L instanceof u.vU||function W(L){return L&&(0,P.T)(L.next)&&(0,P.T)(L.error)&&(0,P.T)(L.complete)}(L)&&(0,r.Uv)(L)}(A)?A:new u.Ms(A,U,O);return(0,S.Y)(()=>{const{operator:F,source:T}=this;p.add(F?F.call(p,T):T?this._subscribe(p):this._trySubscribe(p))}),p}_trySubscribe(A){try{return this._subscribe(A)}catch(U){A.error(U)}}forEach(A,U){return new(U=b(U))((O,p)=>{const F=new u.Ms({next:T=>{try{A(T)}catch(M){p(M),F.unsubscribe()}},error:p,complete:O});this.subscribe(F)})}_subscribe(A){var U;return null===(U=this.source)||void 0===U?void 0:U.subscribe(A)}[d.s](){return this}pipe(...A){return(0,D.m)(A)(this)}toPromise(A){return new(A=b(A))((U,O)=>{let p;this.subscribe(F=>p=F,F=>O(F),()=>U(p))})}}return L.create=I=>new L(I),L})();function b(L){var I;return null!==(I=L??$.$.Promise)&&void 0!==I?I:Promise}},2060(ct,E,a){"use strict";a.d(E,{Fq:()=>d,MC:()=>u,Xz:()=>D,YL:()=>$,o4:()=>r});var u=1;function r(){return{lwt:u}}function d(){return""}function D(b){return Object.assign({},b,{_meta:void 0,_deleted:void 0,_rev:void 0})}function $(b,W,C){if(W.length!==C.length)return!1;for(var L=0,I=W.length;L<I;){var A=W[L],U=C[L];if(L++,A[b]!==U[b]||A._rev!==U._rev||A._meta.lwt!==U._meta.lwt)return!1}return!0}},2079(ct){"use strict";ct.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},2104(ct,E,a){"use strict";a.d(E,{CC:()=>U,Nu:()=>W,Uy:()=>L,WY:()=>p,bD:()=>ne,bV:()=>ve,lz:()=>O,ol:()=>V,vV:()=>G});var u=a(467),r=a(4740),d=a(1885),D=a(6893),$=a(2060),P=a(720),S=a(6434),_=a(8663),b=a(6362),W="collection",C="storage-token",L="rx-migration-status",U=(0,d.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[W,C,L,"rx-pipeline-checkpoint","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function O(Oe,nt){return(0,d.U)(U,{key:Oe,context:nt})}function p(Oe){return F.apply(this,arguments)}function F(){return(F=(0,u.A)(function*(Oe){var nt=(0,b.Ib)(Oe.schema,{selector:{context:W,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Oe.query(nt)).documents})).apply(this,arguments)}var T="storageToken",M=O(T,C);function V(Oe){return B.apply(this,arguments)}function B(){return(B=(0,u.A)(function*(Oe){var nt=(0,P.zs)(10),ge=Oe.password?yield Oe.hashFunction(JSON.stringify(Oe.password)):void 0,He=[{document:{id:M,context:C,key:T,data:{rxdbVersion:Oe.rxdbVersion,token:nt,instanceToken:Oe.token,passwordHash:ge},_deleted:!1,_meta:(0,$.o4)(),_rev:(0,$.Fq)(),_attachments:{}}}],et=yield Oe.internalStore.bulkWrite(He,"internal-add-storage-token");if(!et.error[0])return(0,D.YN)("id",He,et)[0];var Ke=(0,_.ZN)(et.error[0]);if(Ke.isError&&(0,r.sX)(Ke)){var Xe=Ke;if(!function q(Oe,nt){if(!Oe)return!1;var ge=Oe.split(".")[0],xe=nt.split(".")[0];return"15"===ge&&"16"===xe||ge===xe}(Xe.documentInDb.data.rxdbVersion,Oe.rxdbVersion))throw(0,r.Br)("DM5",{args:{database:Oe.name,databaseStateVersion:Xe.documentInDb.data.rxdbVersion,codeVersion:Oe.rxdbVersion}});if(ge&&ge!==Xe.documentInDb.data.passwordHash)throw(0,r.Br)("DB1",{passwordHash:ge,existingPasswordHash:Xe.documentInDb.data.passwordHash});return(0,_.ZN)(Xe.documentInDb)}throw Ke})).apply(this,arguments)}function G(Oe,nt,ge){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.A)(function*(Oe,nt,ge){if(Oe.schema.version!==ge.version)throw(0,r.Br)("SNH",{schema:ge,version:Oe.schema.version,name:Oe.name,collection:Oe,args:{storageCollectionName:nt}});for(var He=O(ve(Oe.name,Oe.schema.jsonSchema),W);;){var et=yield(0,D.O5)(Oe.database.internalStore,He),Ke=(0,S.o8)((0,_.ZN)(et));if(Ke.data.connectedStorages.find(Ie=>Ie.collectionName===nt&&Ie.schema.version===ge.version))return;Ke.data.connectedStorages.push({collectionName:nt,schema:ge});try{yield(0,D.mQ)(Oe.database.internalStore,{previous:(0,_.ZN)(et),document:Ke},"add-connected-storage-to-collection")}catch(Ie){if(!(0,r.sX)(Ie))throw Ie}}})).apply(this,arguments)}function ne(Oe,nt,ge){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.A)(function*(Oe,nt,ge){if(Oe.schema.version!==ge.version)throw(0,r.Br)("SNH",{schema:ge,version:Oe.schema.version,name:Oe.name,collection:Oe,args:{storageCollectionName:nt}});for(var He=O(ve(Oe.name,Oe.schema.jsonSchema),W);;){var et=yield(0,D.O5)(Oe.database.internalStore,He),Ke=(0,S.o8)((0,_.ZN)(et));if(!Ke.data.connectedStorages.find(Ie=>Ie.collectionName===nt&&Ie.schema.version===ge.version))return;Ke.data.connectedStorages=Ke.data.connectedStorages.filter(Ie=>Ie.collectionName!==nt);try{yield(0,D.mQ)(Oe.database.internalStore,{previous:(0,_.ZN)(et),document:Ke},"remove-connected-storage-from-collection")}catch(Ie){if(!(0,r.sX)(Ie))throw Ie}}})).apply(this,arguments)}function ve(Oe,nt){return Oe+"-"+nt.version}},2113(ct,E,a){"use strict";var u=a(9293).default;Object.defineProperty(E,"__esModule",{value:!0}),E.CodeGen=E.Name=E.nil=E.stringify=E.str=E._=E.KeywordCxt=void 0;var r=a(7157);Object.defineProperty(E,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var d=a(5432);Object.defineProperty(E,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(E,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(E,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(E,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(E,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(E,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});const D=a(9857),$=a(6606),P=a(6093),S=a(7762),_=a(5432),b=a(8222),W=a(3513),C=a(7868),L=a(3837),I=a(2857),A=(Ie,se)=>new RegExp(Ie,se);A.code="new RegExp";const U=["removeAdditional","useDefaults","coerceTypes"],O=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},F={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function M(Ie){var se,ce,Y,_e,Le,st,K,De,Te,me,j,te,Me,pe,ae,Ne,Ce,Ze,ot,k,J,ke,ze,Ge,Re;const Dt=Ie.strict,at=null===(se=Ie.code)||void 0===se?void 0:se.optimize,Et=!0===at||void 0===at?1:at||0,Vt=null!==(Y=null===(ce=Ie.code)||void 0===ce?void 0:ce.regExp)&&void 0!==Y?Y:A,Yt=null!==(_e=Ie.uriResolver)&&void 0!==_e?_e:I.default;return{strictSchema:null===(st=null!==(Le=Ie.strictSchema)&&void 0!==Le?Le:Dt)||void 0===st||st,strictNumbers:null===(De=null!==(K=Ie.strictNumbers)&&void 0!==K?K:Dt)||void 0===De||De,strictTypes:null!==(me=null!==(Te=Ie.strictTypes)&&void 0!==Te?Te:Dt)&&void 0!==me?me:"log",strictTuples:null!==(te=null!==(j=Ie.strictTuples)&&void 0!==j?j:Dt)&&void 0!==te?te:"log",strictRequired:null!==(pe=null!==(Me=Ie.strictRequired)&&void 0!==Me?Me:Dt)&&void 0!==pe&&pe,code:Ie.code?{...Ie.code,optimize:Et,regExp:Vt}:{optimize:Et,regExp:Vt},loopRequired:null!==(ae=Ie.loopRequired)&&void 0!==ae?ae:200,loopEnum:null!==(Ne=Ie.loopEnum)&&void 0!==Ne?Ne:200,meta:null===(Ce=Ie.meta)||void 0===Ce||Ce,messages:null===(Ze=Ie.messages)||void 0===Ze||Ze,inlineRefs:null===(ot=Ie.inlineRefs)||void 0===ot||ot,schemaId:null!==(k=Ie.schemaId)&&void 0!==k?k:"$id",addUsedSchema:null===(J=Ie.addUsedSchema)||void 0===J||J,validateSchema:null===(ke=Ie.validateSchema)||void 0===ke||ke,validateFormats:null===(ze=Ie.validateFormats)||void 0===ze||ze,unicodeRegExp:null===(Ge=Ie.unicodeRegExp)||void 0===Ge||Ge,int32range:null===(Re=Ie.int32range)||void 0===Re||Re,uriResolver:Yt}}class V{constructor(se={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,se=this.opts={...se,...M(se)};const{es5:ce,lines:Y}=this.opts.code;this.scope=new _.ValueScope({scope:{},prefixes:O,es5:ce,lines:Y}),this.logger=function Oe(Ie){if(!1===Ie)return ve;if(void 0===Ie)return console;if(Ie.log&&Ie.warn&&Ie.error)return Ie;throw new Error("logger must implement log, warn and error methods")}(se.logger);const _e=se.validateFormats;se.validateFormats=!1,this.RULES=(0,P.getRules)(),B.call(this,p,se,"NOT SUPPORTED"),B.call(this,F,se,"DEPRECATED","warn"),this._metaOpts=ue.call(this),se.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),se.keywords&&ne.call(this,se.keywords),"object"==typeof se.meta&&this.addMetaSchema(se.meta),G.call(this),se.validateFormats=_e}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:se,meta:ce,schemaId:Y}=this.opts;let _e=L;"id"===Y&&(_e={...L},_e.id=_e.$id,delete _e.$id),ce&&se&&this.addMetaSchema(_e,_e[Y],!1)}defaultMeta(){const{meta:se,schemaId:ce}=this.opts;return this.opts.defaultMeta="object"==typeof se?se[ce]||se:void 0}validate(se,ce){let Y;if("string"==typeof se){if(Y=this.getSchema(se),!Y)throw new Error(`no schema with key or ref "${se}"`)}else Y=this.compile(se);const _e=Y(ce);return"$async"in Y||(this.errors=Y.errors),_e}compile(se,ce){const Y=this._addSchema(se,ce);return Y.validate||this._compileSchemaEnv(Y)}compileAsync(se,ce){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:Y}=this.opts;return _e.call(this,se,ce);function _e(ae,Ne){return Le.apply(this,arguments)}function Le(){return(Le=u(function*(ae,Ne){yield st.call(this,ae.$schema);const Ce=this._addSchema(ae,Ne);return Ce.validate||De.call(this,Ce)})).apply(this,arguments)}function st(ae){return K.apply(this,arguments)}function K(){return(K=u(function*(ae){ae&&!this.getSchema(ae)&&(yield _e.call(this,{$ref:ae},!0))})).apply(this,arguments)}function De(ae){return Te.apply(this,arguments)}function Te(){return(Te=u(function*(ae){try{return this._compileSchemaEnv(ae)}catch(Ne){if(!(Ne instanceof $.default))throw Ne;return me.call(this,Ne),yield j.call(this,Ne.missingSchema),De.call(this,ae)}})).apply(this,arguments)}function me({missingSchema:ae,missingRef:Ne}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${Ne} cannot be resolved`)}function j(ae){return te.apply(this,arguments)}function te(){return(te=u(function*(ae){const Ne=yield Me.call(this,ae);this.refs[ae]||(yield st.call(this,Ne.$schema)),this.refs[ae]||this.addSchema(Ne,ae,ce)})).apply(this,arguments)}function Me(ae){return pe.apply(this,arguments)}function pe(){return(pe=u(function*(ae){const Ne=this._loading[ae];if(Ne)return Ne;try{return yield this._loading[ae]=Y(ae)}finally{delete this._loading[ae]}})).apply(this,arguments)}}addSchema(se,ce,Y,_e=this.opts.validateSchema){if(Array.isArray(se)){for(const st of se)this.addSchema(st,void 0,Y,_e);return this}let Le;if("object"==typeof se){const{schemaId:st}=this.opts;if(Le=se[st],void 0!==Le&&"string"!=typeof Le)throw new Error(`schema ${st} must be string`)}return ce=(0,b.normalizeId)(ce||Le),this._checkUnique(ce),this.schemas[ce]=this._addSchema(se,Y,ce,_e,!0),this}addMetaSchema(se,ce,Y=this.opts.validateSchema){return this.addSchema(se,ce,!0,Y),this}validateSchema(se,ce){if("boolean"==typeof se)return!0;let Y;if(Y=se.$schema,void 0!==Y&&"string"!=typeof Y)throw new Error("$schema must be a string");if(Y=Y||this.opts.defaultMeta||this.defaultMeta(),!Y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const _e=this.validate(Y,se);if(!_e&&ce){const Le="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Le);this.logger.error(Le)}return _e}getSchema(se){let ce;for(;"string"==typeof(ce=q.call(this,se));)se=ce;if(void 0===ce){const{schemaId:Y}=this.opts,_e=new S.SchemaEnv({schema:{},schemaId:Y});if(ce=S.resolveSchema.call(this,_e,se),!ce)return;this.refs[se]=ce}return ce.validate||this._compileSchemaEnv(ce)}removeSchema(se){if(se instanceof RegExp)return this._removeAllSchemas(this.schemas,se),this._removeAllSchemas(this.refs,se),this;switch(typeof se){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ce=q.call(this,se);return"object"==typeof ce&&this._cache.delete(ce.schema),delete this.schemas[se],delete this.refs[se],this}case"object":{this._cache.delete(se);let Y=se[this.opts.schemaId];return Y&&(Y=(0,b.normalizeId)(Y),delete this.schemas[Y],delete this.refs[Y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(se){for(const ce of se)this.addKeyword(ce);return this}addKeyword(se,ce){let Y;if("string"==typeof se)Y=se,"object"==typeof ce&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ce.keyword=Y);else{if("object"!=typeof se||void 0!==ce)throw new Error("invalid addKeywords parameters");if(Y=(ce=se).keyword,Array.isArray(Y)&&!Y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ge.call(this,Y,ce),!ce)return(0,C.eachItem)(Y,Le=>xe.call(this,Le)),this;et.call(this,ce);const _e={...ce,type:(0,W.getJSONTypes)(ce.type),schemaType:(0,W.getJSONTypes)(ce.schemaType)};return(0,C.eachItem)(Y,0===_e.type.length?Le=>xe.call(this,Le,_e):Le=>_e.type.forEach(st=>xe.call(this,Le,_e,st))),this}getKeyword(se){const ce=this.RULES.all[se];return"object"==typeof ce?ce.definition:!!ce}removeKeyword(se){const{RULES:ce}=this;delete ce.keywords[se],delete ce.all[se];for(const Y of ce.rules){const _e=Y.rules.findIndex(Le=>Le.keyword===se);_e>=0&&Y.rules.splice(_e,1)}return this}addFormat(se,ce){return"string"==typeof ce&&(ce=new RegExp(ce)),this.formats[se]=ce,this}errorsText(se=this.errors,{separator:ce=", ",dataVar:Y="data"}={}){return se&&0!==se.length?se.map(_e=>`${Y}${_e.instancePath} ${_e.message}`).reduce((_e,Le)=>_e+ce+Le):"No errors"}$dataMetaSchema(se,ce){const Y=this.RULES.all;se=JSON.parse(JSON.stringify(se));for(const _e of ce){const Le=_e.split("/").slice(1);let st=se;for(const K of Le)st=st[K];for(const K in Y){const De=Y[K];if("object"!=typeof De)continue;const{$data:Te}=De.definition,me=st[K];Te&&me&&(st[K]=Xe(me))}}return se}_removeAllSchemas(se,ce){for(const Y in se){const _e=se[Y];(!ce||ce.test(Y))&&("string"==typeof _e?delete se[Y]:_e&&!_e.meta&&(this._cache.delete(_e.schema),delete se[Y]))}}_addSchema(se,ce,Y,_e=this.opts.validateSchema,Le=this.opts.addUsedSchema){let st;const{schemaId:K}=this.opts;if("object"==typeof se)st=se[K];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof se)throw new Error("schema must be object or boolean")}let De=this._cache.get(se);if(void 0!==De)return De;Y=(0,b.normalizeId)(st||Y);const Te=b.getSchemaRefs.call(this,se,Y);return De=new S.SchemaEnv({schema:se,schemaId:K,meta:ce,baseId:Y,localRefs:Te}),this._cache.set(De.schema,De),Le&&!Y.startsWith("#")&&(Y&&this._checkUnique(Y),this.refs[Y]=De),_e&&this.validateSchema(se,!0),De}_checkUnique(se){if(this.schemas[se]||this.refs[se])throw new Error(`schema with key or id "${se}" already exists`)}_compileSchemaEnv(se){if(se.meta?this._compileMetaSchema(se):S.compileSchema.call(this,se),!se.validate)throw new Error("ajv implementation error");return se.validate}_compileMetaSchema(se){const ce=this.opts;this.opts=this._metaOpts;try{S.compileSchema.call(this,se)}finally{this.opts=ce}}}function B(Ie,se,ce,Y="error"){for(const _e in Ie)_e in se&&this.logger[Y](`${ce}: option ${_e}. ${Ie[_e]}`)}function q(Ie){return Ie=(0,b.normalizeId)(Ie),this.schemas[Ie]||this.refs[Ie]}function G(){const Ie=this.opts.schemas;if(Ie)if(Array.isArray(Ie))this.addSchema(Ie);else for(const se in Ie)this.addSchema(Ie[se],se)}function Q(){for(const Ie in this.opts.formats){const se=this.opts.formats[Ie];se&&this.addFormat(Ie,se)}}function ne(Ie){if(Array.isArray(Ie))this.addVocabulary(Ie);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const se in Ie){const ce=Ie[se];ce.keyword||(ce.keyword=se),this.addKeyword(ce)}}}function ue(){const Ie={...this.opts};for(const se of U)delete Ie[se];return Ie}V.ValidationError=D.default,V.MissingRefError=$.default,E.default=V;const ve={log(){},warn(){},error(){}},nt=/^[a-z_$][a-z0-9_$:-]*$/i;function ge(Ie,se){const{RULES:ce}=this;if((0,C.eachItem)(Ie,Y=>{if(ce.keywords[Y])throw new Error(`Keyword ${Y} is already defined`);if(!nt.test(Y))throw new Error(`Keyword ${Y} has invalid name`)}),se&&se.$data&&!("code"in se)&&!("validate"in se))throw new Error('$data keyword must have "code" or "validate" function')}function xe(Ie,se,ce){var Y;const _e=se?.post;if(ce&&_e)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Le}=this;let st=_e?Le.post:Le.rules.find(({type:De})=>De===ce);if(st||(st={type:ce,rules:[]},Le.rules.push(st)),Le.keywords[Ie]=!0,!se)return;const K={keyword:Ie,definition:{...se,type:(0,W.getJSONTypes)(se.type),schemaType:(0,W.getJSONTypes)(se.schemaType)}};se.before?He.call(this,st,K,se.before):st.rules.push(K),Le.all[Ie]=K,null===(Y=se.implements)||void 0===Y||Y.forEach(De=>this.addKeyword(De))}function He(Ie,se,ce){const Y=Ie.rules.findIndex(_e=>_e.keyword===ce);Y>=0?Ie.rules.splice(Y,0,se):(Ie.rules.push(se),this.logger.warn(`rule ${ce} is not defined`))}function et(Ie){let{metaSchema:se}=Ie;void 0!==se&&(Ie.$data&&this.opts.$data&&(se=Xe(se)),Ie.validateSchema=this.compile(se,!0))}const Ke={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Xe(Ie){return{anyOf:[Ie,Ke]}}},2240(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.validateUnion=E.validateArray=E.usePattern=E.callValidateCode=E.schemaProperties=E.allSchemaProperties=E.noPropertyInData=E.propertyInData=E.isOwnProperty=E.hasPropFunc=E.reportMissingProp=E.checkMissingProp=E.checkReportMissingProp=void 0;const u=a(5432),r=a(7868),d=a(2682),D=a(7868);function _(T){return T.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:u._`Object.prototype.hasOwnProperty`})}function b(T,M,V){return u._`${_(T)}.call(${M}, ${V})`}function C(T,M,V,B){const q=u._`${M}${(0,u.getProperty)(V)} === undefined`;return B?(0,u.or)(q,(0,u.not)(b(T,M,V))):q}function L(T){return T?Object.keys(T).filter(M=>"__proto__"!==M):[]}E.checkReportMissingProp=function $(T,M){const{gen:V,data:B,it:q}=T;V.if(C(V,B,M,q.opts.ownProperties),()=>{T.setParams({missingProperty:u._`${M}`},!0),T.error()})},E.checkMissingProp=function P({gen:T,data:M,it:{opts:V}},B,q){return(0,u.or)(...B.map(G=>(0,u.and)(C(T,M,G,V.ownProperties),u._`${q} = ${G}`)))},E.reportMissingProp=function S(T,M){T.setParams({missingProperty:M},!0),T.error()},E.hasPropFunc=_,E.isOwnProperty=b,E.propertyInData=function W(T,M,V,B){const q=u._`${M}${(0,u.getProperty)(V)} !== undefined`;return B?u._`${q} && ${b(T,M,V)}`:q},E.noPropertyInData=C,E.allSchemaProperties=L,E.schemaProperties=function I(T,M){return L(M).filter(V=>!(0,r.alwaysValidSchema)(T,M[V]))},E.callValidateCode=function A({schemaCode:T,data:M,it:{gen:V,topSchemaRef:B,schemaPath:q,errorPath:G},it:Q},ne,ue,ve){const Oe=ve?u._`${T}, ${M}, ${B}${q}`:M,nt=[[d.default.instancePath,(0,u.strConcat)(d.default.instancePath,G)],[d.default.parentData,Q.parentData],[d.default.parentDataProperty,Q.parentDataProperty],[d.default.rootData,d.default.rootData]];Q.opts.dynamicRef&&nt.push([d.default.dynamicAnchors,d.default.dynamicAnchors]);const ge=u._`${Oe}, ${V.object(...nt)}`;return ue!==u.nil?u._`${ne}.call(${ue}, ${ge})`:u._`${ne}(${ge})`};const U=u._`new RegExp`;E.usePattern=function O({gen:T,it:{opts:M}},V){const B=M.unicodeRegExp?"u":"",{regExp:q}=M.code,G=q(V,B);return T.scopeValue("pattern",{key:G.toString(),ref:G,code:u._`${"new RegExp"===q.code?U:(0,D.useFunc)(T,q)}(${V}, ${B})`})},E.validateArray=function p(T){const{gen:M,data:V,keyword:B,it:q}=T,G=M.name("valid");if(q.allErrors){const ne=M.let("valid",!0);return Q(()=>M.assign(ne,!1)),ne}return M.var(G,!0),Q(()=>M.break()),G;function Q(ne){const ue=M.const("len",u._`${V}.length`);M.forRange("i",0,ue,ve=>{T.subschema({keyword:B,dataProp:ve,dataPropType:r.Type.Num},G),M.if((0,u.not)(G),ne)})}},E.validateUnion=function F(T){const{gen:M,schema:V,keyword:B,it:q}=T;if(!Array.isArray(V))throw new Error("ajv implementation error");if(V.some(ue=>(0,r.alwaysValidSchema)(q,ue))&&!q.opts.unevaluated)return;const Q=M.let("valid",!1),ne=M.name("_valid");M.block(()=>V.forEach((ue,ve)=>{const Oe=T.subschema({keyword:B,schemaProp:ve,compositeRule:!0},ne);M.assign(Q,u._`${Q} || ${ne}`),T.mergeValidEvaluated(Oe,ne)||M.if((0,u.not)(Q))})),T.result(Q,()=>T.reset(),()=>T.error(!0))}},2284(ct,E,a){"use strict";a.d(E,{FX:()=>D,Xi:()=>d,r:()=>r});var u=a(467),r={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postCloseRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],prePrepareRxQuery:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preCloseRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function d(S,_){r[S].length>0&&r[S].forEach(b=>b(_))}function D(S,_){return $.apply(this,arguments)}function $(){return($=(0,u.A)(function*(S,_){for(var b of r[S])yield b(_)})).apply(this,arguments)}},2489(ct,E,a){"use strict";a.r(E),a.d(E,{$cmp:()=>d,$eq:()=>$,$gt:()=>P,$gte:()=>S,$lt:()=>_,$lte:()=>b,$ne:()=>W});var u=a(7624),r=a(4671);const d=(C,L,I)=>{const A=(0,u.px)(C,L,null,I);return(0,r.vA)((0,r.cy)(A)&&2==A.length,"$cmp: expression must resolve to array of size 2."),(0,r.UD)(A[0],A[1])};var D=a(570);const $=(0,D.fw)(D.XV),P=(0,D.fw)(D.MR),S=(0,D.fw)(D.fy),_=(0,D.fw)(D.NV),b=(0,D.fw)(D.Q_),W=(0,D.fw)(D.C5)},2498(ct,E,a){"use strict";a.d(E,{L:()=>P});var u=a(9974),r=a(4360),d=a(3669),D=a(1584),$=a(8750);function P(S=1/0){let _;_=S&&"object"==typeof S?S:{count:S};const{count:b=1/0,delay:W,resetOnSuccess:C=!1}=_;return b<=0?d.D:(0,u.N)((L,I)=>{let U,A=0;const O=()=>{let p=!1;U=L.subscribe((0,r._)(I,F=>{C&&(A=0),I.next(F)},void 0,F=>{if(A++<b){const T=()=>{U?(U.unsubscribe(),U=null,O()):p=!0};if(null!=W){const M="number"==typeof W?(0,D.O)(W):(0,$.Tg)(W(F,A)),V=(0,r._)(I,()=>{V.unsubscribe(),T()},()=>{I.complete()});M.subscribe(V)}else T()}else I.error(F)})),p&&(U.unsubscribe(),U=null,O())};O()})}},2573(ct,E,a){"use strict";a.d(E,{A:()=>nt});var u={};a.r(u),a.d(u,{exclude:()=>Oe,extract:()=>q,parse:()=>G,parseUrl:()=>ne,pick:()=>ve,stringify:()=>Q,stringifyUrl:()=>ue});const r="%[a-f0-9]{2}",d=new RegExp("("+r+")|([^%]+?)","gi"),D=new RegExp("("+r+")+","gi");function $(ge,xe){try{return[decodeURIComponent(ge.join(""))]}catch{}if(1===ge.length)return ge;const He=ge.slice(0,xe=xe||1),et=ge.slice(xe);return Array.prototype.concat.call([],$(He),$(et))}function P(ge){try{return decodeURIComponent(ge)}catch{let xe=ge.match(d)||[];for(let He=1;He<xe.length;He++)xe=(ge=$(xe,He).join("")).match(d)||[];return ge}}function b(ge,xe){if("string"!=typeof ge||"string"!=typeof xe)throw new TypeError("Expected the arguments to be of type `string`");if(""===ge||""===xe)return[];const He=ge.indexOf(xe);return-1===He?[]:[ge.slice(0,He),ge.slice(He+xe.length)]}var W=a(8389);const I=Symbol("encodeFragmentIdentifier");function O(ge){if("string"!=typeof ge||1!==ge.length)throw new TypeError("arrayFormatSeparator must be single character string")}function p(ge,xe){return xe.encode?xe.strict?(ge=>encodeURIComponent(ge).replace(/[!'()*]/g,xe=>`%${xe.charCodeAt(0).toString(16).toUpperCase()}`))(ge):encodeURIComponent(ge):ge}function F(ge,xe){return xe.decode?function _(ge){if("string"!=typeof ge)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof ge+"`");try{return decodeURIComponent(ge)}catch{return function S(ge){const xe={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"};let He=D.exec(ge);for(;He;){try{xe[He[0]]=decodeURIComponent(He[0])}catch{const Ke=P(He[0]);Ke!==He[0]&&(xe[He[0]]=Ke)}He=D.exec(ge)}xe["%C2"]="\ufffd";const et=Object.keys(xe);for(const Ke of et)ge=ge.replace(new RegExp(Ke,"g"),xe[Ke]);return ge}(ge)}}(ge):ge}function T(ge){return Array.isArray(ge)?ge.sort():"object"==typeof ge?T(Object.keys(ge)).sort((xe,He)=>Number(xe)-Number(He)).map(xe=>ge[xe]):ge}function M(ge){const xe=ge.indexOf("#");return-1!==xe&&(ge=ge.slice(0,xe)),ge}function B(ge,xe){return xe.parseNumbers&&!Number.isNaN(Number(ge))&&"string"==typeof ge&&""!==ge.trim()?ge=Number(ge):xe.parseBooleans&&null!==ge&&("true"===ge.toLowerCase()||"false"===ge.toLowerCase())&&(ge="true"===ge.toLowerCase()),ge}function q(ge){const xe=(ge=M(ge)).indexOf("?");return-1===xe?"":ge.slice(xe+1)}function G(ge,xe){O((xe={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...xe}).arrayFormatSeparator);const He=function U(ge){let xe;switch(ge.arrayFormat){case"index":return(He,et,Ke)=>{xe=/\[(\d*)]$/.exec(He),He=He.replace(/\[\d*]$/,""),xe?(void 0===Ke[He]&&(Ke[He]={}),Ke[He][xe[1]]=et):Ke[He]=et};case"bracket":return(He,et,Ke)=>{xe=/(\[])$/.exec(He),Ke[He=He.replace(/\[]$/,"")]=xe?void 0!==Ke[He]?[...Ke[He],et]:[et]:et};case"colon-list-separator":return(He,et,Ke)=>{xe=/(:list)$/.exec(He),Ke[He=He.replace(/:list$/,"")]=xe?void 0!==Ke[He]?[...Ke[He],et]:[et]:et};case"comma":case"separator":return(He,et,Ke)=>{const Xe="string"==typeof et&&et.includes(ge.arrayFormatSeparator),Ie="string"==typeof et&&!Xe&&F(et,ge).includes(ge.arrayFormatSeparator);et=Ie?F(et,ge):et;const se=Xe||Ie?et.split(ge.arrayFormatSeparator).map(ce=>F(ce,ge)):null===et?et:F(et,ge);Ke[He]=se};case"bracket-separator":return(He,et,Ke)=>{const Xe=/(\[])$/.test(He);if(He=He.replace(/\[]$/,""),!Xe)return void(Ke[He]=et&&F(et,ge));const Ie=null===et?[]:et.split(ge.arrayFormatSeparator).map(se=>F(se,ge));Ke[He]=void 0!==Ke[He]?[...Ke[He],...Ie]:Ie};default:return(He,et,Ke)=>{Ke[He]=void 0!==Ke[He]?[...[Ke[He]].flat(),et]:et}}}(xe),et=Object.create(null);if("string"!=typeof ge||!(ge=ge.trim().replace(/^[?#&]/,"")))return et;for(const Ke of ge.split("&")){if(""===Ke)continue;const Xe=xe.decode?Ke.replace(/\+/g," "):Ke;let[Ie,se]=b(Xe,"=");void 0===Ie&&(Ie=Xe),se=void 0===se?null:["comma","separator","bracket-separator"].includes(xe.arrayFormat)?se:F(se,xe),He(F(Ie,xe),se,et)}for(const[Ke,Xe]of Object.entries(et))if("object"==typeof Xe&&null!==Xe)for(const[Ie,se]of Object.entries(Xe))Xe[Ie]=B(se,xe);else et[Ke]=B(Xe,xe);return!1===xe.sort?et:(!0===xe.sort?Object.keys(et).sort():Object.keys(et).sort(xe.sort)).reduce((Ke,Xe)=>{const Ie=et[Xe];return Ke[Xe]=Ie&&"object"==typeof Ie&&!Array.isArray(Ie)?T(Ie):Ie,Ke},Object.create(null))}function Q(ge,xe){if(!ge)return"";O((xe={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...xe}).arrayFormatSeparator);const He=Ie=>xe.skipNull&&(ge=>null==ge)(ge[Ie])||xe.skipEmptyString&&""===ge[Ie],et=function A(ge){switch(ge.arrayFormat){case"index":return xe=>(He,et)=>{const Ke=He.length;return void 0===et||ge.skipNull&&null===et||ge.skipEmptyString&&""===et?He:null===et?[...He,[p(xe,ge),"[",Ke,"]"].join("")]:[...He,[p(xe,ge),"[",p(Ke,ge),"]=",p(et,ge)].join("")]};case"bracket":return xe=>(He,et)=>void 0===et||ge.skipNull&&null===et||ge.skipEmptyString&&""===et?He:null===et?[...He,[p(xe,ge),"[]"].join("")]:[...He,[p(xe,ge),"[]=",p(et,ge)].join("")];case"colon-list-separator":return xe=>(He,et)=>void 0===et||ge.skipNull&&null===et||ge.skipEmptyString&&""===et?He:null===et?[...He,[p(xe,ge),":list="].join("")]:[...He,[p(xe,ge),":list=",p(et,ge)].join("")];case"comma":case"separator":case"bracket-separator":{const xe="bracket-separator"===ge.arrayFormat?"[]=":"=";return He=>(et,Ke)=>void 0===Ke||ge.skipNull&&null===Ke||ge.skipEmptyString&&""===Ke?et:(Ke=null===Ke?"":Ke,0===et.length?[[p(He,ge),xe,p(Ke,ge)].join("")]:[[et,p(Ke,ge)].join(ge.arrayFormatSeparator)])}default:return xe=>(He,et)=>void 0===et||ge.skipNull&&null===et||ge.skipEmptyString&&""===et?He:null===et?[...He,p(xe,ge)]:[...He,[p(xe,ge),"=",p(et,ge)].join("")]}}(xe),Ke={};for(const[Ie,se]of Object.entries(ge))He(Ie)||(Ke[Ie]=se);const Xe=Object.keys(Ke);return!1!==xe.sort&&Xe.sort(xe.sort),Xe.map(Ie=>{const se=ge[Ie];return void 0===se?"":null===se?p(Ie,xe):Array.isArray(se)?0===se.length&&"bracket-separator"===xe.arrayFormat?p(Ie,xe)+"[]":se.reduce(et(Ie),[]).join("&"):p(Ie,xe)+"="+p(se,xe)}).filter(Ie=>Ie.length>0).join("&")}function ne(ge,xe){xe={decode:!0,...xe};let[He,et]=b(ge,"#");return void 0===He&&(He=ge),{url:He?.split("?")?.[0]??"",query:G(q(ge),xe),...xe&&xe.parseFragmentIdentifier&&et?{fragmentIdentifier:F(et,xe)}:{}}}function ue(ge,xe){xe={encode:!0,strict:!0,[I]:!0,...xe};const He=M(ge.url).split("?")[0]||"";let Xe=Q({...G(q(ge.url),{sort:!1}),...ge.query},xe);Xe&&(Xe=`?${Xe}`);let Ie=function V(ge){let xe="";const He=ge.indexOf("#");return-1!==He&&(xe=ge.slice(He)),xe}(ge.url);if(ge.fragmentIdentifier){const se=new URL(He);se.hash=ge.fragmentIdentifier,Ie=xe[I]?se.hash:`#${ge.fragmentIdentifier}`}return`${He}${Xe}${Ie}`}function ve(ge,xe,He){He={parseFragmentIdentifier:!0,[I]:!1,...He};const{url:et,query:Ke,fragmentIdentifier:Xe}=ne(ge,He);return ue({url:et,query:(0,W.b)(Ke,xe),fragmentIdentifier:Xe},He)}function Oe(ge,xe,He){return ve(ge,Array.isArray(xe)?Ke=>!xe.includes(Ke):(Ke,Xe)=>!xe(Ke,Xe),He)}const nt=u},2646(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868);E.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:$})=>u._`{passingSchemas: ${$.passing}}`},code($){const{gen:P,schema:S,parentSchema:_,it:b}=$;if(!Array.isArray(S))throw new Error("ajv implementation error");if(b.opts.discriminator&&_.discriminator)return;const W=S,C=P.let("valid",!1),L=P.let("passing",null),I=P.name("_valid");$.setParams({passing:L}),P.block(function A(){W.forEach((U,O)=>{let p;(0,r.alwaysValidSchema)(b,U)?P.var(I,!0):p=$.subschema({keyword:"oneOf",schemaProp:O,compositeRule:!0},I),O>0&&P.if(u._`${I} && ${C}`).assign(C,!1).assign(L,u._`[${L}, ${O}]`).else(),P.if(I,()=>{P.assign(C,!0),P.assign(L,O),p&&$.mergeEvaluated(p,u.Name)})})}),$.result(C,()=>$.reset(),()=>$.error(!0))}}},2676(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.validateAdditionalItems=void 0;const u=a(5432),r=a(7868),D={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:P}})=>u.str`must NOT have more than ${P} items`,params:({params:{len:P}})=>u._`{limit: ${P}}`},code(P){const{parentSchema:S,it:_}=P,{items:b}=S;Array.isArray(b)?$(P,b):(0,r.checkStrictMode)(_,'"additionalItems" is ignored when "items" is not an array of schemas')}};function $(P,S){const{gen:_,schema:b,data:W,keyword:C,it:L}=P;L.items=!0;const I=_.const("len",u._`${W}.length`);if(!1===b)P.setParams({len:S.length}),P.pass(u._`${I} <= ${S.length}`);else if("object"==typeof b&&!(0,r.alwaysValidSchema)(L,b)){const U=_.var("valid",u._`${I} <= ${S.length}`);_.if((0,u.not)(U),()=>function A(U){_.forRange("i",S.length,I,O=>{P.subschema({keyword:C,dataProp:O,dataPropType:r.Type.Num},U),L.allErrors||_.if((0,u.not)(U),()=>_.break())})}(U)),P.ok(U)}}E.validateAdditionalItems=$,E.default=D},2682(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r={data:new u.Name("data"),valCxt:new u.Name("valCxt"),instancePath:new u.Name("instancePath"),parentData:new u.Name("parentData"),parentDataProperty:new u.Name("parentDataProperty"),rootData:new u.Name("rootData"),dynamicAnchors:new u.Name("dynamicAnchors"),vErrors:new u.Name("vErrors"),errors:new u.Name("errors"),this:new u.Name("this"),self:new u.Name("self"),scope:new u.Name("scope"),json:new u.Name("json"),jsonPos:new u.Name("jsonPos"),jsonLen:new u.Name("jsonLen"),jsonPart:new u.Name("jsonPart")};E.default=r},2771(ct,E,a){"use strict";a.d(E,{m:()=>d});var u=a(1413),r=a(6129);class d extends u.B{constructor($=1/0,P=1/0,S=r.U){super(),this._bufferSize=$,this._windowTime=P,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=P===1/0,this._bufferSize=Math.max(1,$),this._windowTime=Math.max(1,P)}next($){const{isStopped:P,_buffer:S,_infiniteTimeWindow:_,_timestampProvider:b,_windowTime:W}=this;P||(S.push($),!_&&S.push(b.now()+W)),this._trimBuffer(),super.next($)}_subscribe($){this._throwIfClosed(),this._trimBuffer();const P=this._innerSubscribe($),{_infiniteTimeWindow:S,_buffer:_}=this,b=_.slice();for(let W=0;W<b.length&&!$.closed;W+=S?1:2)$.next(b[W]);return this._checkFinalizedStatuses($),P}_trimBuffer(){const{_bufferSize:$,_timestampProvider:P,_buffer:S,_infiniteTimeWindow:_}=this,b=(_?1:2)*$;if($<1/0&&b<S.length&&S.splice(0,S.length-b),!_){const W=P.now();let C=0;for(let L=1;L<S.length&&S[L]<=W;L+=2)C=L;C&&S.splice(0,C+1)}}}},2857(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(8280);u.code='require("ajv/dist/runtime/uri").default',E.default=u},2896(ct,E,a){"use strict";a.d(E,{CI:()=>I,EU:()=>S,Hl:()=>D,Q5:()=>P,jd:()=>$,mE:()=>ue});var u=a(375),r=a(6494),d=a(5547);class D{_doc;constructor(Xe){this._doc=Xe}manager}let $=(()=>{class Ke extends D{constructor(Ie){super(Ie)}supports(Ie){return!0}addEventListener(Ie,se,ce,Y){return Ie.addEventListener(se,ce,Y),()=>this.removeEventListener(Ie,se,ce,Y)}removeEventListener(Ie,se,ce,Y){return Ie.removeEventListener(se,ce,Y)}static \u0275fac=function(se){return new(se||Ke)(u.KVO(u.qQL))};static \u0275prov=u.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();const P=new u.nKC("");let S=(()=>{class Ke{_zone;_plugins;_eventNameToPlugin=new Map;constructor(Ie,se){this._zone=se,Ie.forEach(_e=>{_e.manager=this});const ce=Ie.filter(_e=>!(_e instanceof $));this._plugins=ce.slice().reverse();const Y=Ie.find(_e=>_e instanceof $);Y&&this._plugins.push(Y)}addEventListener(Ie,se,ce,Y){return this._findPluginFor(se).addEventListener(Ie,se,ce,Y)}getZone(){return this._zone}_findPluginFor(Ie){let se=this._eventNameToPlugin.get(Ie);if(se)return se;if(se=this._plugins.find(Y=>Y.supports(Ie)),!se)throw new u.buA(5101,!1);return this._eventNameToPlugin.set(Ie,se),se}static \u0275fac=function(se){return new(se||Ke)(u.KVO(P),u.KVO(u.SKi))};static \u0275prov=u.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();const _="ng-app-id";function b(Ke){for(const Xe of Ke)Xe.remove()}function W(Ke,Xe){const Ie=Xe.createElement("style");return Ie.textContent=Ke,Ie}function L(Ke,Xe){const Ie=Xe.createElement("link");return Ie.setAttribute("rel","stylesheet"),Ie.setAttribute("href",Ke),Ie}let I=(()=>{class Ke{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(Ie,se,ce,Y={}){this.doc=Ie,this.appId=se,this.nonce=ce,function C(Ke,Xe,Ie,se){const ce=Ke.head?.querySelectorAll(`style[${_}="${Xe}"],link[${_}="${Xe}"]`);if(ce)for(const Y of ce)Y.removeAttribute(_),Y instanceof HTMLLinkElement?se.set(Y.href.slice(Y.href.lastIndexOf("/")+1),{usage:0,elements:[Y]}):Y.textContent&&Ie.set(Y.textContent,{usage:0,elements:[Y]})}(Ie,se,this.inline,this.external),this.hosts.add(Ie.head)}addStyles(Ie,se){for(const ce of Ie)this.addUsage(ce,this.inline,W);se?.forEach(ce=>this.addUsage(ce,this.external,L))}removeStyles(Ie,se){for(const ce of Ie)this.removeUsage(ce,this.inline);se?.forEach(ce=>this.removeUsage(ce,this.external))}addUsage(Ie,se,ce){const Y=se.get(Ie);Y?Y.usage++:se.set(Ie,{usage:1,elements:[...this.hosts].map(_e=>this.addElement(_e,ce(Ie,this.doc)))})}removeUsage(Ie,se){const ce=se.get(Ie);ce&&(ce.usage--,ce.usage<=0&&(b(ce.elements),se.delete(Ie)))}ngOnDestroy(){for(const[,{elements:Ie}]of[...this.inline,...this.external])b(Ie);this.hosts.clear()}addHost(Ie){this.hosts.add(Ie);for(const[se,{elements:ce}]of this.inline)ce.push(this.addElement(Ie,W(se,this.doc)));for(const[se,{elements:ce}]of this.external)ce.push(this.addElement(Ie,L(se,this.doc)))}removeHost(Ie){this.hosts.delete(Ie)}addElement(Ie,se){return this.nonce&&se.setAttribute("nonce",this.nonce),Ie.appendChild(se)}static \u0275fac=function(se){return new(se||Ke)(u.KVO(u.qQL),u.KVO(d.sZ2),u.KVO(d.BIS,8),u.KVO(d.Agw))};static \u0275prov=u.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();const A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},U=/%COMP%/g,F="%COMP%",T=`_nghost-${F}`,M=`_ngcontent-${F}`,B=new u.nKC("",{factory:()=>!0});function Q(Ke,Xe){return Xe.map(Ie=>Ie.replace(U,Ke))}let ue=(()=>{class Ke{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(Ie,se,ce,Y,_e,Le,st=null,K=null){this.eventManager=Ie,this.sharedStylesHost=se,this.appId=ce,this.removeStylesOnCompDestroy=Y,this.doc=_e,this.ngZone=Le,this.nonce=st,this.tracingService=K,this.defaultRenderer=new ve(Ie,_e,Le,this.tracingService)}createRenderer(Ie,se){if(!Ie||!se)return this.defaultRenderer;const ce=this.getOrCreateRenderer(Ie,se);return ce instanceof et?ce.applyToHost(Ie):ce instanceof He&&ce.applyStyles(),ce}getOrCreateRenderer(Ie,se){const ce=this.rendererByCompId;let Y=ce.get(se.id);if(!Y){const _e=this.doc,Le=this.ngZone,st=this.eventManager,K=this.sharedStylesHost,De=this.removeStylesOnCompDestroy,Te=this.tracingService;switch(se.encapsulation){case d.gXe.Emulated:Y=new et(st,K,se,this.appId,De,_e,Le,Te);break;case d.gXe.ShadowDom:return new xe(st,Ie,se,_e,Le,this.nonce,Te,K);case d.gXe.ExperimentalIsolatedShadowDom:return new xe(st,Ie,se,_e,Le,this.nonce,Te);default:Y=new He(st,K,se,De,_e,Le,Te)}ce.set(se.id,Y)}return Y}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(Ie){this.rendererByCompId.delete(Ie)}static \u0275fac=function(se){return new(se||Ke)(u.KVO(S),u.KVO(I),u.KVO(d.sZ2),u.KVO(B),u.KVO(u.qQL),u.KVO(u.SKi),u.KVO(d.BIS),u.KVO(d.a8H,8))};static \u0275prov=u.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();class ve{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(Xe,Ie,se,ce){this.eventManager=Xe,this.doc=Ie,this.ngZone=se,this.tracingService=ce}destroy(){}destroyNode=null;createElement(Xe,Ie){return Ie?this.doc.createElementNS(A[Ie]||Ie,Xe):this.doc.createElement(Xe)}createComment(Xe){return this.doc.createComment(Xe)}createText(Xe){return this.doc.createTextNode(Xe)}appendChild(Xe,Ie){(ge(Xe)?Xe.content:Xe).appendChild(Ie)}insertBefore(Xe,Ie,se){Xe&&(ge(Xe)?Xe.content:Xe).insertBefore(Ie,se)}removeChild(Xe,Ie){Ie.remove()}selectRootElement(Xe,Ie){let se="string"==typeof Xe?this.doc.querySelector(Xe):Xe;if(!se)throw new u.buA(-5104,!1);return Ie||(se.textContent=""),se}parentNode(Xe){return Xe.parentNode}nextSibling(Xe){return Xe.nextSibling}setAttribute(Xe,Ie,se,ce){if(ce){Ie=ce+":"+Ie;const Y=A[ce];Y?Xe.setAttributeNS(Y,Ie,se):Xe.setAttribute(Ie,se)}else Xe.setAttribute(Ie,se)}removeAttribute(Xe,Ie,se){if(se){const ce=A[se];ce?Xe.removeAttributeNS(ce,Ie):Xe.removeAttribute(`${se}:${Ie}`)}else Xe.removeAttribute(Ie)}addClass(Xe,Ie){Xe.classList.add(Ie)}removeClass(Xe,Ie){Xe.classList.remove(Ie)}setStyle(Xe,Ie,se,ce){ce&(d.czy.DashCase|d.czy.Important)?Xe.style.setProperty(Ie,se,ce&d.czy.Important?"important":""):Xe.style[Ie]=se}removeStyle(Xe,Ie,se){se&d.czy.DashCase?Xe.style.removeProperty(Ie):Xe.style[Ie]=""}setProperty(Xe,Ie,se){null!=Xe&&(Xe[Ie]=se)}setValue(Xe,Ie){Xe.nodeValue=Ie}listen(Xe,Ie,se,ce){if("string"==typeof Xe&&!(Xe=(0,r.rb)().getGlobalEventTarget(this.doc,Xe)))throw new u.buA(5102,!1);let Y=this.decoratePreventDefault(se);return this.tracingService?.wrapEventListener&&(Y=this.tracingService.wrapEventListener(Xe,Ie,Y)),this.eventManager.addEventListener(Xe,Ie,Y,ce)}decoratePreventDefault(Xe){return Ie=>{if("__ngUnwrap__"===Ie)return Xe;!1===Xe(Ie)&&Ie.preventDefault()}}}function ge(Ke){return"TEMPLATE"===Ke.tagName&&void 0!==Ke.content}class xe extends ve{hostEl;sharedStylesHost;shadowRoot;constructor(Xe,Ie,se,ce,Y,_e,Le,st){super(Xe,ce,Y,Le),this.hostEl=Ie,this.sharedStylesHost=st,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let K=se.styles;K=Q(se.id,K);for(const Te of K){const me=document.createElement("style");_e&&me.setAttribute("nonce",_e),me.textContent=Te,this.shadowRoot.appendChild(me)}const De=se.getExternalStyles?.();if(De)for(const Te of De){const me=L(Te,ce);_e&&me.setAttribute("nonce",_e),this.shadowRoot.appendChild(me)}}nodeOrShadowRoot(Xe){return Xe===this.hostEl?this.shadowRoot:Xe}appendChild(Xe,Ie){return super.appendChild(this.nodeOrShadowRoot(Xe),Ie)}insertBefore(Xe,Ie,se){return super.insertBefore(this.nodeOrShadowRoot(Xe),Ie,se)}removeChild(Xe,Ie){return super.removeChild(null,Ie)}parentNode(Xe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Xe)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class He extends ve{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(Xe,Ie,se,ce,Y,_e,Le,st){super(Xe,Y,_e,Le),this.sharedStylesHost=Ie,this.removeStylesOnCompDestroy=ce;let K=se.styles;this.styles=st?Q(st,K):K,this.styleUrls=se.getExternalStyles?.(st)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===d.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class et extends He{contentAttr;hostAttr;constructor(Xe,Ie,se,ce,Y,_e,Le,st){const K=ce+"-"+se.id;super(Xe,Ie,se,Y,_e,Le,st,K),this.contentAttr=function q(Ke){return M.replace(U,Ke)}(K),this.hostAttr=function G(Ke){return T.replace(U,Ke)}(K)}applyToHost(Xe){this.applyStyles(),this.setAttribute(Xe,this.hostAttr,"")}createElement(Xe,Ie){const se=super.createElement(Xe,Ie);return super.setAttribute(se,this.contentAttr,""),se}}},2906(ct,E,a){"use strict";a.d(E,{$:()=>W});var u=a(9350),r=a(5964),d=a(6697),D=a(9974),$=a(4360);function S(C=_){return(0,D.N)((L,I)=>{let A=!1;L.subscribe((0,$._)(I,U=>{A=!0,I.next(U)},()=>A?I.complete():I.error(C())))})}function _(){return new u.G}var b=a(3669);function W(C,L){const I=arguments.length>=2;return A=>A.pipe(C?(0,r.p)((U,O)=>C(U,O,A)):b.D,(0,d.s)(1),I?function P(C){return(0,D.N)((L,I)=>{let A=!1;L.subscribe((0,$._)(I,U=>{A=!0,I.next(U)},()=>{A||I.next(C),I.complete()}))})}(L):S(()=>new u.G))}},2937(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(7868);E.default={keyword:"allOf",schemaType:"array",code(d){const{gen:D,schema:$,it:P}=d;if(!Array.isArray($))throw new Error("ajv implementation error");const S=D.name("valid");$.forEach((_,b)=>{if((0,u.alwaysValidSchema)(P,_))return;const W=d.subschema({keyword:"allOf",schemaProp:b},S);d.ok(S),d.mergeEvaluated(W)})}}},2944(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868);E.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:$})=>u._`{propertyName: ${$.propertyName}}`},code($){const{gen:P,schema:S,data:_,it:b}=$;if((0,r.alwaysValidSchema)(b,S))return;const W=P.name("valid");P.forIn("key",_,C=>{$.setParams({propertyName:C}),$.subschema({keyword:"propertyNames",data:C,dataTypes:["string"],propertyName:C,compositeRule:!0},W),P.if((0,u.not)(W),()=>{$.error(!0),b.allErrors||P.break()})}),$.ok(W)}}},3049(ct,E,a){"use strict";a.d(E,{iI:()=>Ce});var u=a(467),r=a(5984),d=a(177),D=a(9769),$=a(6494),S=(a(7705),a(375)),_=a(5547),b=a(3806),W=a(1413),C=a(6648),L=a(7673),I=a(274),A=a(5964),U=a(6365),O=a(1397);class M{}let q=(()=>{class Re{router;injector;preloadingStrategy;loader;subscription;constructor(at,Et,Vt,Yt){this.router=at,this.injector=Et,this.preloadingStrategy=Vt,this.loader=Yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,A.p)(at=>at instanceof b.wF),(0,I.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(at,Et){const Vt=[];for(const Yt of Et){Yt.providers&&!Yt._injector&&(Yt._injector=(0,_.Ol2)(Yt.providers,at,""));const ut=Yt._injector??at,Bt=Yt._loadedInjector??ut;(Yt.loadChildren&&!Yt._loadedRoutes&&void 0===Yt.canLoad||Yt.loadComponent&&!Yt._loadedComponent)&&Vt.push(this.preloadConfig(ut,Yt)),(Yt.children||Yt._loadedRoutes)&&Vt.push(this.processRoutes(Bt,Yt.children??Yt._loadedRoutes))}return(0,C.H)(Vt).pipe((0,U.U)())}preloadConfig(at,Et){return this.preloadingStrategy.preload(Et,()=>{let Vt;Vt=Et.loadChildren&&void 0===Et.canLoad?(0,C.H)(this.loader.loadChildren(at,Et)):(0,L.of)(null);const Yt=Vt.pipe((0,O.Z)(ut=>null===ut?(0,L.of)(void 0):(Et._loadedRoutes=ut.routes,Et._loadedInjector=ut.injector,this.processRoutes(ut.injector??at,ut.routes))));if(Et.loadComponent&&!Et._loadedComponent){const ut=this.loader.loadComponent(at,Et);return(0,C.H)([Yt,ut]).pipe((0,U.U)())}return Yt})}static \u0275fac=function(Et){return new(Et||Re)(S.KVO(b.Ix),S.KVO(S.uvJ),S.KVO(M),S.KVO(b.D$))};static \u0275prov=S.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();const G=new S.nKC("");let Q=(()=>{class Re{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=b.wU;restoredId=0;store={};constructor(at,Et,Vt,Yt,ut={}){this.urlSerializer=at,this.transitions=Et,this.viewportScroller=Vt,this.zone=Yt,this.options=ut,ut.scrollPositionRestoration||="disabled",ut.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(at=>{at instanceof b.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=at.navigationTrigger,this.restoredId=at.restoredState?at.restoredState.navigationId:0):at instanceof b.wF?(this.lastId=at.id,this.scheduleScrollEvent(at,this.urlSerializer.parse(at.urlAfterRedirects).fragment)):at instanceof b.lW&&at.code===b.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(at,this.urlSerializer.parse(at.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(at=>{if(!(at instanceof b.OY))return;const Et={behavior:"instant"};at.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0],Et):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(at.position,Et):at.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(at.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(at,Et){var Vt=this;this.zone.runOutsideAngular((0,u.A)(function*(){yield new Promise(Yt=>{setTimeout(Yt),typeof requestAnimationFrame<"u"&&requestAnimationFrame(Yt)}),Vt.zone.run(()=>{Vt.transitions.events.next(new b.OY(at,"popstate"===Vt.lastSource?Vt.store[Vt.restoredId]:null,Et))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(Et){_.QTQ()};static \u0275prov=S.jDH({token:Re,factory:Re.\u0275fac})}return Re})();function xe(Re,Dt){return{\u0275kind:Re,\u0275providers:Dt}}function se(){const Re=(0,S.WQX)(S.zZn);return Dt=>{const at=Re.get(_.o8S);if(Dt!==at.components[0])return;const Et=Re.get(b.Ix),Vt=Re.get(ce);1===Re.get(Y)&&Et.initialNavigation(),Re.get(K,null,{optional:!0})?.setUpPreloading(),Re.get(G,null,{optional:!0})?.init(),Et.resetRootComponentType(at.componentTypes[0]),Vt.closed||(Vt.next(),Vt.complete(),Vt.unsubscribe())}}const ce=new S.nKC("",{factory:()=>new W.B}),Y=new S.nKC("",{factory:()=>1}),K=new S.nKC("");function De(Re){return xe(0,[{provide:K,useExisting:q},{provide:M,useExisting:Re}])}function Me(Re){return(0,_._jY)("NgRouterViewTransitions"),xe(9,[{provide:b.Pu,useValue:b.Lg},{provide:b.bK,useValue:{skipNextTransition:!!Re?.skipInitialTransition,...Re}}])}const Ne=[r.aZ,{provide:b.Sd,useClass:b.nU},b.Ix,b.Zp,{provide:b.nX,useFactory:function ge(){return(0,S.WQX)(b.Ix).routerState.root}},b.D$,[]];let Ce=(()=>{class Re{constructor(){}static forRoot(at,Et){return{ngModule:Re,providers:[Ne,[],{provide:b.bw,multi:!0,useValue:at},[],Et?.errorHandler?{provide:b.XR,useValue:Et.errorHandler}:[],{provide:b.J_,useValue:Et||{}},Et?.useHash?{provide:r.hb,useClass:D.fw}:{provide:r.hb,useClass:r.Sm},{provide:G,useFactory:()=>{const Re=(0,S.WQX)(d.Xr),Dt=(0,S.WQX)(S.SKi),at=(0,S.WQX)(b.J_),Et=(0,S.WQX)(b.J2),Vt=(0,S.WQX)(b.Sd);return at.scrollOffset&&Re.setOffset(at.scrollOffset),new Q(Vt,Et,Re,Dt,at)}},Et?.preloadingStrategy?De(Et.preloadingStrategy).\u0275providers:[],Et?.initialNavigation?ke(Et):[],Et?.bindToComponentInputs?xe(8,[b.tD,{provide:b.c1,useExisting:b.tD}]).\u0275providers:[],Et?.enableViewTransitions?Me().\u0275providers:[],[{provide:ze,useFactory:se},{provide:_.iLQ,multi:!0,useExisting:ze}]]}}static forChild(at){return{ngModule:Re,providers:[{provide:b.bw,multi:!0,useValue:at}]}}static \u0275fac=function(Et){return new(Et||Re)};static \u0275mod=_.$C({type:Re});static \u0275inj=S.G2t({})}return Re})();function ke(Re){return["disabled"===Re.initialNavigation?xe(3,[(0,_.phd)(()=>{(0,S.WQX)(b.Ix).setUpLocationChangeListener()}),{provide:Y,useValue:2}]).\u0275providers:[],"enabledBlocking"===Re.initialNavigation?xe(2,[{provide:_.tvf,useValue:!0},{provide:Y,useValue:0},(0,_.phd)(()=>{const Dt=(0,S.WQX)(S.zZn);return Dt.get($.hj,Promise.resolve()).then(()=>new Promise(Et=>{const Vt=Dt.get(b.Ix),Yt=Dt.get(ce);(0,b.gk)(Vt,()=>{Et(!0)}),Dt.get(b.J2).afterPreactivation=()=>(Et(!0),Yt.closed?(0,L.of)(void 0):Yt),Vt.initialNavigation()}))})]).\u0275providers:[]]}const ze=new S.nKC("")},3073(ct,E,a){"use strict";a.d(E,{D:()=>$});const{isArray:u}=Array,{getPrototypeOf:r,prototype:d,keys:D}=Object;function $(S){if(1===S.length){const _=S[0];if(u(_))return{args:_,keys:null};if(function P(S){return S&&"object"==typeof S&&r(S)===d}(_)){const b=D(_);return{args:b.map(W=>_[W]),keys:b}}}return{args:S,keys:null}}},3104(ct,E,a){"use strict";function u(C){return C&&"function"==typeof C.then}a.d(E,{HO:()=>P,UU:()=>W,aS:()=>d,mU:()=>b,o:()=>D,yL:()=>u,yy:()=>$,zs:()=>S}),Promise.resolve(!1);var d=Promise.resolve(!0),D=Promise.resolve();function $(C,L){return C||(C=0),new Promise(function(I){return setTimeout(function(){return I(L)},C)})}function P(C,L){return Math.floor(Math.random()*(L-C+1)+C)}function S(){return Math.random().toString(36).substring(2)}var _=0;function b(){var C=1e3*Date.now();return C<=_&&(C=_+1),_=C,C}function W(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}},3207(ct,E,a){"use strict";a.d(E,{s:()=>r});var u=a(9350);function r(d,D){const $="object"==typeof D;return new Promise((P,S)=>{let b,_=!1;d.subscribe({next:W=>{b=W,_=!0},error:S,complete:()=>{_?P(b):$?P(D.defaultValue):S(new u.G)}})})}},3260(ct,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},3294(ct,E,a){"use strict";a.d(E,{F:()=>D});var u=a(3669),r=a(9974),d=a(4360);function D(P,S=u.D){return P=P??$,(0,r.N)((_,b)=>{let W,C=!0;_.subscribe((0,d._)(b,L=>{const I=S(L);(C||!P(W,I))&&(C=!1,W=I,b.next(L))}))})}function $(P,S){return P===S}},3336(ct,E,a){"use strict";a.r(E),a.d(E,{$and:()=>d,$not:()=>D,$or:()=>$});var u=a(7624),r=a(4671);const d=(P,S,_)=>{const b=(0,u.px)(P,S,null,_);return(0,r.vN)(b,_.useStrictMode)&&b.every(W=>(0,r.vN)(W,_.useStrictMode))},D=(P,S,_)=>{const b=(0,r.eC)(S);return 0!=b.length&&((0,r.vA)(1==b.length,"Expression $not takes exactly 1 argument"),!(0,u.px)(P,b[0],null,_))},$=(P,S,_)=>{const b=(0,u.px)(P,S,null,_),W=_.useStrictMode;return(0,r.vN)(b,W)&&b.some(C=>(0,r.vN)(C,W))}},3337(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(7868);E.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:d,parentSchema:D,it:$}){void 0===D.if&&(0,u.checkStrictMode)($,`"${d}" without "if" is ignored`)}}},3403(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.validateTuple=void 0;const u=a(5432),r=a(7868),d=a(2240),D={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(P){const{schema:S,it:_}=P;if(Array.isArray(S))return $(P,"additionalItems",S);_.items=!0,!(0,r.alwaysValidSchema)(_,S)&&P.ok((0,d.validateArray)(P))}};function $(P,S,_=P.schema){const{gen:b,parentSchema:W,data:C,keyword:L,it:I}=P;(function O(p){const{opts:F,errSchemaPath:T}=I,M=_.length;F.strictTuples&&!(M===p.minItems&&(M===p.maxItems||!1===p[S]))&&(0,r.checkStrictMode)(I,`"${L}" is ${M}-tuple, but minItems or maxItems/${S} are not specified or different at path "${T}"`,F.strictTuples)})(W),I.opts.unevaluated&&_.length&&!0!==I.items&&(I.items=r.mergeEvaluated.items(b,_.length,I.items));const A=b.name("valid"),U=b.const("len",u._`${C}.length`);_.forEach((p,F)=>{(0,r.alwaysValidSchema)(I,p)||(b.if(u._`${U} > ${F}`,()=>P.subschema({keyword:L,schemaProp:F,dataProp:F},A)),P.ok(A))})}E.validateTuple=$,E.default=D},3465(ct,E,a){"use strict";a.d(E,{SA:()=>q});var u=a(467),r=a(7387),d=a(6434),D=a(8663),$=a(9403),P=a(4552),S=a(203),_=a(5520),b=a(1239),W=a(7042),C=a(4281),L=a(4740),I=a(1413);function U(G){return Object.entries(G).filter(([Q,ne])=>typeof ne<"u").map(([Q,ne])=>Q+"="+ne).join("&")}function O(G,Q){var ne=function p(G,Q){return"_id"===G||Q[G]?(0,d.FD)(Q):((Q=(0,d.FD)(Q))[G]=Q._id,delete Q._id,Q)}(G,Q);return ne._deleted=!!ne._deleted,delete ne._rev,ne}var V=a(5297),B=function(G){function Q(ne,ue,ve,Oe,nt,ge,xe=!0,He=5e3,et=!0){var Ke;return(Ke=G.call(this,ve,Oe,"_deleted",nt,ge,xe,He,et)||this).url=ne,Ke.fetch=ue,Ke.replicationIdentifier=ve,Ke.collection=Oe,Ke.pull=nt,Ke.push=ge,Ke.live=xe,Ke.retryTime=He,Ke.autoStart=et,Ke}return(0,r.A)(Q,G),Q}(W.Cs);function q(G){var Q=G.collection,ne=Q.conflictHandler;(0,C.j)(b.g9);var ue=G.collection.schema.primaryPath;if(!G.url.endsWith("/"))throw(0,L.Br)("RC_COUCHDB_1",{args:{collection:G.collection.name,url:G.url}});(G=(0,d.FD)(G)).url.endsWith("/")||(G.url=G.url+"/"),G.waitForLeadership=typeof G.waitForLeadership>"u"||G.waitForLeadership;var Oe,nt,ve=new I.B;G.pull&&(Oe={handler:(He,et)=>(0,u.A)(function*(){var Ke=G.url+"_changes?"+U({style:"all_docs",feed:"normal",include_docs:!0,since:He?He.sequence:0,heartbeat:G.pull&&G.pull.heartbeat?G.pull.heartbeat:6e4,limit:et,seq_interval:et}),Xe=yield ge.fetch(Ke),Ie=yield Xe.json();if(!Ie.results)throw(0,L.Br)("RC_COUCHDB_2",{args:{jsonResponse:Ie}});return{documents:Ie.results.map(ce=>O(Q.schema.primaryPath,(0,D.ZN)(ce.doc))),checkpoint:{sequence:Ie.last_seq}}})(),batchSize:(0,D.ZN)(G.pull).batchSize,modifier:(0,D.ZN)(G.pull).modifier,stream$:ve.asObservable(),initialCheckpoint:G.pull.initialCheckpoint}),G.push&&(nt={handler:He=>(0,u.A)(function*(){var et=[],Ke=new Map;He.forEach(j=>{Ke.set(j.newDocumentState[ue],j)});var Xe=yield ge.fetch(G.url+"_all_docs?"+U({}),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({keys:He.map(j=>j.newDocumentState[ue]),include_docs:!0,deleted:"ok"})}),Ie=yield Xe.json(),se=[],ce=new Map;yield Promise.all(Ie.rows.map(function(){var j=(0,u.A)(function*(te){if(te.doc){var Me=O(ue,te.doc),pe=(0,$.m)(Ke,te.id);pe.assumedMasterState&&ne.isEqual(Me,pe.assumedMasterState,"couchdb-push-1")?(ce.set(te.id,te.doc._rev),se.push(pe)):et.push(Me)}else se.push((0,$.m)(Ke,te.key))});return function(te){return j.apply(this,arguments)}}()));var Y=G.url+"_bulk_docs?"+U({}),_e={docs:se.map(j=>{var te=j.newDocumentState[ue],Me=(0,d.FD)(j.newDocumentState);return ce.has(te)&&(Me._rev=(0,$.m)(ce,te)),function F(G,Q){if("_id"===G)return Q;var ne=Q[G],ue=(0,d.FD)(Q);return delete ue[G],ue._id=ne,ue}(Q.schema.primaryPath,Me)})},Le=yield ge.fetch(Y,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(_e)}),st=yield Le.json(),K=[];if(st.forEach(j=>{var te="conflict"===j.error;if(!j.ok&&!te)throw(0,L.Br)("SNH",{args:{writeResultRow:j}});te&&K.push(j.id)}),0===K.length)return et;var De=G.url+"_all_docs?"+U({include_docs:!0,keys:JSON.stringify(K)}),Te=yield ge.fetch(De);return(yield Te.json()).rows.forEach(j=>{et.push(O(Q.schema.primaryPath,j.doc))}),et})(),batchSize:G.push.batchSize,modifier:G.push.modifier,initialCheckpoint:G.push.initialCheckpoint});var ge=new B(G.url,G.fetch?G.fetch:function T(){return"object"==typeof window&&window.fetch?window.fetch.bind(window):fetch}(),G.replicationIdentifier,Q,Oe,nt,G.live,G.retryTime,G.autoStart);if(G.live&&G.pull){var xe=ge.start.bind(ge);ge.start=()=>{var He="now",et=G.pull&&G.pull.batchSize?G.pull.batchSize:20;return(0,u.A)(function*(){for(var Ke=(0,P.t)();!ge.isStopped();){var Xe=G.url+"_changes?"+U({style:"all_docs",feed:"longpoll",since:He,include_docs:!0,heartbeat:G.pull&&G.pull.heartbeat?G.pull.heartbeat:6e4,limit:et,seq_interval:et}),Ie=void 0;try{Ke=(0,P.t)(),Ie=yield(yield ge.fetch(Xe)).json()}catch(ce){ge.subjects.error.next((0,L.Br)("RC_STREAM",{args:{url:Xe},error:(0,S.S)(ce)})),Ke<(0,P.t)()-ge.retryTime?yield(0,_.ND)(0):yield(0,V.bd)(Q,ge.retryTime);continue}var se=Ie.results.map(ce=>O(Q.schema.primaryPath,(0,D.ZN)(ce.doc)));He=Ie.last_seq,ve.next({documents:se,checkpoint:{sequence:Ie.last_seq}})}})(),xe()}}return(0,W.Jc)(G.waitForLeadership,ge),ge}},3467(ct,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.regexpCode=E.getEsmExportName=E.getProperty=E.safeStringify=E.stringify=E.strConcat=E.addCodeArg=E.str=E._=E.nil=E._Code=E.Name=E.IDENTIFIER=E._CodeOrName=void 0;class a{}E._CodeOrName=a,E.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class u extends a{constructor(p){if(super(),!E.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}E.Name=u;class r extends a{constructor(p){super(),this._items="string"==typeof p?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return""===p||'""'===p}get str(){var p;return null!==(p=this._str)&&void 0!==p?p:this._str=this._items.reduce((F,T)=>`${F}${T}`,"")}get names(){var p;return null!==(p=this._names)&&void 0!==p?p:this._names=this._items.reduce((F,T)=>(T instanceof u&&(F[T.str]=(F[T.str]||0)+1),F),{})}}function d(O,...p){const F=[O[0]];let T=0;for(;T<p.length;)P(F,p[T]),F.push(O[++T]);return new r(F)}E._Code=r,E.nil=new r(""),E._=d;const D=new r("+");function $(O,...p){const F=[L(O[0])];let T=0;for(;T<p.length;)F.push(D),P(F,p[T]),F.push(D,L(O[++T]));return function S(O){let p=1;for(;p<O.length-1;){if(O[p]===D){const F=_(O[p-1],O[p+1]);if(void 0!==F){O.splice(p-1,3,F);continue}O[p++]="+"}p++}}(F),new r(F)}function P(O,p){p instanceof r?O.push(...p._items):O.push(p instanceof u?p:function W(O){return"number"==typeof O||"boolean"==typeof O||null===O?O:L(Array.isArray(O)?O.join(","):O)}(p))}function _(O,p){return'""'===p?O:'""'===O?p:"string"==typeof O?p instanceof u||'"'!==O[O.length-1]?void 0:"string"!=typeof p?`${O.slice(0,-1)}${p}"`:'"'===p[0]?O.slice(0,-1)+p.slice(1):void 0:"string"!=typeof p||'"'!==p[0]||O instanceof u?void 0:`"${O}${p.slice(1)}`}function L(O){return JSON.stringify(O).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}E.str=$,E.addCodeArg=P,E.strConcat=function b(O,p){return p.emptyStr()?O:O.emptyStr()?p:$`${O}${p}`},E.stringify=function C(O){return new r(L(O))},E.safeStringify=L,E.getProperty=function I(O){return"string"==typeof O&&E.IDENTIFIER.test(O)?new r(`.${O}`):d`[${O}]`},E.getEsmExportName=function A(O){if("string"==typeof O&&E.IDENTIFIER.test(O))return new r(`${O}`);throw new Error(`CodeGen: invalid export name: ${O}, use explicit $id name mapping`)},E.regexpCode=function U(O){return new r(O.toString())}},3494(ct,E,a){"use strict";a.d(E,{s:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3513(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.reportTypeError=E.checkDataTypes=E.checkDataType=E.coerceAndCheckDataType=E.getJSONTypes=E.getSchemaTypes=E.DataType=void 0;const u=a(6093),r=a(1064),d=a(7511),D=a(5432),$=a(7868);var P=function(T){return T[T.Correct=0]="Correct",T[T.Wrong=1]="Wrong",T}(P||(E.DataType=P={}));function _(T){const M=Array.isArray(T)?T:T?[T]:[];if(M.every(u.isJSONType))return M;throw new Error("type must be JSONType or JSONType[]: "+M.join(","))}E.getSchemaTypes=function S(T){const M=_(T.type);if(M.includes("null")){if(!1===T.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!M.length&&void 0!==T.nullable)throw new Error('"nullable" cannot be used without "type"');!0===T.nullable&&M.push("null")}return M},E.getJSONTypes=_,E.coerceAndCheckDataType=function b(T,M){const{gen:V,data:B,opts:q}=T,G=function C(T,M){return M?T.filter(V=>W.has(V)||"array"===M&&"array"===V):[]}(M,q.coerceTypes),Q=M.length>0&&!(0===G.length&&1===M.length&&(0,r.schemaHasRulesForType)(T,M[0]));if(Q){const ne=U(M,B,q.strictNumbers,P.Wrong);V.if(ne,()=>{G.length?function L(T,M,V){const{gen:B,data:q,opts:G}=T,Q=B.let("dataType",D._`typeof ${q}`),ne=B.let("coerced",D._`undefined`);"array"===G.coerceTypes&&B.if(D._`${Q} == 'object' && Array.isArray(${q}) && ${q}.length == 1`,()=>B.assign(q,D._`${q}[0]`).assign(Q,D._`typeof ${q}`).if(U(M,q,G.strictNumbers),()=>B.assign(ne,q))),B.if(D._`${ne} !== undefined`);for(const ve of V)(W.has(ve)||"array"===ve&&"array"===G.coerceTypes)&&ue(ve);function ue(ve){switch(ve){case"string":return void B.elseIf(D._`${Q} == "number" || ${Q} == "boolean"`).assign(ne,D._`"" + ${q}`).elseIf(D._`${q} === null`).assign(ne,D._`""`);case"number":return void B.elseIf(D._`${Q} == "boolean" || ${q} === null
              || (${Q} == "string" && ${q} && ${q} == +${q})`).assign(ne,D._`+${q}`);case"integer":return void B.elseIf(D._`${Q} === "boolean" || ${q} === null
              || (${Q} === "string" && ${q} && ${q} == +${q} && !(${q} % 1))`).assign(ne,D._`+${q}`);case"boolean":return void B.elseIf(D._`${q} === "false" || ${q} === 0 || ${q} === null`).assign(ne,!1).elseIf(D._`${q} === "true" || ${q} === 1`).assign(ne,!0);case"null":return B.elseIf(D._`${q} === "" || ${q} === 0 || ${q} === false`),void B.assign(ne,null);case"array":B.elseIf(D._`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${q} === null`).assign(ne,D._`[${q}]`)}}B.else(),p(T),B.endIf(),B.if(D._`${ne} !== undefined`,()=>{B.assign(q,ne),function I({gen:T,parentData:M,parentDataProperty:V},B){T.if(D._`${M} !== undefined`,()=>T.assign(D._`${M}[${V}]`,B))}(T,ne)})}(T,M,G):p(T)})}return Q};const W=new Set(["string","number","integer","boolean","null"]);function A(T,M,V,B=P.Correct){const q=B===P.Correct?D.operators.EQ:D.operators.NEQ;let G;switch(T){case"null":return D._`${M} ${q} null`;case"array":G=D._`Array.isArray(${M})`;break;case"object":G=D._`${M} && typeof ${M} == "object" && !Array.isArray(${M})`;break;case"integer":G=Q(D._`!(${M} % 1) && !isNaN(${M})`);break;case"number":G=Q();break;default:return D._`typeof ${M} ${q} ${T}`}return B===P.Correct?G:(0,D.not)(G);function Q(ne=D.nil){return(0,D.and)(D._`typeof ${M} == "number"`,ne,V?D._`isFinite(${M})`:D.nil)}}function U(T,M,V,B){if(1===T.length)return A(T[0],M,V,B);let q;const G=(0,$.toHash)(T);if(G.array&&G.object){const Q=D._`typeof ${M} != "object"`;q=G.null?Q:D._`!${M} || ${Q}`,delete G.null,delete G.array,delete G.object}else q=D.nil;G.number&&delete G.integer;for(const Q in G)q=(0,D.and)(q,A(Q,M,V,B));return q}E.checkDataType=A,E.checkDataTypes=U;const O={message:({schema:T})=>`must be ${T}`,params:({schema:T,schemaValue:M})=>"string"==typeof T?D._`{type: ${T}}`:D._`{type: ${M}}`};function p(T){const M=function F(T){const{gen:M,data:V,schema:B}=T,q=(0,$.schemaRefOrVal)(T,B,"type");return{gen:M,keyword:"type",data:V,schema:B.type,schemaCode:q,schemaValue:q,parentSchema:B,params:{},it:T}}(T);(0,d.reportError)(M,O)}E.reportTypeError=p},3599(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.assignDefaults=void 0;const u=a(5432),r=a(7868);function D($,P,S){const{gen:_,compositeRule:b,data:W,opts:C}=$;if(void 0===S)return;const L=u._`${W}${(0,u.getProperty)(P)}`;if(b)return void(0,r.checkStrictMode)($,`default is ignored for: ${L}`);let I=u._`${L} === undefined`;"empty"===C.useDefaults&&(I=u._`${I} || ${L} === null || ${L} === ""`),_.if(I,u._`${L} = ${(0,u.stringify)(S)}`)}E.assignDefaults=function d($,P){const{properties:S,items:_}=$.schema;if("object"===P&&S)for(const b in S)D($,b,S[b].default);else"array"===P&&Array.isArray(_)&&_.forEach((b,W)=>D($,W,b.default))}},3632(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(3513),r=a(5432),d=a(7868),D=a(4195);E.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:S,j:_}})=>r.str`must NOT have duplicate items (items ## ${_} and ${S} are identical)`,params:({params:{i:S,j:_}})=>r._`{i: ${S}, j: ${_}}`},code(S){const{gen:_,data:b,$data:W,schema:C,parentSchema:L,schemaCode:I,it:A}=S;if(!W&&!C)return;const U=_.let("valid"),O=L.items?(0,u.getSchemaTypes)(L.items):[];function T(V,B){const q=_.name("item"),G=(0,u.checkDataTypes)(O,q,A.opts.strictNumbers,u.DataType.Wrong),Q=_.const("indices",r._`{}`);_.for(r._`;${V}--;`,()=>{_.let(q,r._`${b}[${V}]`),_.if(G,r._`continue`),O.length>1&&_.if(r._`typeof ${q} == "string"`,r._`${q} += "_"`),_.if(r._`typeof ${Q}[${q}] == "number"`,()=>{_.assign(B,r._`${Q}[${q}]`),S.error(),_.assign(U,!1).break()}).code(r._`${Q}[${q}] = ${V}`)})}function M(V,B){const q=(0,d.useFunc)(_,D.default),G=_.name("outer");_.label(G).for(r._`;${V}--;`,()=>_.for(r._`${B} = ${V}; ${B}--;`,()=>_.if(r._`${q}(${b}[${V}], ${b}[${B}])`,()=>{S.error(),_.assign(U,!1).break(G)})))}S.block$data(U,function p(){const V=_.let("i",r._`${b}.length`),B=_.let("j");S.setParams({i:V,j:B}),_.assign(U,!0),_.if(r._`${V} > 1`,()=>(function F(){return O.length>0&&!O.some(V=>"object"===V||"array"===V)}()?T:M)(V,B))},r._`${I} === false`),S.ok(U)}}},3659(ct,E,a){"use strict";function u(r,d,D,$){var b,P=r.length,S=P-1,_=0;if(0===P)return r.push(d),0;for(;$<=S;)D(b=r[_=$+(S-$>>1)],d)<=0?$=_+1:S=_-1;return D(b,d)<=0&&_++,r.splice(_,0,d),_}a.d(E,{t:()=>u})},3662(ct,E,a){"use strict";function u(r,d){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,$){return D.__proto__=$,D})(r,d)}a.d(E,{A:()=>u})},3669(ct,E,a){"use strict";function u(r){return r}a.d(E,{D:()=>u})},3685(ct,E,a){"use strict";a.d(E,{G5:()=>U,I0:()=>I,cZ:()=>A});var u=a(467),r=a(1413),d=a(9974);const{isArray:D}=Array;var P=a(6365),S=a(9326),_=a(6648);var C=a(7354),L=new Map;function I(O,p,F,T){var M=L.get(p);return M||(M={bc:new C.X2(["RxDB:",O,F].join("|")),refs:new Set},L.set(p,M)),M.refs.add(T),M.bc}function A(O,p){var F=L.get(O);if(F&&(F.refs.delete(p),0===F.refs.size))return L.delete(O),F.bc.close()}function U(O,p,F,T){if(p.multiInstance){var M=T||I(O,p.databaseInstanceToken,F.databaseName,F),V=new r.B,B=ve=>{ve.storageName===O&&ve.databaseName===p.databaseName&&ve.collectionName===p.collectionName&&ve.version===p.schema.version&&V.next(ve.eventBulk)};M.addEventListener("message",B);var q=F.changeStream(),G=!1,Q=q.subscribe(ve=>{G||M.postMessage({storageName:O,databaseName:p.databaseName,collectionName:p.collectionName,version:p.schema.version,eventBulk:ve})});F.changeStream=function(){return V.asObservable().pipe(function W(...O){return function b(...O){const p=(0,S.lI)(O),F=(0,S.R0)(O,1/0);return O=function $(O){return 1===O.length&&D(O[0])?O[0]:O}(O),(0,d.N)((T,M)=>{(0,P.U)(F)((0,_.H)([T,...O],p)).subscribe(M)})}(...O)}(q))};var ne=F.close.bind(F);F.close=(0,u.A)(function*(){return G=!0,Q.unsubscribe(),M.removeEventListener("message",B),T||(yield A(p.databaseInstanceToken,F)),ne()});var ue=F.remove.bind(F);F.remove=(0,u.A)(function*(){return G=!0,Q.unsubscribe(),M.removeEventListener("message",B),T||(yield A(p.databaseInstanceToken,F)),ue()})}}},3686(ct,E,a){"use strict";a.d(E,{Bb:()=>xe,sG:()=>ve});var u=a(6494),D=a(375),$=a(177),P=a(9769),S=a(5547),_=a(7705),b=a(2896);class W extends u.qj{supportsDOMEvents=!0;static makeCurrent(){(0,u.ig)(new W)}onAndCancel(et,Ke,Xe,Ie){return et.addEventListener(Ke,Xe,Ie),()=>{et.removeEventListener(Ke,Xe,Ie)}}dispatchEvent(et,Ke){et.dispatchEvent(Ke)}remove(et){et.remove()}createElement(et,Ke){return(Ke=Ke||this.getDefaultDocument()).createElement(et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(et){return et.nodeType===Node.ELEMENT_NODE}isShadowRoot(et){return et instanceof DocumentFragment}getGlobalEventTarget(et,Ke){return"window"===Ke?window:"document"===Ke?et:"body"===Ke?et.body:null}getBaseHref(et){const Ke=function L(){return C=C||document.head.querySelector("base"),C?C.getAttribute("href"):null}();return null==Ke?null:function I(He){return new URL(He,document.baseURI).pathname}(Ke)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(et){return function r(He,et){et=encodeURIComponent(et);for(const Ke of He.split(";")){const Xe=Ke.indexOf("="),[Ie,se]=-1==Xe?[Ke,""]:[Ke.slice(0,Xe),Ke.slice(Xe+1)];if(Ie.trim()===et)return decodeURIComponent(se)}return null}(document.cookie,et)}}let C=null,U=(()=>{class He{build(){return new XMLHttpRequest}static \u0275fac=function(Xe){return new(Xe||He)};static \u0275prov=D.jDH({token:He,factory:He.\u0275fac})}return He})();const O=["alt","control","meta","shift"],p={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let T=(()=>{class He extends b.Hl{constructor(Ke){super(Ke)}supports(Ke){return null!=He.parseEventName(Ke)}addEventListener(Ke,Xe,Ie,se){const ce=He.parseEventName(Xe),Y=He.eventCallback(ce.fullKey,Ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.rb)().onAndCancel(Ke,ce.domEventName,Y,se))}static parseEventName(Ke){const Xe=Ke.toLowerCase().split("."),Ie=Xe.shift();if(0===Xe.length||"keydown"!==Ie&&"keyup"!==Ie)return null;const se=He._normalizeKey(Xe.pop());let ce="",Y=Xe.indexOf("code");if(Y>-1&&(Xe.splice(Y,1),ce="code."),O.forEach(Le=>{const st=Xe.indexOf(Le);st>-1&&(Xe.splice(st,1),ce+=Le+".")}),ce+=se,0!=Xe.length||0===se.length)return null;const _e={};return _e.domEventName=Ie,_e.fullKey=ce,_e}static matchEventFullKeyCode(Ke,Xe){let Ie=p[Ke.key]||Ke.key,se="";return Xe.indexOf("code.")>-1&&(Ie=Ke.code,se="code."),!(null==Ie||!Ie)&&(Ie=Ie.toLowerCase()," "===Ie?Ie="space":"."===Ie&&(Ie="dot"),O.forEach(ce=>{ce!==Ie&&(0,F[ce])(Ke)&&(se+=ce+".")}),se+=Ie,se===Xe)}static eventCallback(Ke,Xe,Ie){return se=>{He.matchEventFullKeyCode(se,Ke)&&Ie.runGuarded(()=>Xe(se))}}static _normalizeKey(Ke){return"esc"===Ke?"escape":Ke}static \u0275fac=function(Xe){return new(Xe||He)(D.KVO(D.qQL))};static \u0275prov=D.jDH({token:He,factory:He.\u0275fac})}return He})();const ve=(0,_.oH4)(_.fpN,"browser",[{provide:S.Agw,useValue:$.AJ},{provide:S.PLl,useValue:function G(){W.makeCurrent()},multi:!0},{provide:D.qQL,useFactory:function ne(){return(0,S._9u)(document),document}}]),nt=[{provide:S.$Ln,useClass:class A{addToWindow(et){D.laP.getAngularTestability=(Xe,Ie=!0)=>{const se=et.findTestabilityInTree(Xe,Ie);if(null==se)throw new D.buA(5103,!1);return se},D.laP.getAllAngularTestabilities=()=>et.getAllTestabilities(),D.laP.getAllAngularRootElements=()=>et.getAllRootElements(),D.laP.frameworkStabilizers||(D.laP.frameworkStabilizers=[]),D.laP.frameworkStabilizers.push(Xe=>{const Ie=D.laP.getAllAngularTestabilities();let se=Ie.length;const ce=function(){se--,0==se&&Xe()};Ie.forEach(Y=>{Y.whenStable(ce)})})}findTestabilityInTree(et,Ke,Xe){return null==Ke?null:et.getTestability(Ke)??(Xe?(0,u.rb)().isShadowRoot(Ke)?this.findTestabilityInTree(et,Ke.host,!0):this.findTestabilityInTree(et,Ke.parentElement,!0):null)}}},{provide:S.dOL,useClass:S.NYb},{provide:S.NYb,useClass:S.NYb}],ge=[{provide:D.GBX,useValue:"root"},{provide:D.zcH,useFactory:function Q(){return new D.zcH}},{provide:b.Q5,useClass:b.jd,multi:!0},{provide:b.Q5,useClass:T,multi:!0},b.mE,b.CI,b.EU,{provide:S._9s,useExisting:b.mE},{provide:class d{},useClass:U},[]];let xe=(()=>{class He{constructor(){}static \u0275fac=function(Xe){return new(Xe||He)};static \u0275mod=S.$C({type:He});static \u0275inj=D.G2t({providers:[...ge,...nt],imports:[P.MD,_.Hbi]})}return He})()},3726(ct,E,a){"use strict";a.d(E,{R:()=>W});var u=a(8750),r=a(1985),d=a(1397),D=a(7441),$=a(8071),P=a(6450);const S=["addListener","removeListener"],_=["addEventListener","removeEventListener"],b=["on","off"];function W(U,O,p,F){if((0,$.T)(p)&&(F=p,p=void 0),F)return W(U,O,p).pipe((0,P.I)(F));const[T,M]=function A(U){return(0,$.T)(U.addEventListener)&&(0,$.T)(U.removeEventListener)}(U)?_.map(V=>B=>U[V](O,B,p)):function L(U){return(0,$.T)(U.addListener)&&(0,$.T)(U.removeListener)}(U)?S.map(C(U,O)):function I(U){return(0,$.T)(U.on)&&(0,$.T)(U.off)}(U)?b.map(C(U,O)):[];if(!T&&(0,D.X)(U))return(0,d.Z)(V=>W(V,O,p))((0,u.Tg)(U));if(!T)throw new TypeError("Invalid event target");return new r.c(V=>{const B=(...q)=>V.next(1<q.length?q:q[0]);return T(B),()=>M(B)})}function C(U,O){return p=>F=>U[p](O,F)}},3803(ct,E,a){"use strict";a.d(E,{m:()=>L});var u=a(467),r=a(9135),d=a(4740),D=a(2060),$=a(6434),P=a(4552);function S(I){var A={name:this.name,instanceToken:this.token,collections:[]},U=Object.keys(this.collections).filter(O=>!I||I.includes(O)).filter(O=>"_"!==O.charAt(0)).map(O=>this.collections[O]);return Promise.all(U.map(O=>O.exportJSON())).then(O=>(A.collections=O,A))}var _=function(I){var A=I.collections.filter(U=>!this.collections[U.name]).map(U=>U.name);if(A.length>0)throw(0,d.Br)("JD1",{missingCollections:A});return Promise.all(I.collections.map(U=>this.collections[U.name].importJSON(U)))},b=function(){var I=(0,u.A)(function*(){var A={name:this.name,schemaHash:yield this.schema.hash,docs:[]},U=(0,r.nd)("find",(0,r.XX)(),this);return(0,r.lj)(U).then(O=>(A.docs=O.docs.map(p=>(delete(p=(0,$.FD)(p))._rev,delete p._attachments,p)),A))});return function(){return I.apply(this,arguments)}}();function W(I){return C.apply(this,arguments)}function C(){return(C=(0,u.A)(function*(I){if(I.schemaHash!==(yield this.schema.hash))throw(0,d.Br)("JD2",{schemaHash:I.schemaHash,own:this.schema.hash});return this.storageInstance.bulkWrite(I.docs.map(U=>({document:Object.assign({},U,{_meta:{lwt:(0,P.t)()},_rev:(0,D.Fq)(),_attachments:{},_deleted:!1})})),"json-dump-import")})).apply(this,arguments)}var L={name:"json-dump",rxdb:!0,prototypes:{RxDatabase:I=>{I.exportJSON=S,I.importJSON=_},RxCollection:I=>{I.exportJSON=b,I.importJSON=W}},overwritable:{}}},3806(ct,E,a){"use strict";a.d(E,{nX:()=>si,Pu:()=>le,Zp:()=>sr,nU:()=>ut,wU:()=>Un,c1:()=>Ji,XR:()=>Pt,wF:()=>Ur,lW:()=>Or,mo:()=>Pi,Z:()=>jr,J2:()=>St,J_:()=>Oo,bw:()=>Lo,tD:()=>to,Ix:()=>eo,D$:()=>jo,n3:()=>Gi,OY:()=>Bi,Sd:()=>Yt,bK:()=>z,gk:()=>_r,Lg:()=>Ae,wO:()=>kr,Us:()=>Gt,we:()=>Ki});var u=a(467),r=a(375),d=a(5984),D=a(5547),$=a(7705),P=a(4402),S=a(6648),_=a(7673),b=a(4412),W=a(4572),C=a(9350),L=a(1985),I=a(8793),A=a(9030),U=a(1203),O=a(983),p=a(8071),T=a(1413),M=a(8359),V=a(2906),B=a(6354),q=a(5558),G=a(6697),Q=a(9172),ne=a(5964),ue=a(9974),ve=a(4360),Oe=a(8750),nt=a(5343);function ge(v){return(0,ue.N)((x,y)=>{(0,Oe.Tg)(v).subscribe((0,ve._)(y,()=>y.complete(),nt.l)),!y.closed&&x.subscribe(y)})}var xe=a(1397),He=a(274),et=a(8141);function Ke(v){return v<=0?()=>O.w:(0,ue.N)((x,y)=>{let N=[];x.subscribe((0,ve._)(y,re=>{N.push(re),v<N.length&&N.shift()},()=>{for(const re of N)y.next(re);y.complete()},void 0,()=>{N=null}))})}var Xe=a(9437),se=a(345);const ce="primary",Y=Symbol("RouteTitle");class _e{params;constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const y=this.params[x];return Array.isArray(y)?y[0]:y}return null}getAll(x){if(this.has(x)){const y=this.params[x];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Le(v){return new _e(v)}function st(v,x,y){const N=y.path.split("/");if(N.length>v.length||"full"===y.pathMatch&&(x.hasChildren()||N.length<v.length))return null;const re={};for(let Fe=0;Fe<N.length;Fe++){const $e=N[Fe],lt=v[Fe];if(":"===$e[0])re[$e.substring(1)]=lt;else if($e!==lt.path)return null}return{consumed:v.slice(0,N.length),posParams:re}}function K(v){return new Promise((x,y)=>{v.pipe((0,V.$)()).subscribe({next:N=>x(N),error:N=>y(N)})})}function Te(v,x){const y=v?me(v):void 0,N=x?me(x):void 0;if(!y||!N||y.length!=N.length)return!1;let re;for(let Fe=0;Fe<y.length;Fe++)if(re=y[Fe],!j(v[re],x[re]))return!1;return!0}function me(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function j(v,x){if(Array.isArray(v)&&Array.isArray(x)){if(v.length!==x.length)return!1;const y=[...v].sort(),N=[...x].sort();return y.every((re,Fe)=>N[Fe]===re)}return v===x}function te(v){return v.length>0?v[v.length-1]:null}function Me(v){return(0,P.A)(v)?v:(0,D.yLl)(v)?(0,S.H)(Promise.resolve(v)):(0,_.of)(v)}function pe(v){return(0,P.A)(v)?K(v):Promise.resolve(v)}const ae={exact:function ot(v,x,y){if(!Et(v.segments,x.segments)||!ze(v.segments,x.segments,y)||v.numberOfChildren!==x.numberOfChildren)return!1;for(const N in x.children)if(!v.children[N]||!ot(v.children[N],x.children[N],y))return!1;return!0},subset:J},Ne={exact:function Ze(v,x){return Te(v,x)},subset:function k(v,x){return Object.keys(x).length<=Object.keys(v).length&&Object.keys(x).every(y=>j(v[y],x[y]))},ignored:()=>!0};function Ce(v,x,y){return ae[y.paths](v.root,x.root,y.matrixParams)&&Ne[y.queryParams](v.queryParams,x.queryParams)&&!("exact"===y.fragment&&v.fragment!==x.fragment)}function J(v,x,y){return ke(v,x,x.segments,y)}function ke(v,x,y,N){if(v.segments.length>y.length){const re=v.segments.slice(0,y.length);return!(!Et(re,y)||x.hasChildren()||!ze(re,y,N))}if(v.segments.length===y.length){if(!Et(v.segments,y)||!ze(v.segments,y,N))return!1;for(const re in x.children)if(!v.children[re]||!J(v.children[re],x.children[re],N))return!1;return!0}{const re=y.slice(0,v.segments.length),Fe=y.slice(v.segments.length);return!!(Et(v.segments,re)&&ze(v.segments,re,N)&&v.children[ce])&&ke(v.children[ce],x,Fe,N)}}function ze(v,x,y){return x.every((N,re)=>Ne[y](v[re].parameters,N.parameters))}class Ge{root;queryParams;fragment;_queryParamMap;constructor(x=new Re([],{}),y={},N=null){this.root=x,this.queryParams=y,this.fragment=N}get queryParamMap(){return this._queryParamMap??=Le(this.queryParams),this._queryParamMap}toString(){return Bt.serialize(this)}}class Re{segments;children;parent=null;constructor(x,y){this.segments=x,this.children=y,Object.values(y).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ut(this)}}class Dt{path;parameters;_parameterMap;constructor(x,y){this.path=x,this.parameters=y}get parameterMap(){return this._parameterMap??=Le(this.parameters),this._parameterMap}toString(){return Xn(this)}}function Et(v,x){return v.length===x.length&&v.every((y,N)=>y.path===x[N].path)}let Yt=(()=>{class v{static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:()=>new ut,providedIn:"root"})}return v})();class ut{parse(x){const y=new Tr(x);return new Ge(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(x){const y=`/${un(x.root,!0)}`,N=function kt(v){const x=Object.entries(v).map(([y,N])=>Array.isArray(N)?N.map(re=>`${fn(y)}=${fn(re)}`).join("&"):`${fn(y)}=${fn(N)}`).filter(y=>y);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${y}${N}${"string"==typeof x.fragment?`#${function On(v){return encodeURI(v)}(x.fragment)}`:""}`}}const Bt=new ut;function Ut(v){return v.segments.map(x=>Xn(x)).join("/")}function un(v,x){if(!v.hasChildren())return Ut(v);if(x){const y=v.children[ce]?un(v.children[ce],!1):"",N=[];return Object.entries(v.children).forEach(([re,Fe])=>{re!==ce&&N.push(`${re}:${un(Fe,!1)}`)}),N.length>0?`${y}(${N.join("//")})`:y}{const y=function Vt(v,x){let y=[];return Object.entries(v.children).forEach(([N,re])=>{N===ce&&(y=y.concat(x(re,N)))}),Object.entries(v.children).forEach(([N,re])=>{N!==ce&&(y=y.concat(x(re,N)))}),y}(v,(N,re)=>re===ce?[un(v.children[ce],!1)]:[`${re}:${un(N,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[ce]?`${Ut(v)}/${y[0]}`:`${Ut(v)}/(${y.join("//")})`}}function Lt(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fn(v){return Lt(v).replace(/%3B/gi,";")}function xn(v){return Lt(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fn(v){return decodeURIComponent(v)}function Hn(v){return Fn(v.replace(/\+/g,"%20"))}function Xn(v){return`${xn(v.path)}${function mt(v){return Object.entries(v).map(([x,y])=>`;${xn(x)}=${xn(y)}`).join("")}(v.parameters)}`}const rn=/^[^\/()?;#]+/;function on(v){const x=v.match(rn);return x?x[0]:""}const _n=/^[^\/()?;=#]+/,gn=/^[^=?&#]+/,fr=/^[^&#]+/;class Tr{url;remaining;constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(x.length>0||Object.keys(y).length>0)&&(N[ce]=new Re(x,y)),N}parseSegment(){const x=on(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new r.buA(4009,!1);return this.capture(x),new Dt(Fn(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const y=function sn(v){const x=v.match(_n);return x?x[0]:""}(this.remaining);if(!y)return;this.capture(y);let N="";if(this.consumeOptional("=")){const re=on(this.remaining);re&&(N=re,this.capture(N))}x[Fn(y)]=Fn(N)}parseQueryParam(x){const y=function Ir(v){const x=v.match(gn);return x?x[0]:""}(this.remaining);if(!y)return;this.capture(y);let N="";if(this.consumeOptional("=")){const $e=function Er(v){const x=v.match(fr);return x?x[0]:""}(this.remaining);$e&&(N=$e,this.capture(N))}const re=Hn(y),Fe=Hn(N);if(x.hasOwnProperty(re)){let $e=x[re];Array.isArray($e)||($e=[$e],x[re]=$e),$e.push(Fe)}else x[re]=Fe}parseParens(x){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=on(this.remaining),re=this.remaining[N.length];if("/"!==re&&")"!==re&&";"!==re)throw new r.buA(4010,!1);let Fe;N.indexOf(":")>-1?(Fe=N.slice(0,N.indexOf(":")),this.capture(Fe),this.capture(":")):x&&(Fe=ce);const $e=this.parseChildren();y[Fe??ce]=1===Object.keys($e).length&&$e[ce]?$e[ce]:new Re([],$e),this.consumeOptional("//")}return y}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new r.buA(4011,!1)}}function Hr(v){return v.segments.length>0?new Re([],{[ce]:v}):v}function br(v){const x={};for(const[N,re]of Object.entries(v.children)){const Fe=br(re);if(N===ce&&0===Fe.segments.length&&Fe.hasChildren())for(const[$e,lt]of Object.entries(Fe.children))x[$e]=lt;else(Fe.segments.length>0||Fe.hasChildren())&&(x[N]=Fe)}return function Kr(v){if(1===v.numberOfChildren&&v.children[ce]){const x=v.children[ce];return new Re(v.segments.concat(x.segments),x.children)}return v}(new Re(v.segments,x))}function kr(v){return v instanceof Ge}function io(v){let x;const re=Hr(function y(Fe){const $e={};for(const Ft of Fe.children){const En=y(Ft);$e[Ft.outlet]=En}const lt=new Re(Fe.url,$e);return Fe===v&&(x=lt),lt}(v.root));return x??re}function di(v,x,y,N,re){let Fe=v;for(;Fe.parent;)Fe=Fe.parent;if(0===x.length)return yr(Fe,Fe,Fe,y,N,re);const $e=function zr(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new ri(!0,0,v);let x=0,y=!1;const N=v.reduce((re,Fe,$e)=>{if("object"==typeof Fe&&null!=Fe){if(Fe.outlets){const lt={};return Object.entries(Fe.outlets).forEach(([Ft,En])=>{lt[Ft]="string"==typeof En?En.split("/"):En}),[...re,{outlets:lt}]}if(Fe.segmentPath)return[...re,Fe.segmentPath]}return"string"!=typeof Fe?[...re,Fe]:0===$e?(Fe.split("/").forEach((lt,Ft)=>{0==Ft&&"."===lt||(0==Ft&&""===lt?y=!0:".."===lt?x++:""!=lt&&re.push(lt))}),re):[...re,Fe]},[]);return new ri(y,x,N)}(x);if($e.toRoot())return yr(Fe,Fe,new Re([],{}),y,N,re);const lt=function gi(v,x,y){if(v.isAbsolute)return new fi(x,!0,0);if(!y)return new fi(x,!1,NaN);if(null===y.parent)return new fi(y,!0,0);const N=mi(v.commands[0])?0:1;return function hi(v,x,y){let N=v,re=x,Fe=y;for(;Fe>re;){if(Fe-=re,N=N.parent,!N)throw new r.buA(4005,!1);re=N.segments.length}return new fi(N,!1,re-Fe)}(y,y.segments.length-1+N,v.numberOfDoubleDots)}($e,Fe,v),Ft=lt.processChildren?ii(lt.segmentGroup,lt.index,$e.commands):Ii(lt.segmentGroup,lt.index,$e.commands);return yr(Fe,lt.segmentGroup,Ft,y,N,re)}function mi(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Cr(v){return"object"==typeof v&&null!=v&&v.outlets}function $r(v,x,y){v||="\u0275";const N=new Ge;return N.queryParams={[v]:x},y.parse(y.serialize(N)).queryParams[v]}function yr(v,x,y,N,re,Fe){const $e={};for(const[En,Nn]of Object.entries(N??{}))$e[En]=Array.isArray(Nn)?Nn.map(dr=>$r(En,dr,Fe)):$r(En,Nn,Fe);let lt;lt=v===x?y:wr(v,x,y);const Ft=Hr(br(lt));return new Ge(Ft,$e,re)}function wr(v,x,y){const N={};return Object.entries(v.children).forEach(([re,Fe])=>{N[re]=Fe===x?y:wr(Fe,x,y)}),new Re(v.segments,N)}class ri{isAbsolute;numberOfDoubleDots;commands;constructor(x,y,N){if(this.isAbsolute=x,this.numberOfDoubleDots=y,this.commands=N,x&&N.length>0&&mi(N[0]))throw new r.buA(4003,!1);const re=N.find(Cr);if(re&&re!==te(N))throw new r.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{segmentGroup;processChildren;index;constructor(x,y,N){this.segmentGroup=x,this.processChildren=y,this.index=N}}function Ii(v,x,y){if(v??=new Re([],{}),0===v.segments.length&&v.hasChildren())return ii(v,x,y);const N=function vt(v,x,y){let N=0,re=x;const Fe={match:!1,pathIndex:0,commandIndex:0};for(;re<v.segments.length;){if(N>=y.length)return Fe;const $e=v.segments[re],lt=y[N];if(Cr(lt))break;const Ft=`${lt}`,En=N<y.length-1?y[N+1]:null;if(re>0&&void 0===Ft)break;if(Ft&&En&&"object"==typeof En&&void 0===En.outlets){if(!zn(Ft,En,$e))return Fe;N+=2}else{if(!zn(Ft,{},$e))return Fe;N++}re++}return{match:!0,pathIndex:re,commandIndex:N}}(v,x,y),re=y.slice(N.commandIndex);if(N.match&&N.pathIndex<v.segments.length){const Fe=new Re(v.segments.slice(0,N.pathIndex),{});return Fe.children[ce]=new Re(v.segments.slice(N.pathIndex),v.children),ii(Fe,0,re)}return N.match&&0===re.length?new Re(v.segments,{}):N.match&&!v.hasChildren()?Wt(v,x,y):N.match?ii(v,0,re):Wt(v,x,y)}function ii(v,x,y){if(0===y.length)return new Re(v.segments,{});{const N=function _i(v){return Cr(v[0])?v[0].outlets:{[ce]:v}}(y),re={};if(Object.keys(N).some(Fe=>Fe!==ce)&&v.children[ce]&&1===v.numberOfChildren&&0===v.children[ce].segments.length){const Fe=ii(v.children[ce],x,y);return new Re(v.segments,Fe.children)}return Object.entries(N).forEach(([Fe,$e])=>{"string"==typeof $e&&($e=[$e]),null!==$e&&(re[Fe]=Ii(v.children[Fe],x,$e))}),Object.entries(v.children).forEach(([Fe,$e])=>{void 0===N[Fe]&&(re[Fe]=$e)}),new Re(v.segments,re)}}function Wt(v,x,y){const N=v.segments.slice(0,x);let re=0;for(;re<y.length;){const Fe=y[re];if(Cr(Fe)){const Ft=tn(Fe.outlets);return new Re(N,Ft)}if(0===re&&mi(y[0])){N.push(new Dt(v.segments[x].path,qt(y[0]))),re++;continue}const $e=Cr(Fe)?Fe.outlets[ce]:`${Fe}`,lt=re<y.length-1?y[re+1]:null;$e&&lt&&mi(lt)?(N.push(new Dt($e,qt(lt))),re+=2):(N.push(new Dt($e,{})),re++)}return new Re(N,{})}function tn(v){const x={};return Object.entries(v).forEach(([y,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(x[y]=Wt(new Re([],{}),0,N))}),x}function qt(v){const x={};return Object.entries(v).forEach(([y,N])=>x[y]=`${N}`),x}function zn(v,x,y){return v==y.path&&Te(x,y.parameters)}const Un="imperative";var kn=function(v){return v[v.NavigationStart=0]="NavigationStart",v[v.NavigationEnd=1]="NavigationEnd",v[v.NavigationCancel=2]="NavigationCancel",v[v.NavigationError=3]="NavigationError",v[v.RoutesRecognized=4]="RoutesRecognized",v[v.ResolveStart=5]="ResolveStart",v[v.ResolveEnd=6]="ResolveEnd",v[v.GuardsCheckStart=7]="GuardsCheckStart",v[v.GuardsCheckEnd=8]="GuardsCheckEnd",v[v.RouteConfigLoadStart=9]="RouteConfigLoadStart",v[v.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",v[v.ChildActivationStart=11]="ChildActivationStart",v[v.ChildActivationEnd=12]="ChildActivationEnd",v[v.ActivationStart=13]="ActivationStart",v[v.ActivationEnd=14]="ActivationEnd",v[v.Scroll=15]="Scroll",v[v.NavigationSkipped=16]="NavigationSkipped",v}(kn||{});class Vn{id;url;constructor(x,y){this.id=x,this.url=y}}class jr extends Vn{type=kn.NavigationStart;navigationTrigger;restoredState;constructor(x,y,N="imperative",re=null){super(x,y),this.navigationTrigger=N,this.restoredState=re}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends Vn{urlAfterRedirects;type=kn.NavigationEnd;constructor(x,y,N){super(x,y),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var vr=function(v){return v[v.Redirect=0]="Redirect",v[v.SupersededByNewNavigation=1]="SupersededByNewNavigation",v[v.NoDataFromResolver=2]="NoDataFromResolver",v[v.GuardRejected=3]="GuardRejected",v[v.Aborted=4]="Aborted",v}(vr||{}),Pi=function(v){return v[v.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",v[v.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",v}(Pi||{});class hr extends Vn{reason;code;type=kn.NavigationCancel;constructor(x,y,N,re){super(x,y),this.reason=N,this.code=re}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Or extends Vn{reason;code;type=kn.NavigationSkipped;constructor(x,y,N,re){super(x,y),this.reason=N,this.code=re}}class Wr extends Vn{error;target;type=kn.NavigationError;constructor(x,y,N,re){super(x,y),this.error=N,this.target=re}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gr extends Vn{urlAfterRedirects;state;type=kn.RoutesRecognized;constructor(x,y,N,re){super(x,y),this.urlAfterRedirects=N,this.state=re}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends Vn{urlAfterRedirects;state;type=kn.GuardsCheckStart;constructor(x,y,N,re){super(x,y),this.urlAfterRedirects=N,this.state=re}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends Vn{urlAfterRedirects;state;shouldActivate;type=kn.GuardsCheckEnd;constructor(x,y,N,re,Fe){super(x,y),this.urlAfterRedirects=N,this.state=re,this.shouldActivate=Fe}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jr extends Vn{urlAfterRedirects;state;type=kn.ResolveStart;constructor(x,y,N,re){super(x,y),this.urlAfterRedirects=N,this.state=re}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends Vn{urlAfterRedirects;state;type=kn.ResolveEnd;constructor(x,y,N,re){super(x,y),this.urlAfterRedirects=N,this.state=re}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $i{route;type=kn.RouteConfigLoadStart;constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{route;type=kn.RouteConfigLoadEnd;constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yi{snapshot;type=kn.ChildActivationStart;constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{snapshot;type=kn.ChildActivationEnd;constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pi{snapshot;type=kn.ActivationStart;constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{snapshot;type=kn.ActivationEnd;constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{routerEvent;position;anchor;type=kn.Scroll;constructor(x,y,N){this.routerEvent=x,this.position=y,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class je{}class wt{url;navigationBehaviorOptions;constructor(x,y){this.url=x,this.navigationBehaviorOptions=y}}function Gt(v){switch(v.type){case kn.ActivationEnd:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case kn.ActivationStart:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case kn.ChildActivationEnd:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case kn.ChildActivationStart:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case kn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case kn.GuardsCheckStart:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case kn.NavigationCancel:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case kn.NavigationSkipped:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case kn.NavigationEnd:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case kn.NavigationError:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case kn.NavigationStart:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case kn.ResolveEnd:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case kn.ResolveStart:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case kn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${v.route.path})`;case kn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${v.route.path})`;case kn.RoutesRecognized:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case kn.Scroll:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}function pt(v){return v.outlet||ce}function Xt(v,x){const y=v.filter(N=>pt(N)===x);return y.push(...v.filter(N=>pt(N)!==x)),y}function nn(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let x=v.parent;x;x=x.parent){const y=x.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Pn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return nn(this.route?.snapshot)??this.rootInjector}constructor(x){this.rootInjector=x,this.children=new sr(this.rootInjector)}}let sr=(()=>{class v{rootInjector;contexts=new Map;constructor(y){this.rootInjector=y}onChildOutletCreated(y,N){const re=this.getOrCreateContext(y);re.outlet=N,this.contexts.set(y,re)}onChildOutletDestroyed(y){const N=this.getContext(y);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let N=this.getContext(y);return N||(N=new Pn(this.rootInjector),this.contexts.set(y,N)),N}getContext(y){return this.contexts.get(y)||null}static \u0275fac=function(N){return new(N||v)(r.KVO(r.uvJ))};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class Dr{_root;constructor(x){this._root=x}get root(){return this._root.value}parent(x){const y=this.pathFromRoot(x);return y.length>1?y[y.length-2]:null}children(x){const y=er(x,this._root);return y?y.children.map(N=>N.value):[]}firstChild(x){const y=er(x,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(x){const y=nr(x,this._root);return y.length<2?[]:y[y.length-2].children.map(re=>re.value).filter(re=>re!==x)}pathFromRoot(x){return nr(x,this._root).map(y=>y.value)}}function er(v,x){if(v===x.value)return x;for(const y of x.children){const N=er(v,y);if(N)return N}return null}function nr(v,x){if(v===x.value)return[x];for(const y of x.children){const N=nr(v,y);if(N.length)return N.unshift(x),N}return[]}class Yn{value;children;constructor(x,y){this.value=x,this.children=y}toString(){return`TreeNode(${this.value})`}}function ar(v){const x={};return v&&v.children.forEach(y=>x[y.value.outlet]=y),x}class mr extends Dr{snapshot;constructor(x,y){super(x),this.snapshot=y,Ui(this,x)}toString(){return this.snapshot.toString()}}function Ri(v){const x=function ki(v){const Fe=new vi([],{},{},"",{},ce,v,null,{});return new ji("",new Yn(Fe,[]))}(v),y=new b.t([new Dt("",{})]),N=new b.t({}),re=new b.t({}),Fe=new b.t({}),$e=new b.t(""),lt=new si(y,N,Fe,$e,re,ce,v,x.root);return lt.snapshot=x.root,new mr(new Yn(lt,[]),x)}class si{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(x,y,N,re,Fe,$e,lt,Ft){this.urlSubject=x,this.paramsSubject=y,this.queryParamsSubject=N,this.fragmentSubject=re,this.dataSubject=Fe,this.outlet=$e,this.component=lt,this._futureSnapshot=Ft,this.title=this.dataSubject?.pipe((0,B.T)(En=>En[Y]))??(0,_.of)(void 0),this.url=x,this.params=y,this.queryParams=N,this.fragment=re,this.data=Fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,B.T)(x=>Le(x))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,B.T)(x=>Le(x))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qr(v,x,y="emptyOnly"){let N;const{routeConfig:re}=v;return N=null===x||"always"!==y&&""!==re?.path&&(x.component||x.routeConfig?.loadComponent)?{params:{...v.params},data:{...v.data},resolve:{...v.data,...v._resolvedData??{}}}:{params:{...x.params,...v.params},data:{...x.data,...v.data},resolve:{...v.data,...x.data,...re?.data,...v._resolvedData}},re&&fo(re)&&(N.resolve[Y]=re.title),N}class vi{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Y]}constructor(x,y,N,re,Fe,$e,lt,Ft,En){this.url=x,this.params=y,this.queryParams=N,this.fragment=re,this.data=Fe,this.outlet=$e,this.component=lt,this.routeConfig=Ft,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Le(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Le(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends Dr{url;constructor(x,y){super(y),this.url=x,Ui(this,y)}toString(){return oo(this._root)}}function Ui(v,x){x.value._routerState=v,x.children.forEach(y=>Ui(v,y))}function oo(v){const x=v.children.length>0?` { ${v.children.map(oo).join(", ")} } `:"";return`${v.value}${x}`}function Zi(v){if(v.snapshot){const x=v.snapshot,y=v._futureSnapshot;v.snapshot=y,Te(x.queryParams,y.queryParams)||v.queryParamsSubject.next(y.queryParams),x.fragment!==y.fragment&&v.fragmentSubject.next(y.fragment),Te(x.params,y.params)||v.paramsSubject.next(y.params),function De(v,x){if(v.length!==x.length)return!1;for(let y=0;y<v.length;++y)if(!Te(v[y],x[y]))return!1;return!0}(x.url,y.url)||v.urlSubject.next(y.url),Te(x.data,y.data)||v.dataSubject.next(y.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function zi(v,x){const y=Te(v.params,x.params)&&function at(v,x){return Et(v,x)&&v.every((y,N)=>Te(y.parameters,x[N].parameters))}(v.url,x.url);return y&&!(!v.parent!=!x.parent)&&(!v.parent||zi(v.parent,x.parent))}function fo(v){return"string"==typeof v.title||null===v.title}const ai=new r.nKC("");let Gi=(()=>{class v{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new r.bkB;deactivateEvents=new r.bkB;attachEvents=new r.bkB;detachEvents=new r.bkB;routerOutletData=(0,$.hFB)();parentContexts=(0,r.WQX)(sr);location=(0,r.WQX)(D.c1b);changeDetector=(0,r.WQX)($.gRc);inputBinder=(0,r.WQX)(Ji,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(y){if(y.name){const{firstChange:N,previousValue:re}=y.name;if(N)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.buA(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,N){this.activated=y,this._activatedRoute=N,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,N){if(this.isActivated)throw new r.buA(4013,!1);this._activatedRoute=y;const re=this.location,$e=y.snapshot.component,lt=this.parentContexts.getOrCreateContext(this.name).children,Ft=new vo(y,lt,re.injector,this.routerOutletData);this.activated=re.createComponent($e,{index:re.length,injector:Ft,environmentInjector:N}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(N){return new(N||v)};static \u0275dir=D.FsC({type:v,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[D.OA$]})}return v})();class vo{route;childContexts;parent;outletData;constructor(x,y,N,re){this.route=x,this.childContexts=y,this.parent=N,this.outletData=re}get(x,y){return x===si?this.route:x===sr?this.childContexts:x===ai?this.outletData:this.parent.get(x,y)}}const Ji=new r.nKC("");let to=(()=>{class v{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:N}=y,re=(0,W.z)([N.queryParams,N.params,N.data]).pipe((0,q.n)(([Fe,$e,lt],Ft)=>(lt={...Fe,...$e,...lt},0===Ft?(0,_.of)(lt):Promise.resolve(lt)))).subscribe(Fe=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(y);const $e=(0,$.HJs)(N.component);if($e)for(const{templateName:lt}of $e.inputs)y.activatedComponentRef.setInput(lt,Fe[lt]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,re)}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac})}return v})(),Ki=(()=>{class v{static \u0275fac=function(N){return new(N||v)};static \u0275cmp=D.VBU({type:v,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(N,re){1&N&&D.nrm(0,"router-outlet")},dependencies:[Gi],encapsulation:2})}return v})();function so(v){const x=v.children&&v.children.map(so),y=x?{...v,children:x}:{...v};return!y.component&&!y.loadComponent&&(x||y.loadChildren)&&y.outlet&&y.outlet!==ce&&(y.component=Ki),y}function no(v,x,y){if(y&&v.shouldReuseRoute(x.value,y.value.snapshot)){const N=y.value;N._futureSnapshot=x.value;const re=function ho(v,x,y){return x.children.map(N=>{for(const re of y.children)if(v.shouldReuseRoute(N.value,re.value.snapshot))return no(v,N,re);return no(v,N)})}(v,x,y);return new Yn(N,re)}{if(v.shouldAttach(x.value)){const Fe=v.retrieve(x.value);if(null!==Fe){const $e=Fe.route;return $e.value._futureSnapshot=x.value,$e.children=x.children.map(lt=>no(v,lt)),$e}}const N=function ei(v){return new si(new b.t(v.url),new b.t(v.params),new b.t(v.queryParams),new b.t(v.fragment),new b.t(v.data),v.outlet,v.component,v)}(x.value),re=x.children.map(Fe=>no(v,Fe));return new Yn(N,re)}}class Qi{redirectTo;navigationBehaviorOptions;constructor(x,y){this.redirectTo=x,this.navigationBehaviorOptions=y}}const uo="ngNavigationCancelingError";function Ni(v,x){const{redirectTo:y,navigationBehaviorOptions:N}=kr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,re=Yi(!1,vr.Redirect);return re.url=y,re.navigationBehaviorOptions=N,re}function Yi(v,x){const y=new Error(`NavigationCancelingError: ${v||""}`);return y[uo]=!0,y.cancellationCode=x,y}function Se(v){return!!v&&v[uo]}class it{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(x,y,N,re,Fe){this.routeReuseStrategy=x,this.futureState=y,this.currState=N,this.forwardEvent=re,this.inputBindingEnabled=Fe}activate(x){const y=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,N,x),Zi(this.futureState.root),this.activateChildRoutes(y,N,x)}deactivateChildRoutes(x,y,N){const re=ar(y);x.children.forEach(Fe=>{const $e=Fe.value.outlet;this.deactivateRoutes(Fe,re[$e],N),delete re[$e]}),Object.values(re).forEach(Fe=>{this.deactivateRouteAndItsChildren(Fe,N)})}deactivateRoutes(x,y,N){const re=x.value,Fe=y?y.value:null;if(re===Fe)if(re.component){const $e=N.getContext(re.outlet);$e&&this.deactivateChildRoutes(x,y,$e.children)}else this.deactivateChildRoutes(x,y,N);else Fe&&this.deactivateRouteAndItsChildren(y,N)}deactivateRouteAndItsChildren(x,y){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,y):this.deactivateRouteAndOutlet(x,y)}detachAndStoreRouteSubtree(x,y){const N=y.getContext(x.value.outlet),re=N&&x.value.component?N.children:y,Fe=ar(x);for(const $e of Object.values(Fe))this.deactivateRouteAndItsChildren($e,re);if(N&&N.outlet){const $e=N.outlet.detach(),lt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:$e,route:x,contexts:lt})}}deactivateRouteAndOutlet(x,y){const N=y.getContext(x.value.outlet),re=N&&x.value.component?N.children:y,Fe=ar(x);for(const $e of Object.values(Fe))this.deactivateRouteAndItsChildren($e,re);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(x,y,N){const re=ar(y);x.children.forEach(Fe=>{this.activateRoutes(Fe,re[Fe.value.outlet],N),this.forwardEvent(new Qr(Fe.value.snapshot))}),x.children.length&&this.forwardEvent(new Mi(x.value.snapshot))}activateRoutes(x,y,N){const re=x.value,Fe=y?y.value:null;if(Zi(re),re===Fe)if(re.component){const $e=N.getOrCreateContext(re.outlet);this.activateChildRoutes(x,y,$e.children)}else this.activateChildRoutes(x,y,N);else if(re.component){const $e=N.getOrCreateContext(re.outlet);if(this.routeReuseStrategy.shouldAttach(re.snapshot)){const lt=this.routeReuseStrategy.retrieve(re.snapshot);this.routeReuseStrategy.store(re.snapshot,null),$e.children.onOutletReAttached(lt.contexts),$e.attachRef=lt.componentRef,$e.route=lt.route.value,$e.outlet&&$e.outlet.attach(lt.componentRef,lt.route.value),Zi(lt.route.value),this.activateChildRoutes(x,null,$e.children)}else $e.attachRef=null,$e.route=re,$e.outlet&&$e.outlet.activateWith(re,$e.injector),this.activateChildRoutes(x,null,$e.children)}else this.activateChildRoutes(x,null,N)}}class xt{path;route;constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Jt{component;route;constructor(x,y){this.component=x,this.route=y}}function hn(v,x,y){const N=v._root;return Jn(N,x?x._root:null,y,[N.value])}function jn(v,x){const y=Symbol(),N=x.get(v,y);return N===y?"function"!=typeof v||(0,r.muV)(v)?x.get(v):v:N}function Jn(v,x,y,N,re={canDeactivateChecks:[],canActivateChecks:[]}){const Fe=ar(x);return v.children.forEach($e=>{(function cr(v,x,y,N,re={canDeactivateChecks:[],canActivateChecks:[]}){const Fe=v.value,$e=x?x.value:null,lt=y?y.getContext(v.value.outlet):null;if($e&&Fe.routeConfig===$e.routeConfig){const Ft=function Wn(v,x,y){if("function"==typeof y)return y(v,x);switch(y){case"pathParamsChange":return!Et(v.url,x.url);case"pathParamsOrQueryParamsChange":return!Et(v.url,x.url)||!Te(v.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zi(v,x)||!Te(v.queryParams,x.queryParams);default:return!zi(v,x)}}($e,Fe,Fe.routeConfig.runGuardsAndResolvers);Ft?re.canActivateChecks.push(new xt(N)):(Fe.data=$e.data,Fe._resolvedData=$e._resolvedData),Jn(v,x,Fe.component?lt?lt.children:null:y,N,re),Ft&&lt&&lt.outlet&&lt.outlet.isActivated&&re.canDeactivateChecks.push(new Jt(lt.outlet.component,$e))}else $e&&Sr(x,lt,re),re.canActivateChecks.push(new xt(N)),Jn(v,null,Fe.component?lt?lt.children:null:y,N,re)})($e,Fe[$e.value.outlet],y,N.concat([$e.value]),re),delete Fe[$e.value.outlet]}),Object.entries(Fe).forEach(([$e,lt])=>Sr(lt,y.getContext($e),re)),re}function Sr(v,x,y){const N=ar(v),re=v.value;Object.entries(N).forEach(([Fe,$e])=>{Sr($e,re.component?x?x.children.getContext(Fe):null:x,y)}),y.canDeactivateChecks.push(new Jt(re.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,re))}function Ar(v){return"function"==typeof v}function m(v){return v instanceof C.G||"EmptyError"===v?.name}const R=Symbol("INITIAL_VALUE");function ee(){return(0,q.n)(v=>(0,W.z)(v.map(x=>x.pipe((0,G.s)(1),(0,Q.Z)(R)))).pipe((0,B.T)(x=>{for(const y of x)if(!0!==y){if(y===R)return R;if(!1===y||Pe(y))return y}return!0}),(0,ne.p)(x=>x!==R),(0,G.s)(1)))}function Pe(v){return kr(v)||v instanceof Qi}function qe(v){return v.aborted?(0,_.of)(void 0).pipe((0,G.s)(1)):new L.c(x=>{const y=()=>{x.next(),x.complete()};return v.addEventListener("abort",y),()=>v.removeEventListener("abort",y)})}function gt(v){return ge(qe(v))}function Nr(v){return(0,U.F)((0,et.M)(x=>{if("boolean"!=typeof x)throw Ni(0,x)}),(0,B.T)(x=>!0===x))}let Pr=class Z_ extends Error{segmentGroup;constructor(x){super(),this.segmentGroup=x||null,Object.setPrototypeOf(this,Z_.prototype)}},ti=class J_ extends Error{urlTree;constructor(x){super(),this.urlTree=x,Object.setPrototypeOf(this,J_.prototype)}};function Lr(v){throw new r.buA(4e3,!1)}let l=class{urlSerializer;urlTree;constructor(x,y){this.urlSerializer=x,this.urlTree=y}lineralizeSegments(x,y){return(0,u.A)(function*(){let N=[],re=y.root;for(;;){if(N=N.concat(re.segments),0===re.numberOfChildren)return N;if(re.numberOfChildren>1||!re.children[ce])throw Lr();re=re.children[ce]}})()}applyRedirectCommands(x,y,N,re,Fe){var $e=this;return(0,u.A)(function*(){const lt=yield function h(v,x,y){if("string"==typeof v)return Promise.resolve(v);const N=v,{queryParams:re,fragment:Fe,routeConfig:$e,url:lt,outlet:Ft,params:En,data:Nn,title:dr}=x;return K(Me((0,r.N4e)(y,()=>N({params:En,data:Nn,queryParams:re,fragment:Fe,routeConfig:$e,url:lt,outlet:Ft,title:dr}))))}(y,re,Fe);if(lt instanceof Ge)throw new ti(lt);const Ft=$e.applyRedirectCreateUrlTree(lt,$e.urlSerializer.parse(lt),x,N);if("/"===lt[0])throw new ti(Ft);return Ft})()}applyRedirectCreateUrlTree(x,y,N,re){const Fe=this.createSegmentGroup(x,y.root,N,re);return new Ge(Fe,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(x,y){const N={};return Object.entries(x).forEach(([re,Fe])=>{if("string"==typeof Fe&&":"===Fe[0]){const lt=Fe.substring(1);N[re]=y[lt]}else N[re]=Fe}),N}createSegmentGroup(x,y,N,re){const Fe=this.createSegments(x,y.segments,N,re);let $e={};return Object.entries(y.children).forEach(([lt,Ft])=>{$e[lt]=this.createSegmentGroup(x,Ft,N,re)}),new Re(Fe,$e)}createSegments(x,y,N,re){return y.map(Fe=>":"===Fe.path[0]?this.findPosParam(x,Fe,re):this.findOrReturn(Fe,N))}findPosParam(x,y,N){const re=N[y.path.substring(1)];if(!re)throw new r.buA(4001,!1);return re}findOrReturn(x,y){let N=0;for(const re of y){if(re.path===x.path)return y.splice(N),re;N++}return x}};const H={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oe(v,x,y,N,re,Fe){const $e=Ee(v,x,y);return $e.matched?(N=function ln(v,x){return v.providers&&!v._injector&&(v._injector=(0,D.Ol2)(v.providers,x,`Route: ${v.path}`)),v._injector??x}(x,N),function xr(v,x,y,N,re){const Fe=x.canMatch;if(!Fe||0===Fe.length)return(0,_.of)(!0);const $e=Fe.map(lt=>{const Ft=jn(lt,v);let Nn=Me(function Ve(v){return v&&Ar(v.canMatch)}(Ft)?Ft.canMatch(x,y):(0,r.N4e)(v,()=>Ft(x,y)));return re?Nn.pipe(gt(re)):Nn});return(0,_.of)($e).pipe(ee(),Nr())}(N,x,y,0,Fe).pipe((0,B.T)(lt=>!0===lt?$e:{...H}))):(0,_.of)($e)}function Ee(v,x,y){if("**"===x.path)return function Be(v){return{matched:!0,parameters:v.length>0?te(v).parameters:{},consumedSegments:v,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===x.path)return"full"===x.pathMatch&&(v.hasChildren()||y.length>0)?{...H}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const re=(x.matcher||st)(y,v,x);if(!re)return{...H};const Fe={};Object.entries(re.posParams??{}).forEach(([lt,Ft])=>{Fe[lt]=Ft.path});const $e=re.consumed.length>0?{...Fe,...re.consumed[re.consumed.length-1].parameters}:Fe;return{matched:!0,consumedSegments:re.consumed,remainingSegments:y.slice(re.consumed.length),parameters:$e,positionalParamSegments:re.posParams??{}}}function tt(v,x,y,N){return y.length>0&&function Rt(v,x,y){return y.some(N=>rt(v,x,N)&&pt(N)!==ce)}(v,y,N)?{segmentGroup:new Re(x,Tt(N,new Re(y,v.children))),slicedSegments:[]}:0===y.length&&function dt(v,x,y){return y.some(N=>rt(v,x,N))}(v,y,N)?{segmentGroup:new Re(v.segments,ht(v,y,N,v.children)),slicedSegments:y}:{segmentGroup:new Re(v.segments,v.children),slicedSegments:y}}function ht(v,x,y,N){const re={};for(const Fe of y)if(rt(v,x,Fe)&&!N[pt(Fe)]){const $e=new Re([],{});re[pt(Fe)]=$e}return{...N,...re}}function Tt(v,x){const y={};y[ce]=x;for(const N of v)if(""===N.path&&pt(N)!==ce){const re=new Re([],{});y[pt(N)]=re}return y}function rt(v,x,y){return(!(v.hasChildren()||x.length>0)||"full"!==y.pathMatch)&&""===y.path}let yt=class{};function At(v,x,y,N,re,Fe){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,u.A)(function*(v,x,y,N,re,Fe,$e="emptyOnly",lt){return new Kt(v,x,y,N,re,$e,Fe,lt).recognize()})).apply(this,arguments)}let Kt=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(x,y,N,re,Fe,$e,lt,Ft){this.injector=x,this.configLoader=y,this.rootComponentType=N,this.config=re,this.urlTree=Fe,this.paramsInheritanceStrategy=$e,this.urlSerializer=lt,this.abortSignal=Ft,this.applyRedirects=new l(this.urlSerializer,this.urlTree)}noMatchError(x){return new r.buA(4002,`'${x.segmentGroup}'`)}recognize(){var x=this;return(0,u.A)(function*(){const y=tt(x.urlTree.root,[],[],x.config).segmentGroup,{children:N,rootSnapshot:re}=yield x.match(y),Fe=new Yn(re,N),$e=new ji("",Fe),lt=function Zr(v,x,y=null,N=null,re=new ut){return di(io(v),x,y,N,re)}(re,[],x.urlTree.queryParams,x.urlTree.fragment);return lt.queryParams=x.urlTree.queryParams,$e.url=x.urlSerializer.serialize(lt),{state:$e,tree:lt}})()}match(x){var y=this;return(0,u.A)(function*(){const N=new vi([],Object.freeze({}),Object.freeze({...y.urlTree.queryParams}),y.urlTree.fragment,Object.freeze({}),ce,y.rootComponentType,null,{});try{return{children:yield y.processSegmentGroup(y.injector,y.config,x,ce,N),rootSnapshot:N}}catch(re){if(re instanceof ti)return y.urlTree=re.urlTree,y.match(re.urlTree.root);throw re instanceof Pr?y.noMatchError(re):re}})()}processSegmentGroup(x,y,N,re,Fe){var $e=this;return(0,u.A)(function*(){if(0===N.segments.length&&N.hasChildren())return $e.processChildren(x,y,N,Fe);const lt=yield $e.processSegment(x,y,N,N.segments,re,!0,Fe);return lt instanceof Yn?[lt]:[]})()}processChildren(x,y,N,re){var Fe=this;return(0,u.A)(function*(){const $e=[];for(const En of Object.keys(N.children))"primary"===En?$e.unshift(En):$e.push(En);let lt=[];for(const En of $e){const Nn=N.children[En],dr=Xt(y,En),Vr=yield Fe.processSegmentGroup(x,dr,Nn,En,re);lt.push(...Vr)}const Ft=an(lt);return function jt(v){v.sort((x,y)=>x.value.outlet===ce?-1:y.value.outlet===ce?1:x.value.outlet.localeCompare(y.value.outlet))}(Ft),Ft})()}processSegment(x,y,N,re,Fe,$e,lt){var Ft=this;return(0,u.A)(function*(){for(const En of y)try{return yield Ft.processSegmentAgainstRoute(En._injector??x,y,En,N,re,Fe,$e,lt)}catch(Nn){if(Nn instanceof Pr||m(Nn))continue;throw Nn}if(function Ct(v,x,y){return 0===x.length&&!v.children[y]}(N,re,Fe))return new yt;throw new Pr(N)})()}processSegmentAgainstRoute(x,y,N,re,Fe,$e,lt,Ft){var En=this;return(0,u.A)(function*(){if(pt(N)!==$e&&($e===ce||!rt(re,Fe,N)))throw new Pr(re);if(void 0===N.redirectTo)return En.matchSegmentAgainstRoute(x,re,N,Fe,$e,Ft);if(En.allowRedirects&&lt)return En.expandSegmentAgainstRouteUsingRedirect(x,re,y,N,Fe,$e,Ft);throw new Pr(re)})()}expandSegmentAgainstRouteUsingRedirect(x,y,N,re,Fe,$e,lt){var Ft=this;return(0,u.A)(function*(){const{matched:En,parameters:Nn,consumedSegments:dr,positionalParamSegments:Vr,remainingSegments:_o}=Ee(y,re,Fe);if(!En)throw new Pr(y);"string"==typeof re.redirectTo&&"/"===re.redirectTo[0]&&(Ft.absoluteRedirectCount++,Ft.absoluteRedirectCount>31&&(Ft.allowRedirects=!1));const Xr=new vi(Fe,Nn,Object.freeze({...Ft.urlTree.queryParams}),Ft.urlTree.fragment,bn(re),pt(re),re.component??re._loadedComponent??null,re,mn(re)),bo=qr(Xr,lt,Ft.paramsInheritanceStrategy);if(Xr.params=Object.freeze(bo.params),Xr.data=Object.freeze(bo.data),Ft.abortSignal.aborted)throw new Error(Ft.abortSignal.reason);const lo=yield Ft.applyRedirects.applyRedirectCommands(dr,re.redirectTo,Vr,Xr,x),yo=yield Ft.applyRedirects.lineralizeSegments(re,lo);return Ft.processSegment(x,N,y,yo.concat(_o),$e,!1,lt)})()}matchSegmentAgainstRoute(x,y,N,re,Fe,$e){var lt=this;return(0,u.A)(function*(){if(lt.abortSignal.aborted)throw new Error(lt.abortSignal.reason);const Ft=yield K(oe(y,N,re,x,0,lt.abortSignal));if("**"===N.path&&(y.children={}),!Ft?.matched)throw new Pr(y);x=N._injector??x;const{routes:En}=yield lt.getChildConfig(x,N,re),Nn=N._loadedInjector??x,{parameters:dr,consumedSegments:Vr,remainingSegments:_o}=Ft,Xr=new vi(Vr,dr,Object.freeze({...lt.urlTree.queryParams}),lt.urlTree.fragment,bn(N),pt(N),N.component??N._loadedComponent??null,N,mn(N)),bo=qr(Xr,$e,lt.paramsInheritanceStrategy);Xr.params=Object.freeze(bo.params),Xr.data=Object.freeze(bo.data);const{segmentGroup:lo,slicedSegments:yo}=tt(y,Vr,_o,En);if(0===yo.length&&lo.hasChildren()){const $s=yield lt.processChildren(Nn,En,lo,Xr);return new Yn(Xr,$s)}if(0===En.length&&0===yo.length)return new Yn(Xr,[]);const Wo=pt(N)===Fe,Co=yield lt.processSegment(Nn,En,lo,yo,Wo?ce:Fe,!0,Xr);return new Yn(Xr,Co instanceof Yn?[Co]:[])})()}getChildConfig(x,y,N){var re=this;return(0,u.A)(function*(){if(y.children)return{routes:y.children,injector:x};if(y.loadChildren){if(void 0!==y._loadedRoutes)return{routes:y._loadedRoutes,injector:y._loadedInjector};if(re.abortSignal.aborted)throw new Error(re.abortSignal.reason);if(yield K(function tr(v,x,y,N,re){const Fe=x.canLoad;if(void 0===Fe||0===Fe.length)return(0,_.of)(!0);const $e=Fe.map(lt=>{const Ft=jn(lt,v),Nn=Me(function xi(v){return v&&Ar(v.canLoad)}(Ft)?Ft.canLoad(x,y):(0,r.N4e)(v,()=>Ft(x,y)));return re?Nn.pipe(gt(re)):Nn});return(0,_.of)($e).pipe(ee(),Nr())}(x,y,N,0,re.abortSignal))){const $e=yield re.configLoader.loadChildren(x,y);return y._loadedRoutes=$e.routes,y._loadedInjector=$e.injector,$e}throw function qi(){throw Yi(!1,vr.GuardRejected)}()}return{routes:[],injector:x}})()}};function Zt(v){const x=v.value.routeConfig;return x&&""===x.path}function an(v){const x=[],y=new Set;for(const N of v){if(!Zt(N)){x.push(N);continue}const re=x.find(Fe=>N.value.routeConfig===Fe.value.routeConfig);void 0!==re?(re.children.push(...N.children),y.add(re)):x.push(N)}for(const N of y){const re=an(N.children);x.push(new Yn(N.value,re))}return x.filter(N=>!y.has(N))}function bn(v){return v.data||{}}function mn(v){return v.resolve||{}}Error;const es=new r.nKC("",{factory:()=>At});function ts(v){const x=v.children.map(y=>ts(y)).flat();return[v,...x]}function Vi(v){return(0,q.n)(x=>{const y=v(x);return y?(0,S.H)(y).pipe((0,B.T)(()=>x)):(0,_.of)(x)})}let No=(()=>{class v{buildTitle(y){let N,re=y.root;for(;void 0!==re;)N=this.getResolvedTitleForRoute(re)??N,re=re.children.find(Fe=>Fe.outlet===ce);return N}getResolvedTitleForRoute(y){return y.data[Y]}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:()=>(0,r.WQX)(xo),providedIn:"root"})}return v})(),xo=(()=>{class v extends No{title;constructor(y){super(),this.title=y}updateTitle(y){const N=this.buildTitle(y);void 0!==N&&this.title.setTitle(N)}static \u0275fac=function(N){return new(N||v)(r.KVO(se.hE))};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Oo=new r.nKC("",{factory:()=>({})}),Lo=new r.nKC("");let jo=(()=>{class v{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,r.WQX)(D.Ql9);loadComponent(y,N){var re=this;return(0,u.A)(function*(){if(re.componentLoaders.get(N))return re.componentLoaders.get(N);if(N._loadedComponent)return Promise.resolve(N._loadedComponent);re.onLoadStartListener&&re.onLoadStartListener(N);const Fe=(0,u.A)(function*(){try{const $e=yield pe((0,r.N4e)(y,()=>N.loadComponent())),lt=yield Uo(rs($e));return re.onLoadEndListener&&re.onLoadEndListener(N),N._loadedComponent=lt,lt}finally{re.componentLoaders.delete(N)}})();return re.componentLoaders.set(N,Fe),Fe})()}loadChildren(y,N){var re=this;if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return Promise.resolve({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const Fe=(0,u.A)(function*(){try{const $e=yield function Ls(v,x,y,N){return ns.apply(this,arguments)}(N,re.compiler,y,re.onLoadEndListener);return N._loadedRoutes=$e.routes,N._loadedInjector=$e.injector,$e}finally{re.childrenLoaders.delete(N)}})();return this.childrenLoaders.set(N,Fe),Fe}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function ns(){return(ns=(0,u.A)(function*(v,x,y,N){const re=yield pe((0,r.N4e)(y,()=>v.loadChildren())),Fe=yield Uo(rs(re));let $e;$e=Fe instanceof D.PYt||Array.isArray(Fe)?Fe:yield x.compileModuleAsync(Fe),N&&N(v);let lt,Ft;return Array.isArray($e)?Ft=$e:(lt=$e.create(y).injector,Ft=lt.get(Lo,[],{optional:!0,self:!0}).flat()),{routes:Ft.map(so),injector:lt}})).apply(this,arguments)}function rs(v){return function Fs(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}function Uo(v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.A)(function*(v){return v})).apply(this,arguments)}let X=(()=>{class v{static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:()=>(0,r.WQX)(Z),providedIn:"root"})}return v})(),Z=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,N){return y}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const le=new r.nKC(""),z=new r.nKC("");function Ae(v,x,y){const N=v.get(z),re=v.get(r.qQL);if(!re.startViewTransition||N.skipNextTransition)return N.skipNextTransition=!1,new Promise(En=>setTimeout(En));let Fe;const $e=new Promise(En=>{Fe=En}),lt=re.startViewTransition(()=>(Fe(),function Qe(v){return new Promise(x=>{(0,D.mal)({read:()=>setTimeout(x)},{injector:v})})}(v)));lt.updateCallbackDone.catch(En=>{}),lt.ready.catch(En=>{}),lt.finished.catch(En=>{});const{onViewTransitionCreated:Ft}=N;return Ft&&(0,r.N4e)(v,()=>Ft({transition:lt,from:x,to:y})),$e}const bt=()=>{},Pt=new r.nKC("");let St=(()=>{class v{currentNavigation=(0,r.vPA)(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=(0,r.vPA)(null);events=new T.B;transitionAbortWithErrorSubject=new T.B;configLoader=(0,r.WQX)(jo);environmentInjector=(0,r.WQX)(r.uvJ);destroyRef=(0,r.WQX)(r.abz);urlSerializer=(0,r.WQX)(Yt);rootContexts=(0,r.WQX)(sr);location=(0,r.WQX)(d.aZ);inputBindingEnabled=null!==(0,r.WQX)(Ji,{optional:!0});titleStrategy=(0,r.WQX)(No);options=(0,r.WQX)(Oo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,r.WQX)(X);createViewTransition=(0,r.WQX)(le,{optional:!0});navigationErrorHandler=(0,r.WQX)(Pt,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,_.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=re=>this.events.next(new Zn(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new $i(re)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(y){const N=++this.navigationId;(0,r.O8t)(()=>{this.transitions?.next({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:N})})}setupNavigations(y){return this.transitions=new b.t(null),this.transitions.pipe((0,ne.p)(N=>null!==N),(0,q.n)(N=>{let re=!1;const Fe=new AbortController;return(0,_.of)(N).pipe((0,q.n)($e=>{if(this.navigationId>N.id)return this.cancelNavigationTransition(N,"",vr.SupersededByNewNavigation),O.w;this.currentTransition=N;const lt=this.lastSuccessfulNavigation();this.currentNavigation.set({id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,targetBrowserUrl:"string"==typeof $e.extras.browserUrl?this.urlSerializer.parse($e.extras.browserUrl):$e.extras.browserUrl,trigger:$e.source,extras:$e.extras,previousNavigation:lt?{...lt,previousNavigation:null}:null,abort:()=>Fe.abort()});const Ft=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ft&&"reload"!==($e.extras.onSameUrlNavigation??y.onSameUrlNavigation))return this.events.next(new Or($e.id,this.urlSerializer.serialize($e.rawUrl),"",Pi.IgnoredSameUrlNavigation)),$e.resolve(!1),O.w;if(this.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,_.of)($e).pipe((0,q.n)(Nn=>(this.events.next(new jr(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),Nn.source,Nn.restoredState)),Nn.id!==this.navigationId?O.w:Promise.resolve(Nn))),function Go(v,x,y,N,re,Fe,$e){const lt=v.get(es);return(0,xe.Z)(Ft=>(0,_.of)(Ft).pipe((0,q.n)(En=>lt(v,x,y,N,En.extractedUrl,re,Fe,$e)),(0,B.T)(({state:En,tree:Nn})=>({...Ft,targetSnapshot:En,urlAfterRedirects:Nn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy,Fe.signal),(0,et.M)(Nn=>{N.targetSnapshot=Nn.targetSnapshot,N.urlAfterRedirects=Nn.urlAfterRedirects,this.currentNavigation.update(Vr=>(Vr.finalUrl=Nn.urlAfterRedirects,Vr));const dr=new Gr(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(dr)}));if(Ft&&this.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:Nn,extractedUrl:dr,source:Vr,restoredState:_o,extras:Xr}=$e,bo=new jr(Nn,this.urlSerializer.serialize(dr),Vr,_o);this.events.next(bo);const lo=Ri(this.rootComponentType).snapshot;return this.currentTransition=N={...$e,targetSnapshot:lo,urlAfterRedirects:dr,extras:{...Xr,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(yo=>(yo.finalUrl=dr,yo)),(0,_.of)(N)}return this.events.next(new Or($e.id,this.urlSerializer.serialize($e.extractedUrl),"",Pi.IgnoredByUrlHandlingStrategy)),$e.resolve(!1),O.w}),(0,et.M)($e=>{const lt=new Ci($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(lt)}),(0,B.T)($e=>(this.currentTransition=N={...$e,guards:hn($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},N)),function It(v,x){return(0,xe.Z)(y=>{const{targetSnapshot:N,currentSnapshot:re,guards:{canActivateChecks:Fe,canDeactivateChecks:$e}}=y;return 0===$e.length&&0===Fe.length?(0,_.of)({...y,guardsResult:!0}):function Ht(v,x,y,N){return(0,S.H)(v).pipe((0,xe.Z)(re=>function qn(v,x,y,N,re){const Fe=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!Fe||0===Fe.length)return(0,_.of)(!0);const $e=Fe.map(lt=>{const Ft=nn(x)??re,En=jn(lt,Ft);return Me(function Ti(v){return v&&Ar(v.canDeactivate)}(En)?En.canDeactivate(v,x,y,N):(0,r.N4e)(Ft,()=>En(v,x,y,N))).pipe((0,V.$)())});return(0,_.of)($e).pipe(ee())}(re.component,re.route,y,x,N)),(0,V.$)(re=>!0!==re,!0))}($e,N,re,v).pipe((0,xe.Z)(lt=>lt&&function Yr(v){return"boolean"==typeof v}(lt)?function en(v,x,y,N){return(0,S.H)(x).pipe((0,He.H)(re=>(0,I.x)(function Mn(v,x){return null!==v&&x&&x(new yi(v)),(0,_.of)(!0)}(re.route.parent,N),function Rn(v,x){return null!==v&&x&&x(new pi(v)),(0,_.of)(!0)}(re.route,N),function Gn(v,x,y){const N=x[x.length-1],Fe=x.slice(0,x.length-1).reverse().map($e=>function Tn(v){const x=v.routeConfig?v.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:v,guards:x}:null}($e)).filter($e=>null!==$e).map($e=>(0,A.v)(()=>{const lt=$e.guards.map(Ft=>{const En=nn($e.node)??y,Nn=jn(Ft,En);return Me(function co(v){return v&&Ar(v.canActivateChild)}(Nn)?Nn.canActivateChild(N,v):(0,r.N4e)(En,()=>Nn(N,v))).pipe((0,V.$)())});return(0,_.of)(lt).pipe(ee())}));return(0,_.of)(Fe).pipe(ee())}(v,re.path,y),function ir(v,x,y){const N=x.routeConfig?x.routeConfig.canActivate:null;if(!N||0===N.length)return(0,_.of)(!0);const re=N.map(Fe=>(0,A.v)(()=>{const $e=nn(x)??y,lt=jn(Fe,$e);return Me(function wi(v){return v&&Ar(v.canActivate)}(lt)?lt.canActivate(x,v):(0,r.N4e)($e,()=>lt(x,v))).pipe((0,V.$)())}));return(0,_.of)(re).pipe(ee())}(v,re.route,y))),(0,V.$)(re=>!0!==re,!0))}(N,Fe,v,x):(0,_.of)(lt)),(0,B.T)(lt=>({...y,guardsResult:lt})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,et.M)($e=>{if(N.guardsResult=$e.guardsResult,$e.guardsResult&&"boolean"!=typeof $e.guardsResult)throw Ni(0,$e.guardsResult);const lt=new oi($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(lt)}),(0,ne.p)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",vr.GuardRejected),!1)),Vi($e=>{if(0!==$e.guards.canActivateChecks.length)return(0,_.of)($e).pipe((0,et.M)(lt=>{const Ft=new Jr(lt.id,this.urlSerializer.serialize(lt.extractedUrl),this.urlSerializer.serialize(lt.urlAfterRedirects),lt.targetSnapshot);this.events.next(Ft)}),(0,q.n)(lt=>{let Ft=!1;return(0,_.of)(lt).pipe(function Qo(v,x){return(0,xe.Z)(y=>{const{targetSnapshot:N,guards:{canActivateChecks:re}}=y;if(!re.length)return(0,_.of)(y);const Fe=new Set(re.map(Ft=>Ft.route)),$e=new Set;for(const Ft of Fe)if(!$e.has(Ft))for(const En of ts(Ft))$e.add(En);let lt=0;return(0,S.H)($e).pipe((0,He.H)(Ft=>Fe.has(Ft)?function ma(v,x,y,N){const re=v.routeConfig,Fe=v._resolve;return void 0!==re?.title&&!fo(re)&&(Fe[Y]=re.title),(0,A.v)(()=>(v.data=qr(v,v.parent,y).resolve,function or(v,x,y,N){const re=me(v);if(0===re.length)return(0,_.of)({});const Fe={};return(0,S.H)(re).pipe((0,xe.Z)($e=>function Po(v,x,y,N){const re=nn(x)??N,Fe=jn(v,re);return Me(Fe.resolve?Fe.resolve(x,y):(0,r.N4e)(re,()=>Fe(x,y)))}(v[$e],x,y,N).pipe((0,V.$)(),(0,et.M)(lt=>{if(lt instanceof Qi)throw Ni(new ut,lt);Fe[$e]=lt}))),Ke(1),(0,B.T)(()=>Fe),(0,Xe.W)($e=>m($e)?O.w:function F(v,x){const y=(0,p.T)(v)?v:()=>v,N=re=>re.error(y());return new L.c(x?re=>x.schedule(N,0,re):N)}($e)))}(Fe,v,x,N).pipe((0,B.T)($e=>(v._resolvedData=$e,v.data={...v.data,...$e},null)))))}(Ft,N,v,x):(Ft.data=qr(Ft,Ft.parent,v).resolve,(0,_.of)(void 0))),(0,et.M)(()=>lt++),Ke(1),(0,xe.Z)(Ft=>lt===$e.size?(0,_.of)(y):O.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,et.M)({next:()=>Ft=!0,complete:()=>{Ft||this.cancelNavigationTransition(lt,"",vr.NoDataFromResolver)}}))}),(0,et.M)(lt=>{const Ft=new Oi(lt.id,this.urlSerializer.serialize(lt.extractedUrl),this.urlSerializer.serialize(lt.urlAfterRedirects),lt.targetSnapshot);this.events.next(Ft)}))}),Vi($e=>{const lt=En=>{const Nn=[];if(En.routeConfig?._loadedComponent)En.component=En.routeConfig?._loadedComponent;else if(En.routeConfig?.loadComponent){const dr=nn(En)??this.environmentInjector;Nn.push(this.configLoader.loadComponent(dr,En.routeConfig).then(Vr=>{En.component=Vr}))}for(const dr of En.children)Nn.push(...lt(dr));return Nn},Ft=lt($e.targetSnapshot.root);return 0===Ft.length?(0,_.of)($e):(0,S.H)(Promise.all(Ft).then(()=>$e))}),Vi(()=>this.afterPreactivation()),(0,q.n)(()=>{const{currentSnapshot:$e,targetSnapshot:lt}=N,Ft=this.createViewTransition?.(this.environmentInjector,$e.root,lt.root);return Ft?(0,S.H)(Ft).pipe((0,B.T)(()=>N)):(0,_.of)(N)}),(0,B.T)($e=>{const lt=function ao(v,x,y){const N=no(v,x._root,y?y._root:void 0);return new mr(N,x)}(y.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=N={...$e,targetRouterState:lt},this.currentNavigation.update(Ft=>(Ft.targetRouterState=lt,Ft)),N}),(0,et.M)(()=>{this.events.next(new je)}),((v,x,y,N)=>(0,B.T)(re=>(new it(x,re.targetRouterState,re.currentRouterState,y,N).activate(v),re)))(this.rootContexts,y.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),(0,G.s)(1),ge(qe(Fe.signal).pipe((0,ne.p)(()=>!re&&!N.targetRouterState),(0,et.M)(()=>{this.cancelNavigationTransition(N,Fe.signal.reason+"",vr.Aborted)}))),(0,et.M)({next:$e=>{re=!0,this.currentNavigation.update(lt=>(lt.abort=bt,lt)),this.lastSuccessfulNavigation.set((0,r.O8t)(this.currentNavigation)),this.events.next(new Ur($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),this.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{re=!0}}),ge(this.transitionAbortWithErrorSubject.pipe((0,et.M)($e=>{throw $e}))),function Ie(v){return(0,ue.N)((x,y)=>{try{x.subscribe(y)}finally{y.add(v)}})}(()=>{Fe.abort(),re||this.cancelNavigationTransition(N,"",vr.SupersededByNewNavigation),this.currentTransition?.id===N.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),(0,Xe.W)($e=>{if(this.destroyed)return N.resolve(!1),O.w;if(re=!0,Se($e))this.events.next(new hr(N.id,this.urlSerializer.serialize(N.extractedUrl),$e.message,$e.cancellationCode)),function ui(v){return Se(v)&&kr(v.url)}($e)?this.events.next(new wt($e.url,$e.navigationBehaviorOptions)):N.resolve(!1);else{const lt=new Wr(N.id,this.urlSerializer.serialize(N.extractedUrl),$e,N.targetSnapshot??void 0);try{const Ft=(0,r.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(lt));if(!(Ft instanceof Qi))throw this.events.next(lt),$e;{const{message:En,cancellationCode:Nn}=Ni(0,Ft);this.events.next(new hr(N.id,this.urlSerializer.serialize(N.extractedUrl),En,Nn)),this.events.next(new wt(Ft.redirectTo,Ft.navigationBehaviorOptions))}}catch(Ft){this.options.resolveNavigationPromiseOnError?N.resolve(!1):N.reject(Ft)}}return O.w}))}))}cancelNavigationTransition(y,N,re){const Fe=new hr(y.id,this.urlSerializer.serialize(y.extractedUrl),N,re);this.events.next(Fe),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const y=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),N=(0,r.O8t)(this.currentNavigation),re=N?.targetBrowserUrl??N?.extractedUrl;return y.toString()!==re?.toString()&&!N?.extras.skipLocationChange}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function cn(v){return v!==Un}let pn=(()=>{class v{static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:()=>(0,r.WQX)(Dn),providedIn:"root"})}return v})();class yn{shouldDetach(x){return!1}store(x,y){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,y){return x.routeConfig===y.routeConfig}}let Dn=(()=>{class v extends yn{static \u0275fac=(()=>{let y;return function(re){return(y||(y=D.xGo(v)))(re||v)}})();static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Bn=(()=>{class v{urlSerializer=(0,r.WQX)(Yt);options=(0,r.WQX)(Oo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,r.WQX)(d.aZ);urlHandlingStrategy=(0,r.WQX)(X);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ge;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:y,initialUrl:N,targetBrowserUrl:re}){const Fe=void 0!==y?this.urlHandlingStrategy.merge(y,N):N,$e=re??Fe;return $e instanceof Ge?this.urlSerializer.serialize($e):$e}commitTransition({targetRouterState:y,finalUrl:N,initialUrl:re}){N&&y?(this.currentUrlTree=N,this.rawUrlTree=this.urlHandlingStrategy.merge(N,re),this.routerState=y):this.rawUrlTree=re}routerState=Ri(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:y}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y??this.rawUrlTree)}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:()=>(0,r.WQX)(ur),providedIn:"root"})}return v})(),ur=(()=>{class v extends Bn{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(N=>{"popstate"===N.type&&setTimeout(()=>{y(N.url,N.state,"popstate")})})}handleRouterEvent(y,N){y instanceof jr?this.updateStateMemento():y instanceof Or?this.commitTransition(N):y instanceof Gr?"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(N),N)):y instanceof je?(this.commitTransition(N),"deferred"===this.urlUpdateStrategy&&!N.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(N),N)):y instanceof hr&&y.code!==vr.SupersededByNewNavigation&&y.code!==vr.Redirect?this.restoreHistory(N):y instanceof Wr?this.restoreHistory(N,!0):y instanceof Ur&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,{extras:N,id:re}){const{replaceUrl:Fe,state:$e}=N;if(this.location.isCurrentPathEqualTo(y)||Fe){const lt=this.browserPageId,Ft={...$e,...this.generateNgRouterState(re,lt)};this.location.replaceState(y,"",Ft)}else{const lt={...$e,...this.generateNgRouterState(re,this.browserPageId+1)};this.location.go(y,"",lt)}}restoreHistory(y,N=!1){if("computed"===this.canceledNavigationResolution){const Fe=this.currentPageId-this.browserPageId;0!==Fe?this.location.historyGo(Fe):this.getCurrentUrlTree()===y.finalUrl&&0===Fe&&(this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetInternalState(y),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,N){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:N}:{navigationId:y}}static \u0275fac=(()=>{let y;return function(re){return(y||(y=D.xGo(v)))(re||v)}})();static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function _r(v,x){v.events.pipe((0,ne.p)(y=>y instanceof Ur||y instanceof hr||y instanceof Wr||y instanceof Or),(0,B.T)(y=>y instanceof Ur||y instanceof Or?0:y instanceof hr&&(y.code===vr.Redirect||y.code===vr.SupersededByNewNavigation)?2:1),(0,ne.p)(y=>2!==y),(0,G.s)(1)).subscribe(()=>{x()})}const Mr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class v{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,r.WQX)(D.C7A);stateManager=(0,r.WQX)(Bn);options=(0,r.WQX)(Oo,{optional:!0})||{};pendingTasks=(0,r.WQX)(r.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,r.WQX)(St);urlSerializer=(0,r.WQX)(Yt);location=(0,r.WQX)(d.aZ);urlHandlingStrategy=(0,r.WQX)(X);injector=(0,r.WQX)(r.uvJ);_events=new T.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,r.WQX)(pn);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,r.WQX)(Lo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,r.WQX)(Ji,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}eventsSubscription=new M.yU;subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(N=>{try{const re=this.navigationTransitions.currentTransition,Fe=(0,r.O8t)(this.navigationTransitions.currentNavigation);if(null!==re&&null!==Fe)if(this.stateManager.handleRouterEvent(N,Fe),N instanceof hr&&N.code!==vr.Redirect&&N.code!==vr.SupersededByNewNavigation)this.navigated=!0;else if(N instanceof Ur)this.navigated=!0;else if(N instanceof wt){const $e=N.navigationBehaviorOptions,lt=this.urlHandlingStrategy.merge(N.url,re.currentRawUrl),Ft={browserUrl:re.extras.browserUrl,info:re.extras.info,skipLocationChange:re.extras.skipLocationChange,replaceUrl:re.extras.replaceUrl||"eager"===this.urlUpdateStrategy||cn(re.source),...$e};this.scheduleNavigation(lt,Un,null,Ft,{resolve:re.resolve,reject:re.reject,promise:re.promise})}(function $t(v){return!(v instanceof je||v instanceof wt)})(N)&&this._events.next(N)}catch(re){this.navigationTransitions.transitionAbortWithErrorSubject.next(re)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,N,re)=>{this.navigateToSyncWithBrowser(y,re,N)})}navigateToSyncWithBrowser(y,N,re){const Fe={replaceUrl:!0},$e=re?.navigationId?re:null;if(re){const Ft={...re};delete Ft.navigationId,delete Ft.\u0275routerPageId,0!==Object.keys(Ft).length&&(Fe.state=Ft)}const lt=this.parseUrl(y);this.scheduleNavigation(lt,N,$e,Fe).catch(Ft=>{this.disposed||this.injector.get(r.ZTf)(Ft)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return(0,r.O8t)(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(so),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,N={}){const{relativeTo:re,queryParams:Fe,fragment:$e,queryParamsHandling:lt,preserveFragment:Ft}=N,En=Ft?this.currentUrlTree.fragment:$e;let dr,Nn=null;switch(lt??this.options.defaultQueryParamsHandling){case"merge":Nn={...this.currentUrlTree.queryParams,...Fe};break;case"preserve":Nn=this.currentUrlTree.queryParams;break;default:Nn=Fe||null}null!==Nn&&(Nn=this.removeEmptyProps(Nn));try{dr=io(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),dr=this.currentUrlTree.root}return di(dr,y,Nn,En??null,this.urlSerializer)}navigateByUrl(y,N={skipLocationChange:!1}){const re=kr(y)?y:this.parseUrl(y),Fe=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(Fe,Un,null,N)}navigate(y,N={skipLocationChange:!1}){return function Ei(v){for(let x=0;x<v.length;x++)if(null==v[x])throw new r.buA(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,N),N)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.console.warn((0,r.OsK)(4018,!1)),this.urlSerializer.parse("/")}}isActive(y,N){let re;if(re=!0===N?{...Mr}:!1===N?{...Fr}:N,kr(y))return Ce(this.currentUrlTree,y,re);const Fe=this.parseUrl(y);return Ce(this.currentUrlTree,Fe,re)}removeEmptyProps(y){return Object.entries(y).reduce((N,[re,Fe])=>(null!=Fe&&(N[re]=Fe),N),{})}scheduleNavigation(y,N,re,Fe,$e){if(this.disposed)return Promise.resolve(!1);let lt,Ft,En;$e?(lt=$e.resolve,Ft=$e.reject,En=$e.promise):En=new Promise((dr,Vr)=>{lt=dr,Ft=Vr});const Nn=this.pendingTasks.add();return _r(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Nn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:Fe,resolve:lt,reject:Ft,promise:En,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),En.catch(dr=>Promise.reject(dr))}static \u0275fac=function(N){return new(N||v)};static \u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},3837(ct){"use strict";ct.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},3880(ct,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.contentVocabulary=E.metadataVocabulary=void 0,E.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],E.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},3884(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868);function $(P,S){const _=P.schema[S];return void 0!==_&&!(0,r.alwaysValidSchema)(P,_)}E.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:P})=>u.str`must match "${P.ifClause}" schema`,params:({params:P})=>u._`{failingKeyword: ${P.ifClause}}`},code(P){const{gen:S,parentSchema:_,it:b}=P;void 0===_.then&&void 0===_.else&&(0,r.checkStrictMode)(b,'"if" without "then" and "else" is ignored');const W=$(b,"then"),C=$(b,"else");if(!W&&!C)return;const L=S.let("valid",!0),I=S.name("_valid");if(function A(){const O=P.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},I);P.mergeEvaluated(O)}(),P.reset(),W&&C){const O=S.let("ifClause");P.setParams({ifClause:O}),S.if(I,U("then",O),U("else",O))}else W?S.if(I,U("then")):S.if((0,u.not)(I),U("else"));function U(O,p){return()=>{const F=P.subschema({keyword:O},I);S.assign(L,I),P.mergeValidEvaluated(F,L),p?S.assign(p,u._`${O}`):P.setParams({ifClause:O})}}P.pass(L,()=>P.error(!0))}}},3896(ct,E,a){"use strict";a.d(E,{h:()=>u});var u={isDevMode:()=>!1,deepFreezeWhenDevMode:r=>r,tunnelErrorMessage:r=>"\n        RxDB Error-Code: "+r+".\n        Hint: Error messages are not included in RxDB core to reduce build size.\n        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,\n        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error\n        "}},3968(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:a(2240).validateUnion,error:{message:"must match a schema in anyOf"}};E.default=r},4195(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(362);u.code='require("ajv/dist/runtime/equal").default',E.default=u},4281(ct,E,a){"use strict";a.d(E,{j:()=>L});var u=a(9182),r=a(5908),d=a(9135),D=a(4395),$=a(1277),P=a(3896),S=a(2284),_=a(4740),b={RxSchema:u.wJ.prototype,RxDocument:r.ky,RxQuery:d.Mh.prototype,RxCollection:D.wm.prototype,RxDatabase:$.lB.prototype},W=new Set,C=new Set;function L(I){if((0,S.Xi)("preAddRxPlugin",{plugin:I,plugins:W}),!W.has(I)){if(C.has(I.name))throw(0,_.Br)("PL3",{name:I.name,plugin:I});if(W.add(I),C.add(I.name),!I.rxdb)throw(0,_.JX)("PL1",{plugin:I});I.init&&I.init(),I.prototypes&&Object.entries(I.prototypes).forEach(([A,U])=>U(b[A])),I.overwritable&&Object.assign(P.h,I.overwritable),I.hooks&&Object.entries(I.hooks).forEach(([A,U])=>{U.after&&S.r[A].push(U.after),U.before&&S.r[A].unshift(U.before)})}}},4331(ct){"use strict";var E=ct.exports=function(r,d,D){"function"==typeof d&&(D=d,d={}),a(d,"function"==typeof(D=d.cb||D)?D:D.pre||function(){},D.post||function(){},r,"",r)};function a(r,d,D,$,P,S,_,b,W,C){if($&&"object"==typeof $&&!Array.isArray($)){for(var L in d($,P,S,_,b,W,C),$){var I=$[L];if(Array.isArray(I)){if(L in E.arrayKeywords)for(var A=0;A<I.length;A++)a(r,d,D,I[A],P+"/"+L+"/"+A,S,P,L,$,A)}else if(L in E.propsKeywords){if(I&&"object"==typeof I)for(var U in I)a(r,d,D,I[U],P+"/"+L+"/"+u(U),S,P,L,$,U)}else(L in E.keywords||r.allKeys&&!(L in E.skipKeywords))&&a(r,d,D,I,P+"/"+L,S,P,L,$)}D($,P,S,_,b,W,C)}}function u(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}E.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},E.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},E.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},E.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},4337(ct,E,a){"use strict";a.d(E,{dF:()=>r,xW:()=>d});var u=a(4671);function r(W){return W instanceof b?W:new b(W)}function d(...W){let C=0;return r(()=>{for(;C<W.length;){const L=W[C].next();if(!L.done)return L;C++}return{done:!0}})}function $(W,C){const L=W.slice(C+1);W.splice(C),Array.prototype.push.apply(W,L)}const P=new Error;class b{constructor(C){let L;if(this.#e=[],this.#t=[],this.isDone=!1,C instanceof Function&&(C={next:C}),function D(W){return!!W&&"object"==typeof W&&W?.next instanceof Function}(C)){const I=C;L=()=>{const A=I.next();if(A.done)throw P;return A.value}}else if((0,u.cy)(C)){const I=C,A=C.length;let U=0;L=()=>{if(U<A)return I[U++];throw P}}else if(!(C instanceof Function))throw new u.d8("Lazy must be initialized with an array, generator, or function.");this.#n=function _(W,C,L){let I=!1,A=-1,U=0;return function(O){try{e:for(;!I;){let p=W();A++;let F=-1;const T=C.length;let M=!1;for(;++F<T;){const V=C[F];switch(V.action){case 0:p=V.func(p,A);break;case 1:if(!V.func(p,A))continue e;break;case 2:--V.count,V.count||(M=!0);break;case 3:--V.count,V.count||$(C,F);continue e;default:break e}}if(I=M,!O)return{value:p,done:!1};L[U++]=p}}catch(p){if(p!==P)throw p}return I=!0,{done:I}}}(L,this.#e,this.#t)}#e;#t;#n;push(C,L){return"function"==typeof L?this.#e.push({action:C,func:L}):"number"==typeof L&&this.#e.push({action:C,count:L}),this}next(){return this.#n()}map(C){return this.push(0,C)}filter(C){return this.push(1,C)}take(C){return C>0?this.push(2,C):this}drop(C){return C>0?this.push(3,C):this}transform(C){const L=this;let I;return r(()=>(I||(I=r(C(L.value()))),I.next()))}value(){return this.isDone||(this.isDone=this.#n(!0).done),this.#t}each(C){for(;;){const L=this.next();if(L.done)break;if(!1===C(L.value))return!1}return!0}reduce(C,L){let I=this.next();for(void 0===L&&!I.done&&(L=I.value,I=this.next());!I.done;)L=C(L,I.value),I=this.next();return L}size(){return this.reduce((C,L)=>++C,0)}[Symbol.iterator](){return this}}},4360(ct,E,a){"use strict";a.d(E,{_:()=>r});var u=a(7707);function r(D,$,P,S,_){return new d(D,$,P,S,_)}class d extends u.vU{constructor($,P,S,_,b,W){super($),this.onFinalize=b,this.shouldUnsubscribe=W,this._next=P?function(C){try{P(C)}catch(L){$.error(L)}}:super._next,this._error=_?function(C){try{_(C)}catch(L){$.error(L)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(C){$.error(C)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},4395(ct,E,a){"use strict";a.d(E,{wm:()=>Ie,dN:()=>_e});var u=a(467),r=a(9650),d=a(5964),D=a(1397),$=a(6354),P=a(1311),S=a(5520),_=a(203),b=a(8663),W=a(6434),C=a(9403),L=a(720),I=a(1318),A=a(9135),U=a(4740),O=a(9825),p=a(6259),F=a(7176),T=function(){function K(Te){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=Te,this.subs.push(this.collection.eventBulks$.pipe((0,d.p)(me=>!me.isLocal)).subscribe(me=>{this.tasks.add(()=>this._handleChangeEvents(me.events)),this.tasks.size<=1&&(0,S.vN)().then(()=>{this.processTasks()})}))}var De=K.prototype;return De.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(j=>j()),this.tasks.clear())},De._handleChangeEvents=function(me){var j=this.counter;this.counter=this.counter+me.length,me.length>this.limit?this.buffer=me.slice(-1*me.length):((0,F.Hb)(this.buffer,me),this.buffer=this.buffer.slice(-1*this.limit));for(var te=j+1,Me=this.eventCounterMap,pe=0;pe<me.length;pe++)Me.set(me[pe],te+pe)},De.getCounter=function(){return this.processTasks(),this.counter},De.getBuffer=function(){return this.processTasks(),this.buffer},De.getArrayIndexByPointer=function(me){this.processTasks();var te=this.eventCounterMap.get(this.buffer[0]);return me<te?null:me-te},De.getFrom=function(me){this.processTasks();var j=[],te=this.getArrayIndexByPointer(me);if(null===te)return null;for(;;){var Me=this.buffer[te];if(te++,!Me)return j;j.push(Me)}},De.runFrom=function(me,j){this.processTasks();var te=this.getFrom(me);if(null===te)throw new Error("out of bounds");te.forEach(Me=>j(Me))},De.reduceByLastOfDoc=function(me){return this.processTasks(),me.slice(0)},De.close=function(){this.tasks.clear(),this.subs.forEach(me=>me.unsubscribe())},K}(),V=a(2284),B=a(5908),q=a(3896),G=new WeakMap;var Oe=a(6893),nt=a(6706),ge=a(7606),xe=a(312),He=["pre","post"],et=["insert","save","remove","create"],Ke=!1,Xe=new Set,Ie=function(){function K(Te,me,j,te,Me={},pe={},ae={},Ne={},Ce={},Ze=p.Cx,ot={},k=ge.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,p.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.eventBulks$={},this.onClose=[],this.closed=!1,this.onRemove=[],this.database=Te,this.name=me,this.schema=j,this.internalStorageInstance=te,this.instanceCreationOptions=Me,this.migrationStrategies=pe,this.methods=ae,this.attachments=Ne,this.options=Ce,this.cacheReplacementPolicy=Ze,this.statics=ot,this.conflictHandler=k,function se(K){if(!Ke){Ke=!0;var De=Object.getPrototypeOf(K);et.forEach(Te=>{He.map(me=>{var j=me+(0,L.Z2)(Te);De[j]=function(te,Me){return this.addHook(me,Te,te,Me)}})})}}(this.asRxCollection),Te&&(this.eventBulks$=Te.eventBulks$.pipe((0,d.p)(J=>J.collectionName===this.name))),this.database&&Xe.add(this)}var De=K.prototype;return De.prepare=function(){var Te=(0,u.A)(function*(){var Me,j=this;if(!(yield(0,P._H)())){for(var te=0;te<10&&Xe.size>P.Vx;)te++,yield this.promiseWait(30);if(Xe.size>P.Vx)throw(0,U.Br)("COL23",{database:this.database.name,collection:this.name,args:{existing:Array.from(Xe.values()).map(Ce=>({db:Ce.database?Ce.database.name:"",c:Ce.name}))}})}this.storageInstance=(0,Oe.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new nt.N6(this.storageInstance,this.schema.primaryPath,(Ce,Ze)=>(0,B.Lt)(this,Ce,Ze),Ce=>this._runHooks("post","save",Ce)),this.$=this.eventBulks$.pipe((0,D.Z)(Ce=>(0,xe.TI)(Ce))),this.checkpoint$=this.eventBulks$.pipe((0,$.T)(Ce=>Ce.checkpoint)),this._changeEventBuffer=function M(K){return new T(K)}(this.asRxCollection),this._docCache=new O.K(this.schema.primaryPath,this.eventBulks$.pipe((0,d.p)(Ce=>!Ce.isLocal),(0,$.T)(Ce=>Ce.events)),Ce=>(Me||(Me=function ne(K){return(0,C.q)(G,K,()=>(0,B.cM)(function Q(K){var De=K.schema.getDocumentPrototype(),Te=function ve(K){var De={};return Object.entries(K.methods).forEach(([Te,me])=>{De[Te]=me}),De}(K),j={};return[De,Te,B.ky].forEach(te=>{Object.getOwnPropertyNames(te).forEach(pe=>{var ae=Object.getOwnPropertyDescriptor(te,pe),Ne=!0;(pe.startsWith("_")||pe.endsWith("_")||pe.startsWith("$")||pe.endsWith("$"))&&(Ne=!1),"function"==typeof ae.value?Object.defineProperty(j,pe,{get(){return ae.value.bind(this)},enumerable:Ne,configurable:!1}):(ae.enumerable=Ne,ae.configurable=!1,ae.writable&&(ae.writable=!1),Object.defineProperty(j,pe,ae))})}),j}(K)))}(this.asRxCollection)),function ue(K,De,Te){var me=(0,B.Zb)(De,K,q.h.deepFreezeWhenDevMode(Te));return K._runHooksSync("post","create",Te,me),(0,V.Xi)("postCreateRxDocument",me),me}(this.asRxCollection,Me,Ce)));var pe=this.database.internalStore.changeStream().pipe((0,d.p)(Ce=>{var Ze=this.name+"-"+this.schema.version;return!!Ce.events.find(k=>"collection"===k.documentData.context&&k.documentData.key===Ze&&"DELETE"===k.operation)})).subscribe((0,u.A)(function*(){yield j.close(),yield Promise.all(j.onRemove.map(Ce=>Ce()))}));this._subs.push(pe);var ae=yield this.database.storageToken,Ne=this.storageInstance.changeStream().subscribe(Ce=>{this.database.$emit({id:Ce.id,isLocal:!1,internal:!1,collectionName:this.name,storageToken:ae,events:Ce.events,databaseToken:this.database.token,checkpoint:Ce.checkpoint,context:Ce.context})});return this._subs.push(Ne),S.em});return function me(){return Te.apply(this,arguments)}}(),De.cleanup=function(me){throw(0,I.qH)(this),(0,_.u)("cleanup")},De.migrationNeeded=function(){throw(0,_.u)("migration-schema")},De.getMigrationState=function(){throw(0,_.u)("migration-schema")},De.startMigration=function(me=10){return(0,I.qH)(this),this.getMigrationState().startMigration(me)},De.migratePromise=function(me=10){return this.getMigrationState().migratePromise(me)},De.insert=function(){var Te=(0,u.A)(function*(j){(0,I.qH)(this);var te=yield this.bulkInsert([j]);return(0,Oe.WX)(this,j[this.schema.primaryPath],j,te.error[0]),(0,b.ZN)(te.success[0])});return function me(j){return Te.apply(this,arguments)}}(),De.insertIfNotExists=function(){var Te=(0,u.A)(function*(j){var te=yield this.bulkInsert([j]);if(te.error.length>0){var Me=te.error[0];if(409===Me.status)return(0,O.X)(this._docCache,[Me.documentInDb])[0];throw Me}return te.success[0]});return function me(j){return Te.apply(this,arguments)}}(),De.bulkInsert=function(){var Te=(0,u.A)(function*(j){if((0,I.qH)(this),0===j.length)return{success:[],error:[]};var pe,te=this.schema.primaryPath,Me=new Set;if(this.hasHooks("pre","insert"))pe=yield Promise.all(j.map(Ge=>{var Re=(0,I.JY)(this.schema,Ge);return this._runHooks("pre","insert",Re).then(()=>(Me.add(Re[te]),{document:Re}))}));else{pe=new Array(j.length);for(var ae=this.schema,Ne=0;Ne<j.length;Ne++){var Ze=(0,I.JY)(ae,j[Ne]);Me.add(Ze[te]),pe[Ne]={document:Ze}}}if(Me.size!==j.length)throw(0,U.Br)("COL22",{collection:this.name,args:{documents:j}});var k,ot=yield this.storageInstance.bulkWrite(pe,"rx-collection-bulk-insert"),J=this,ke={get success(){if(!k){var Ge=(0,Oe.YN)(J.schema.primaryPath,pe,ot);k=(0,O.X)(J._docCache,Ge)}return k},error:ot.error};if(this.hasHooks("post","insert")){var ze=new Map;pe.forEach(Ge=>{var Re=Ge.document;ze.set(Re[te],Re)}),yield Promise.all(ke.success.map(Ge=>this._runHooks("post","insert",ze.get(Ge.primary),Ge)))}return ke});return function me(j){return Te.apply(this,arguments)}}(),De.bulkRemove=function(){var Te=(0,u.A)(function*(j){(0,I.qH)(this);var Me,te=this.schema.primaryPath;if(0===j.length)return{success:[],error:[]};"string"==typeof j[0]?Me=yield this.findByIds(j).exec():(Me=new Map,j.forEach(J=>Me.set(J.primary,J)));var pe=[],ae=new Map;Array.from(Me.values()).forEach(J=>{var ke=J.toMutableJSON(!0);pe.push(ke),ae.set(J.primary,ke)}),yield Promise.all(pe.map(J=>this._runHooks("pre","remove",J,Me.get(J[this.schema.primaryPath]))));var Ne=pe.map(J=>{var ke=(0,W.FD)(J);return ke._deleted=!0,{previous:J,document:ke}}),Ce=yield this.storageInstance.bulkWrite(Ne,"rx-collection-bulk-remove"),Ze=(0,Oe.YN)(this.schema.primaryPath,Ne,Ce),ot=[],k=Ze.map(J=>{var ke=J[te],ze=this._docCache.getCachedRxDocument(J);return ot.push(ze),ke});return yield Promise.all(k.map(J=>this._runHooks("post","remove",ae.get(J),Me.get(J)))),{success:ot,error:Ce.error}});return function me(j){return Te.apply(this,arguments)}}(),De.bulkUpsert=function(){var Te=(0,u.A)(function*(j){var te=this;(0,I.qH)(this);var Me=[],pe=new Map;j.forEach(Ze=>{var ot=(0,I.JY)(this.schema,Ze),k=ot[this.schema.primaryPath];if(!k)throw(0,U.Br)("COL3",{primaryPath:this.schema.primaryPath,data:ot,schema:this.schema.jsonSchema});pe.set(k,ot),Me.push(ot)});var ae=yield this.bulkInsert(Me),Ne=ae.success.slice(0),Ce=[];return yield Promise.all(ae.error.map(function(){var Ze=(0,u.A)(function*(ot){if(409!==ot.status)Ce.push(ot);else{var J=(0,C.m)(pe,ot.documentId),ke=(0,b.ZN)(ot.documentInDb),ze=te._docCache.getCachedRxDocuments([ke])[0],Ge=yield ze.incrementalModify(()=>J);Ne.push(Ge)}});return function(ot){return Ze.apply(this,arguments)}}())),{error:Ce,success:Ne}});return function me(j){return Te.apply(this,arguments)}}(),De.upsert=function(){var Te=(0,u.A)(function*(j){(0,I.qH)(this);var te=yield this.bulkUpsert([j]);return(0,Oe.WX)(this.asRxCollection,j[this.schema.primaryPath],j,te.error[0]),te.success[0]});return function me(j){return Te.apply(this,arguments)}}(),De.incrementalUpsert=function(me){(0,I.qH)(this);var j=(0,I.JY)(this.schema,me),te=j[this.schema.primaryPath];if(!te)throw(0,U.Br)("COL4",{data:me});var Me=this._incrementalUpsertQueues.get(te);return Me||(Me=S.em),Me=Me.then(()=>function Y(K,De,Te){var me=K._docCache.getLatestDocumentDataIfExists(De);return me?Promise.resolve({doc:K._docCache.getCachedRxDocuments([me])[0],inserted:!1}):K.findOne(De).exec().then(j=>j?{doc:j,inserted:!1}:K.insert(Te).then(te=>({doc:te,inserted:!0})))}(this,te,j)).then(pe=>pe.inserted?pe.doc:function ce(K,De){return K.incrementalModify(Te=>De)}(pe.doc,j)),this._incrementalUpsertQueues.set(te,Me),Me},De.find=function(me){return(0,I.qH)(this),(0,V.Xi)("prePrepareRxQuery",{op:"find",queryObj:me,collection:this}),me||(me=(0,A.XX)()),(0,A.nd)("find",me,this)},De.findOne=function(me){var j;if((0,I.qH)(this),(0,V.Xi)("prePrepareRxQuery",{op:"findOne",queryObj:me,collection:this}),"string"==typeof me)j=(0,A.nd)("findOne",{selector:{[this.schema.primaryPath]:me},limit:1},this);else{if(me||(me=(0,A.XX)()),me.limit)throw(0,U.Br)("QU6");(me=(0,W.FD)(me)).limit=1,j=(0,A.nd)("findOne",me,this)}return j},De.count=function(me){return(0,I.qH)(this),me||(me=(0,A.XX)()),(0,A.nd)("count",me,this)},De.findByIds=function(me){(0,I.qH)(this);var j={selector:{[this.schema.primaryPath]:{$in:me.slice(0)}}};return(0,A.nd)("findByIds",j,this)},De.exportJSON=function(){throw(0,_.u)("json-dump")},De.importJSON=function(me){throw(0,_.u)("json-dump")},De.insertCRDT=function(me){throw(0,_.u)("crdt")},De.addPipeline=function(me){throw(0,_.u)("pipeline")},De.addHook=function(me,j,te,Me=!1){if("function"!=typeof te)throw(0,U.JX)("COL7",{key:j,when:me});if(!He.includes(me))throw(0,U.JX)("COL8",{key:j,when:me});if(!et.includes(j))throw(0,U.Br)("COL9",{key:j});if("post"===me&&"create"===j&&!0===Me)throw(0,U.Br)("COL10",{when:me,key:j,parallel:Me});var pe=te.bind(this),ae=Me?"parallel":"series";this.hooks[j]=this.hooks[j]||{},this.hooks[j][me]=this.hooks[j][me]||{series:[],parallel:[]},this.hooks[j][me][ae].push(pe)},De.getHooks=function(me,j){return this.hooks[j]&&this.hooks[j][me]?this.hooks[j][me]:{series:[],parallel:[]}},De.hasHooks=function(me,j){if(!this.hooks[j]||!this.hooks[j][me])return!1;var te=this.getHooks(me,j);return!!te&&(te.series.length>0||te.parallel.length>0)},De._runHooks=function(me,j,te,Me){var pe=this.getHooks(me,j);if(!pe)return S.em;var ae=pe.series.map(Ne=>()=>Ne(te,Me));return(0,S.h$)(ae).then(()=>Promise.all(pe.parallel.map(Ne=>Ne(te,Me))))},De._runHooksSync=function(me,j,te,Me){if(this.hasHooks(me,j)){var pe=this.getHooks(me,j);pe&&pe.series.forEach(ae=>ae(te,Me))}},De.promiseWait=function(me){return new Promise(te=>{var Me=setTimeout(()=>{this.timeouts.delete(Me),te()},me);this.timeouts.add(Me)})},De.close=function(){var Te=(0,u.A)(function*(){return this.closed?S.Dr:(Xe.delete(this),yield Promise.all(this.onClose.map(j=>j())),this.closed=!0,Array.from(this.timeouts).forEach(j=>clearTimeout(j)),this._changeEventBuffer&&this._changeEventBuffer.close(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(j=>j.unsubscribe()),delete this.database.collections[this.name],(0,V.FX)("postCloseRxCollection",this).then(()=>!0))))});return function me(){return Te.apply(this,arguments)}}(),De.remove=function(){var Te=(0,u.A)(function*(){yield this.close(),yield Promise.all(this.onRemove.map(j=>j())),yield(0,I.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.multiInstance,this.database.password,this.database.hashFunction)});return function me(){return Te.apply(this,arguments)}}(),(0,r.A)(K,[{key:"insert$",get:function(){return this.$.pipe((0,d.p)(Te=>"INSERT"===Te.operation))}},{key:"update$",get:function(){return this.$.pipe((0,d.p)(Te=>"UPDATE"===Te.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,d.p)(Te=>"DELETE"===Te.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function _e(K){return Le.apply(this,arguments)}function Le(){return(Le=(0,u.A)(function*({database:K,name:De,schema:Te,instanceCreationOptions:me={},migrationStrategies:j={},autoMigrate:te=!0,statics:Me={},methods:pe={},attachments:ae={},options:Ne={},localDocuments:Ce=!1,cacheReplacementPolicy:Ze=p.Cx,conflictHandler:ot=ge.a}){var k={databaseInstanceToken:K.token,databaseName:K.name,collectionName:De,schema:Te.jsonSchema,options:me,multiInstance:K.multiInstance,password:K.password,devMode:q.h.isDevMode()};(0,V.Xi)("preCreateRxStorageInstance",k);var J=yield(0,I.vK)(K,k),ke=new Ie(K,De,Te,J,me,j,pe,ae,Ne,Ze,Me,ot);try{yield ke.prepare(),Object.entries(Me).forEach(([ze,Ge])=>{Object.defineProperty(ke,ze,{get:()=>Ge.bind(ke)})}),(0,V.Xi)("createRxCollection",{collection:ke,creator:{name:De,schema:Te,storageInstance:J,instanceCreationOptions:me,migrationStrategies:j,methods:pe,attachments:ae,options:Ne,cacheReplacementPolicy:Ze,localDocuments:Ce,statics:Me}}),te&&0!==ke.schema.version&&(yield ke.migratePromise())}catch(ze){throw Xe.delete(ke),yield J.close(),ze}return ke})).apply(this,arguments)}},4402(ct,E,a){"use strict";a.d(E,{A:()=>d});var u=a(1985),r=a(8071);function d(D){return!!D&&(D instanceof u.c||(0,r.T)(D.lift)&&(0,r.T)(D.subscribe))}},4412(ct,E,a){"use strict";a.d(E,{t:()=>r});var u=a(1413);class r extends u.B{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const $=super._subscribe(D);return!$.closed&&D.next(this._value),$}getValue(){const{hasError:D,thrownError:$,_value:P}=this;if(D)throw $;return this._throwIfClosed(),P}next(D){super.next(this._value=D)}}},4425(ct,E,a){"use strict";a.d(E,{Ks:()=>_,V0:()=>S});var d,u=a(467),r=a(4740);function P(){return(P=(0,u.A)(function*(b){var W=(new TextEncoder).encode(b),C=yield function D(){if(d)return d;if(typeof crypto>"u"||typeof crypto.subtle>"u"||"function"!=typeof crypto.subtle.digest)throw(0,r.Br)("UT8",{args:{typeof_crypto:typeof crypto,typeof_crypto_subtle:typeof crypto?.subtle,typeof_crypto_subtle_digest:typeof crypto?.subtle?.digest}});return d=crypto.subtle.digest.bind(crypto.subtle)}()("SHA-256",W);return Array.prototype.map.call(new Uint8Array(C),I=>("00"+I.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var S=function $(b){return P.apply(this,arguments)};function _(b){for(var W=0,C=b.length,L=0;L<C;L++)W+=b.charCodeAt(L),W|=0;return W}},4491(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(2240),r=a(5432),d=a(2682),D=a(7868);E.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:S})=>r._`{additionalProperty: ${S.additionalProperty}}`},code(S){const{gen:_,schema:b,parentSchema:W,data:C,errsCount:L,it:I}=S;if(!L)throw new Error("ajv implementation error");const{allErrors:A,opts:U}=I;if(I.props=!0,"all"!==U.removeAdditional&&(0,D.alwaysValidSchema)(I,b))return;const O=(0,u.allSchemaProperties)(W.properties),p=(0,u.allSchemaProperties)(W.patternProperties);function M(q){_.code(r._`delete ${C}[${q}]`)}function V(q){if("all"===U.removeAdditional||U.removeAdditional&&!1===b)M(q);else{if(!1===b)return S.setParams({additionalProperty:q}),S.error(),void(A||_.break());if("object"==typeof b&&!(0,D.alwaysValidSchema)(I,b)){const G=_.name("valid");"failing"===U.removeAdditional?(B(q,G,!1),_.if((0,r.not)(G),()=>{S.reset(),M(q)})):(B(q,G),A||_.if((0,r.not)(G),()=>_.break()))}}}function B(q,G,Q){const ne={keyword:"additionalProperties",dataProp:q,dataPropType:D.Type.Str};!1===Q&&Object.assign(ne,{compositeRule:!0,createErrors:!1,allErrors:!1}),S.subschema(ne,G)}(function F(){_.forIn("key",C,q=>{O.length||p.length?_.if(function T(q){let G;if(O.length>8){const Q=(0,D.schemaRefOrVal)(I,W.properties,"properties");G=(0,u.isOwnProperty)(_,Q,q)}else G=O.length?(0,r.or)(...O.map(Q=>r._`${q} === ${Q}`)):r.nil;return p.length&&(G=(0,r.or)(G,...p.map(Q=>r._`${(0,u.usePattern)(S,Q)}.test(${q})`))),(0,r.not)(G)}(q),()=>V(q)):V(q)})})(),S.ok(r._`${L} === ${d.default.errors}`)}}},4552(ct,E,a){"use strict";a.d(E,{t:()=>r});var u=0;function r(){var d=Date.now();(d+=.01)<=u&&(d=u+.01);var D=parseFloat(d.toFixed(2));return u=D,D}},4572(ct,E,a){"use strict";a.d(E,{z:()=>W});var u=a(1985),r=a(3073),d=a(6648),D=a(3669),$=a(6450),P=a(9326),S=a(8496),_=a(4360),b=a(5225);function W(...I){const A=(0,P.lI)(I),U=(0,P.ms)(I),{args:O,keys:p}=(0,r.D)(I);if(0===O.length)return(0,d.H)([],A);const F=new u.c(function C(I,A,U=D.D){return O=>{L(A,()=>{const{length:p}=I,F=new Array(p);let T=p,M=p;for(let V=0;V<p;V++)L(A,()=>{const B=(0,d.H)(I[V],A);let q=!1;B.subscribe((0,_._)(O,G=>{F[V]=G,q||(q=!0,M--),M||O.next(U(F.slice()))},()=>{--T||O.complete()}))},O)},O)}}(O,A,p?T=>(0,S.e)(p,T):D.D));return U?F.pipe((0,$.I)(U)):F}function L(I,A,U){I?(0,b.N)(U,I,A):A()}},4620(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(2240),r=a(5432),d=a(7868);E.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:P}})=>r.str`must have required property '${P}'`,params:({params:{missingProperty:P}})=>r._`{missingProperty: ${P}}`},code(P){const{gen:S,schema:_,schemaCode:b,data:W,$data:C,it:L}=P,{opts:I}=L;if(!C&&0===_.length)return;const A=_.length>=I.loopRequired;if(L.allErrors?function U(){if(A||C)P.block$data(r.nil,p);else for(const T of _)(0,u.checkReportMissingProp)(P,T)}():function O(){const T=S.let("missing");if(A||C){const M=S.let("valid",!0);P.block$data(M,()=>function F(T,M){P.setParams({missingProperty:T}),S.forOf(T,b,()=>{S.assign(M,(0,u.propertyInData)(S,W,T,I.ownProperties)),S.if((0,r.not)(M),()=>{P.error(),S.break()})},r.nil)}(T,M)),P.ok(M)}else S.if((0,u.checkMissingProp)(P,_,T)),(0,u.reportMissingProp)(P,T),S.else()}(),I.strictRequired){const T=P.parentSchema.properties,{definedProperties:M}=P.it;for(const V of _)void 0!==T?.[V]||M.has(V)||(0,d.checkStrictMode)(L,`required property "${V}" is not defined at "${L.schemaEnv.baseId+L.errSchemaPath}" (strictRequired)`,L.opts.strictRequired)}function p(){S.forOf("prop",b,T=>{P.setParams({missingProperty:T}),S.if((0,u.noPropertyInData)(S,W,T,I.ownProperties),()=>P.error())})}}}},4671(ct,E,a){"use strict";a.d(E,{$P:()=>V,$z:()=>_e,Am:()=>se,B2:()=>j,Bq:()=>et,E$:()=>He,Et:()=>O,GG:()=>Me,Gv:()=>T,Im:()=>ne,KY:()=>pe,Kg:()=>A,Lm:()=>I,QP:()=>L,Rm:()=>me,S8:()=>Ze,Tn:()=>q,UD:()=>_,Zo:()=>Ce,cy:()=>F,d8:()=>u,eC:()=>ue,gD:()=>G,gd:()=>B,h1:()=>xe,hd:()=>Te,mg:()=>nt,n4:()=>Ie,vA:()=>W,vN:()=>Q,yT:()=>ae,zy:()=>ve});class u extends Error{}const r=Symbol("missing"),d=Object.freeze(new Error("mingo: cycle detected while processing object/array")),D=k=>{const J=ce(k);let ke=0,ze=J.length;for(;ze;)ke=(ke<<5)-ke^J.charCodeAt(--ze);return ke>>>0},$=k=>"object"!=typeof k&&"function"!=typeof k||null===k,P=k=>$(k)||V(k)||B(k),S={undefined:1,null:2,number:3,string:4,symbol:5,object:6,array:7,arraybuffer:8,boolean:9,date:10,regexp:11,function:12},_=(k,J)=>{k===r&&(k=void 0),J===r&&(J=void 0);const[ke,ze]=[k,J].map(Ge=>S[L(Ge)]||0);return ke!==ze?ke-ze:Ie(k,J)?0:k<J?-1:k>J?1:0};class b extends Map{#e=D;#t=new Map;#n=J=>{const ke=this.#e(J);return[(this.#t.get(ke)||[]).find(ze=>Ie(ze,J)),ke]};constructor(){super()}static init(J){const ke=new b;return J&&(ke.#e=J),ke}clear(){super.clear(),this.#t.clear()}delete(J){if($(J))return super.delete(J);const[ke,ze]=this.#n(J);return!!super.delete(ke)&&(this.#t.set(ze,this.#t.get(ze).filter(Ge=>!Ie(Ge,ke))),!0)}get(J){if($(J))return super.get(J);const[ke,ze]=this.#n(J);return super.get(ke)}has(J){if($(J))return super.has(J);const[ke,ze]=this.#n(J);return super.has(ke)}set(J,ke){if($(J))return super.set(J,ke);const[ze,Ge]=this.#n(J);if(super.has(ze))super.set(ze,ke);else{super.set(J,ke);const Re=this.#t.get(Ge)||[];Re.push(J),this.#t.set(Ge,Re)}return this}get size(){return super.size}}function W(k,J){if(!k)throw new u(J)}const C=Object.keys(S).reduce((k,J)=>(k["[object "+J[0].toUpperCase()+J.substring(1)+"]"]=J,k),{});function L(k){const J=Object.prototype.toString.call(k);return"[object Object]"===J?k?.constructor?.name?.toLowerCase()||"object":C[J]||J.substring(8,J.length-1).toLowerCase()}const I=k=>"boolean"==typeof k,A=k=>"string"==typeof k,O=k=>!isNaN(k)&&"number"==typeof k,F=Array.isArray;function T(k){if(!k)return!1;const J=Object.getPrototypeOf(k);return(J===Object.prototype||null===J)&&"object"===L(k)}const M=k=>!$(k),V=k=>k instanceof Date,B=k=>k instanceof RegExp,q=k=>"function"==typeof k,G=k=>null==k,Q=(k,J=!0)=>!!k||J&&""===k,ne=k=>G(k)||A(k)&&!k||F(k)&&0===k.length||T(k)&&0===Object.keys(k).length,ue=k=>F(k)?k:[k],ve=(k,J)=>!!k&&Object.prototype.hasOwnProperty.call(k,J),nt=(k,J)=>{if(G(k)||I(k)||O(k)||A(k))return k;if(V(k))return new Date(k);if(B(k))return new RegExp(k);if((k=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(k))(k))return new(0,k.constructor)(k);if(J instanceof Set||(J=new Set),J.has(k))throw d;J.add(k);try{if(F(k)){const ke=new Array(k.length);for(let ze=0;ze<k.length;ze++)ke[ze]=nt(k[ze],J);return ke}if(T(k)){const ke={};for(const ze of Object.keys(k))ke[ze]=nt(k[ze],J);return ke}}finally{J.delete(k)}return k},ge=k=>k===r;function xe(k,J){if(ge(k)||G(k))return J;if(ge(J)||G(J))return k;if($(k)||$(J))return J;F(k)&&F(J)&&W(k.length===J.length,"arrays must be of equal length to merge.");for(const ke of Object.keys(J))k[ke]=xe(k[ke],J[ke]);return k}function He(k,J=D){const ke=[b.init(J),b.init(J)];if(0===k.length)return[];if(k.some(ze=>0===ze.length))return[];if(1===k.length)return[...k];k[k.length-1].forEach(ze=>ke[0].set(ze,!0));for(let ze=k.length-2;ze>-1;ze--){if(k[ze].forEach(Ge=>{ke[0].has(Ge)&&ke[1].set(Ge,!0)}),0===ke[1].size)return[];ke.reverse(),ke[1].clear()}return Array.from(ke[0].keys())}function et(k,J=1){const ke=new Array;return function ze(Ge,Re){for(let Dt=0,at=Ge.length;Dt<at;Dt++)F(Ge[Dt])&&(Re>0||Re<0)?ze(Ge[Dt],Math.max(-1,Re-1)):ke.push(Ge[Dt])}(k,J),ke}function Xe(k){for(;k;){if(Object.getOwnPropertyNames(k).includes("toString"))return k.toString!==Object.prototype.toString;k=Object.getPrototypeOf(k)}return!1}function Ie(k,J){if(k===J||Object.is(k,J))return!0;if(null===k||null===J||typeof k!=typeof J||"object"!=typeof k||k.constructor!==J.constructor)return!1;if(k instanceof Date)return+k==+J;if(k instanceof RegExp)return k.toString()===J.toString();const ke=k.constructor;if(ke===Array||ke===Object){const ze=Object.keys(k).sort(),Ge=Object.keys(J).sort();if(ze.length!==Ge.length)return!1;for(let Re=0,Dt=ze[Re];Re<ze.length;Dt=ze[++Re])if(Dt!==Ge[Re]||!Ie(k[Dt],J[Dt]))return!1;return!0}return Xe(k)&&k.toString()===J.toString()}function se(k,J=D){const ke=b.init(J);return k.forEach(ze=>ke.set(ze,!0)),Array.from(ke.keys())}const ce=(k,J)=>{if(null===k)return"null";if(void 0===k)return"undefined";if(A(k)||O(k)||I(k))return JSON.stringify(k);if(V(k))return k.toISOString();if(B(k)||(k=>"symbol"==typeof k)(k)||q(k))return k.toString();if(J instanceof Set||(J=new Set),J.has(k))throw d;try{if(J.add(k),F(k))return"["+k.map(ze=>ce(ze,J)).join(",")+"]";if(T(k))return"{"+Object.keys(k).sort().map(Ge=>`${Ge}:${ce(k[Ge],J)}`).join()+"}";const ke=Xe(k)?k.toString():ce(function Ke(k){const J={};for(;k;){for(const ke of Object.getOwnPropertyNames(k))ke in J||(J[ke]=k[ke]);k=Object.getPrototypeOf(k)}return J}(k),J);return L(k)+"("+ke+")"}finally{J.delete(k)}};function Y(k,J){return G(k)?null:(J=J||D)(k)}function _e(k,J,ke=D){if(k.length<1)return new Map;const ze=new Map,Ge=new Map;for(let Re=0;Re<k.length;Re++){const Dt=k[Re],at=J(Dt,Re),Et=Y(at,ke);if(null===Et)Ge.has(null)?Ge.get(null).push(Dt):Ge.set(null,[Dt]);else{const Vt=ze.has(Et)?ze.get(Et).find(Yt=>Ie(Yt,at)):null;G(Vt)?(Ge.set(at,[Dt]),ze.has(Et)?ze.get(Et).push(at):ze.set(Et,[at])):Ge.get(Vt).push(Dt)}}return Ge}function K(k,J){return M(k)?k[J]:void 0}function Te(k,J,ke){let ze=0;const Re=P(k)?k:function Ge(Dt,at){let Et=Dt;for(let Vt=0;Vt<at.length;Vt++){const Yt=at[Vt];if(null===/^\d+$/.exec(Yt)&&F(Et)){if(0===Vt&&ze>0)break;ze+=1;const Bt=at.slice(Vt);Et=Et.reduce((Ut,un)=>{const Lt=Ge(un,Bt);return void 0!==Lt&&Ut.push(Lt),Ut},[]);break}if(Et=K(Et,Yt),void 0===Et)break}return Et}(k,J.split("."));return F(Re)&&ke?.unwrapArray?function De(k,J){if(J<1)return k;for(;J--&&1===k.length;)k=k[0];return k}(Re,ze):Re}function me(k,J,ke){const ze=J.indexOf("."),Ge=-1==ze?J:J.substring(0,ze),Re=J.substring(ze+1),Dt=-1!=ze;if(F(k)){const Vt=/^\d+$/.test(Ge),Yt=Vt&&ke?.preserveIndex?[...k]:[];if(Vt){const ut=parseInt(Ge);let Bt=K(k,ut);Dt&&(Bt=me(Bt,Re,ke)),ke?.preserveIndex?Yt[ut]=Bt:Yt.push(Bt)}else for(const ut of k){const Bt=me(ut,J,ke);ke?.preserveMissing?Yt.push(Bt??r):(null!=Bt||ke?.preserveIndex)&&Yt.push(Bt)}return Yt}const at=ke?.preserveKeys?{...k}:{};let Et=K(k,Ge);if(Dt&&(Et=me(Et,Re,ke)),void 0!==Et)return at[Ge]=Et,at}function j(k){if(F(k))for(let J=k.length-1;J>=0;J--)k[J]===r?k.splice(J,1):j(k[J]);else if(T(k))for(const J in k)ve(k,J)&&j(k[J])}const te=/^\d+$/;function Me(k,J,ke,ze){const Ge=J.split("."),Re=Ge[0],Dt=Ge.slice(1).join(".");if(1===Ge.length)(T(k)||F(k)&&te.test(Re))&&ke(k,Re);else{ze?.buildGraph&&G(k[Re])&&(k[Re]={});const at=k[Re];if(!at)return;const Et=!!(Ge.length>1&&te.test(Ge[1]));F(at)&&ze?.descendArray&&!Et?at.forEach(Vt=>Me(Vt,Dt,ke,ze)):Me(at,Dt,ke,ze)}}function pe(k,J,ke){Me(k,J,(ze,Ge)=>{ze[Ge]=q(ke)?ke(ze[Ge]):ke},{buildGraph:!0})}function ae(k,J,ke){Me(k,J,(ze,Ge)=>{if(F(ze)){if(/^\d+$/.test(Ge))ze.splice(parseInt(Ge),1);else if(ke&&ke.descendArray)for(const Re of ze)T(Re)&&delete Re[Ge]}else T(ze)&&delete ze[Ge]},ke)}const Ne=/^\$[a-zA-Z0-9_]+$/;function Ce(k){return Ne.test(k)}function Ze(k){if(P(k))return B(k)?{$regex:k}:{$eq:k};if(M(k)){if(!Object.keys(k).some(Ce))return{$eq:k};if(ve(k,"$regex")){const J={...k};return J.$regex=new RegExp(k.$regex,k.$options),delete J.$options,J}}return k}},4740(ct,E,a){"use strict";a.d(E,{sX:()=>F,Br:()=>O,JX:()=>p,cg:()=>M});var u=a(9650),r=a(7387);function d(V){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)})(V)}var D=a(3662);function P(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!V})()}function _(V){var B="function"==typeof Map?new Map:void 0;return _=function(G){if(null===G||!function $(V){try{return-1!==Function.toString.call(V).indexOf("[native code]")}catch{return"function"==typeof V}}(G))return G;if("function"!=typeof G)throw new TypeError("Super expression must either be null or a function");if(void 0!==B){if(B.has(G))return B.get(G);B.set(G,Q)}function Q(){return function S(V,B,q){if(P())return Reflect.construct.apply(null,arguments);var G=[null];G.push.apply(G,B);var Q=new(V.bind.apply(V,G));return q&&(0,D.A)(Q,q.prototype),Q}(G,arguments,d(this).constructor)}return Q.prototype=Object.create(G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),(0,D.A)(Q,G)},_(V)}var b=a(3896);function C(V,B,q){return"\n"+V+"\n"+function W(V){var B="";return 0===Object.keys(V).length||(B+="-".repeat(20)+"\n",B+="Parameters:\n",B+=Object.keys(V).map(q=>{var G="[object Object]";try{G="errors"===q?V[q].map(Q=>JSON.stringify(Q,Object.getOwnPropertyNames(Q))):JSON.stringify(V[q],function(Q,ne){return void 0===ne?null:ne},2)}catch{}return q+": "+G}).join("\n"),B+="\n"),B}(q)}var L=function(V){function B(G,Q,ne={}){var ue,ve=C(Q,0,ne);return(ue=V.call(this,ve)||this).code=G,ue.message=ve,ue.url=A(G),ue.parameters=ne,ue.rxdb=!0,ue}return(0,r.A)(B,V),B.prototype.toString=function(){return this.message},(0,u.A)(B,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(_(Error)),I=function(V){function B(G,Q,ne={}){var ue,ve=C(Q,0,ne);return(ue=V.call(this,ve)||this).code=G,ue.message=ve,ue.url=A(G),ue.parameters=ne,ue.rxdb=!0,ue}return(0,r.A)(B,V),B.prototype.toString=function(){return this.message},(0,u.A)(B,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(_(TypeError));function A(V){return"https://rxdb.info/errors.html?console=errors#"+V}function U(V){return"\nFind out more about this error here: "+A(V)+" \n"}function O(V,B){return new L(V,b.h.tunnelErrorMessage(V)+U(V),B)}function p(V,B){return new I(V,b.h.tunnelErrorMessage(V)+U(V),B)}function F(V){return!(!V||409!==V.status)&&V}var T={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function M(V){return O("COL20",{name:T[V.status],document:V.documentId,writeError:V})}},4761(ct,E,a){"use strict";a.d(E,{l:()=>r});const r=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4812(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432);E.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:D,schemaCode:$})=>u.str`must NOT have ${"maxItems"===D?"more":"fewer"} than ${$} items`,params:({schemaCode:D})=>u._`{limit: ${D}}`},code(D){const{keyword:$,data:P,schemaCode:S}=D;D.fail$data(u._`${P}.length ${"maxItems"===$?u.operators.GT:u.operators.LT} ${S}`)}}},4843(ct,E,a){"use strict";a.d(E,{_:()=>d});var u=a(9350),r=a(7707);function d(D,$){const P="object"==typeof $;return new Promise((S,_)=>{const b=new r.Ms({next:W=>{S(W),b.unsubscribe()},error:_,complete:()=>{P?S($.defaultValue):_(new u.G)}});D.subscribe(b)})}},4908(ct,E,a){"use strict";const{isUUID:u}=a(1661),r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,d=["http","https","ws","wss","urn","urn:uuid"];function $(B){return!0===B.secure||!1!==B.secure&&!!B.scheme&&!(3!==B.scheme.length||"w"!==B.scheme[0]&&"W"!==B.scheme[0]||"s"!==B.scheme[1]&&"S"!==B.scheme[1]||"s"!==B.scheme[2]&&"S"!==B.scheme[2])}function P(B){return B.host||(B.error=B.error||"HTTP URIs must have a host."),B}function S(B){const q="https"===String(B.scheme).toLowerCase();return(B.port===(q?443:80)||""===B.port)&&(B.port=void 0),B.path||(B.path="/"),B}const A={scheme:"http",domainHost:!0,parse:P,serialize:S},O={scheme:"ws",domainHost:!0,parse:function _(B){return B.secure=$(B),B.resourceName=(B.path||"/")+(B.query?"?"+B.query:""),B.path=void 0,B.query=void 0,B},serialize:function b(B){if((B.port===($(B)?443:80)||""===B.port)&&(B.port=void 0),"boolean"==typeof B.secure&&(B.scheme=B.secure?"wss":"ws",B.secure=void 0),B.resourceName){const[q,G]=B.resourceName.split("?");B.path=q&&"/"!==q?q:void 0,B.query=G,B.resourceName=void 0}return B.fragment=void 0,B}},M={http:A,https:{scheme:"https",domainHost:A.domainHost,parse:P,serialize:S},ws:O,wss:{scheme:"wss",domainHost:O.domainHost,parse:O.parse,serialize:O.serialize},urn:{scheme:"urn",parse:function W(B,q){if(!B.path)return B.error="URN can not be parsed",B;const G=B.path.match(r);if(G){const Q=q.scheme||B.scheme||"urn";B.nid=G[1].toLowerCase(),B.nss=G[2];const ue=V(`${Q}:${q.nid||B.nid}`);B.path=void 0,ue&&(B=ue.parse(B,q))}else B.error=B.error||"URN can not be parsed.";return B},serialize:function C(B,q){if(void 0===B.nid)throw new Error("URN without nid cannot be serialized");const G=q.scheme||B.scheme||"urn",Q=B.nid.toLowerCase(),ue=V(`${G}:${q.nid||Q}`);ue&&(B=ue.serialize(B,q));const ve=B;return ve.path=`${Q||q.nid}:${B.nss}`,q.skipEscape=!0,ve},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function L(B,q){const G=B;return G.uuid=G.nss,G.nss=void 0,!q.tolerant&&(!G.uuid||!u(G.uuid))&&(G.error=G.error||"UUID is not valid."),G},serialize:function I(B){const q=B;return q.nss=(B.uuid||"").toLowerCase(),q},skipNormalize:!0}};function V(B){return B&&(M[B]||M[B.toLowerCase()])||void 0}Object.setPrototypeOf(M,null),ct.exports={wsIsSecure:$,SCHEMES:M,isValidSchemeName:function D(B){return-1!==d.indexOf(B)},getSchemeHandler:V}},5020(ct,E,a){"use strict";a.d(E,{N:()=>Yt});var u=a(467),r=a(5505);const d=Symbol.for("Dexie"),D=globalThis[d]||(globalThis[d]=r);if(r.semVer!==D.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${r.semVer} and ${D.semVer}`);var p=a(9403),F=a(6434),T=a(1744),M=a(7176),V=a(1885),B="docs",q="changes",G="attachments",Q="dexie",ne=new Map,ue=new Map;function nt(){return(nt=(0,u.A)(function*(ut){var Bt=yield ut,un=ue.get(ut)-1;0===un?(Bt.dexieDb.close(),ue.delete(ut)):ue.set(ut,un)})).apply(this,arguments)}function xe(ut){var Bt=ut.split(".");return Bt.length>1?Bt.map(un=>xe(un)).join("."):ut.startsWith("|")?"__"+ut.substring(1):ut}function He(ut){var Bt=ut.split(".");return Bt.length>1?Bt.map(un=>He(un)).join("."):ut.startsWith("__")?"|"+ut.substring(2):ut}function et(ut,Bt){if(!Bt)return Bt;var Ut=(0,F.FD)(Bt);return Ut=Xe(Ut),ut.forEach(un=>{var fn=(0,T.UU)(Bt,un)?"1":"0",On=xe(un);(0,T.oq)(Ut,On,fn)}),Ut}function Ke(ut,Bt){return Bt&&(Bt=Ie(Bt=(0,F.FD)(Bt)),ut.forEach(Ut=>{var un=(0,T.UU)(Bt,Ut);(0,T.oq)(Bt,Ut,"1"===un)}),Bt)}function Xe(ut){if(!ut||"string"==typeof ut||"number"==typeof ut||"boolean"==typeof ut)return ut;if(Array.isArray(ut))return ut.map(Ut=>Xe(Ut));if("object"==typeof ut){var Bt={};return Object.entries(ut).forEach(([Ut,un])=>{"object"==typeof un&&(un=Xe(un)),Bt[xe(Ut)]=un}),Bt}}function Ie(ut){if(!ut||"string"==typeof ut||"number"==typeof ut||"boolean"==typeof ut)return ut;if(Array.isArray(ut))return ut.map(Ut=>Ie(Ut));if("object"==typeof ut){var Bt={};return Object.entries(ut).forEach(([Ut,un])=>{("object"==typeof un||Array.isArray(ut))&&(un=Ie(un)),Bt[He(Ut)]=un}),Bt}}function se(ut){var Bt=[],Ut=(0,V.xQ)(ut.primaryKey);Bt.push([Ut]),Bt.push(["_deleted",Ut]),ut.indexes&&ut.indexes.forEach(fn=>{var On=(0,M.$r)(fn);Bt.push(On)}),Bt.push(["_meta.lwt",Ut]),Bt.push(["_meta.lwt"]);var un=(Bt=Bt.map(fn=>fn.map(On=>xe(On)))).map(fn=>1===fn.length?fn[0]:"["+fn.join("+")+"]");return(un=un.filter((fn,On,xn)=>xn.indexOf(fn)===On)).join(", ")}function ce(ut,Bt){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.A)(function*(ut,Bt){var Ut=yield ut;return(yield Ut.dexieTable.bulkGet(Bt)).map(Lt=>Ke(Ut.booleanIndexes,Lt))})).apply(this,arguments)}function _e(ut,Bt){return ut+"||"+Bt}function Le(ut){var Bt=new Set,Ut=[];return ut.indexes?(ut.indexes.forEach(un=>{(0,M.$r)(un).forEach(fn=>{Bt.has(fn)||(Bt.add(fn),"boolean"===(0,V.nT)(ut,fn).type&&Ut.push(fn))})}),Ut.push("_deleted"),(0,M.jw)(Ut)):Ut}var st=a(1413),K=a(4552),De=a(1311),Te=a(8663),me=a(997),j=a(6362);function te(ut){return ut===me.OK?-1/0:ut}function Me(ut,Bt,Ut){return ut.includes(Bt)?Ut===me.g0||!0===Ut?"1":"0":Ut}function pe(ut,Bt,Ut){if(!Ut){if(typeof window>"u")throw new Error("IDBKeyRange missing");Ut=window.IDBKeyRange}var un=Bt.startKeys.map((On,xn)=>Me(ut,Bt.index[xn],On)).map(te),Lt=Bt.endKeys.map((On,xn)=>Me(ut,Bt.index[xn],On)).map(te);return Ut.bound(un,Lt,!Bt.inclusiveStart,!Bt.inclusiveEnd)}function ae(ut,Bt){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,u.A)(function*(ut,Bt){var Ut=yield ut.internals,un=Bt.query,Lt=un.skip?un.skip:0,On=Lt+(un.limit?un.limit:1/0),xn=Bt.queryPlan,Fn=!1;xn.selectorSatisfiedByIndex||(Fn=(0,j.Lr)(ut.schema,Bt.query));var Hn=pe(Ut.booleanIndexes,xn,Ut.dexieDb._options.IDBKeyRange),Xn=xn.index,mt=[];if(yield Ut.dexieDb.transaction("r",Ut.dexieTable,function(){var rn=(0,u.A)(function*(on){var Ir,sn=on.idbtrans.objectStore(B);Ir="["+Xn.map(Er=>xe(Er)).join("+")+"]";var fr=sn.index(Ir).openCursor(Hn);yield new Promise(Er=>{fr.onsuccess=function(Tr){var Hr=Tr.target.result;if(Hr){var br=Ke(Ut.booleanIndexes,Hr.value);(!Fn||Fn(br))&&mt.push(br),xn.sortSatisfiedByIndex&&mt.length===On?Er():Hr.continue()}else Er()}})});return function(on){return rn.apply(this,arguments)}}()),!xn.sortSatisfiedByIndex){var kt=(0,j.Xw)(ut.schema,Bt.query);mt=mt.sort(kt)}return{documents:mt=mt.slice(Lt,On)}}),Ne.apply(this,arguments)}function Ze(){return Ze=(0,u.A)(function*(ut,Bt){var Ut=yield ut.internals,un=Bt.queryPlan,Lt=un.index,fn=pe(Ut.booleanIndexes,un,Ut.dexieDb._options.IDBKeyRange),On=-1;return yield Ut.dexieDb.transaction("r",Ut.dexieTable,function(){var xn=(0,u.A)(function*(Fn){var kt,Xn=Fn.idbtrans.objectStore(B);kt="["+Lt.map(on=>xe(on)).join("+")+"]";var rn=Xn.index(kt).count(fn);On=yield new Promise((on,_n)=>{rn.onsuccess=function(){on(rn.result)},rn.onerror=sn=>_n(sn)})});return function(Fn){return xn.apply(this,arguments)}}()),On}),Ze.apply(this,arguments)}var ot=a(6893),k=a(3685),J=a(4740),ke=(0,K.t)(),ze=!1,Ge=function(){function ut(Ut,un,Lt,fn,On,xn,Fn,Hn){this.changes$=new st.B,this.instanceId=ke++,this.storage=Ut,this.databaseName=un,this.collectionName=Lt,this.schema=fn,this.internals=On,this.options=xn,this.settings=Fn,this.devMode=Hn,this.primaryPath=(0,V.xQ)(this.schema.primaryKey)}var Bt=ut.prototype;return Bt.bulkWrite=function(){var Ut=(0,u.A)(function*(Lt,fn){var On=this;at(this),!ze&&!(yield(0,De._H)())&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium/?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),ze=!0,Lt.forEach(kt=>{if(!kt.document._rev||kt.previous&&!kt.previous._rev)throw(0,J.Br)("SNH",{args:{row:kt}})});var xn=yield this.internals,Fn={error:[]};this.devMode&&(Lt=Lt.map(kt=>{var rn=(0,ot.C9)(kt.document);return{previous:kt.previous,document:rn}}));var Xn,Hn=Lt.map(kt=>kt.document[this.primaryPath]);if(yield xn.dexieDb.transaction("rw",xn.dexieTable,xn.dexieAttachmentsTable,(0,u.A)(function*(){var kt=new Map;(yield ce(On.internals,Hn)).forEach(sn=>{var gn=sn;return gn&&kt.set(gn[On.primaryPath],gn),gn}),Xn=(0,ot.gi)(On,On.primaryPath,kt,Lt,fn),Fn.error=Xn.errors;var on=[];Xn.bulkInsertDocs.forEach(sn=>{on.push(sn.document)}),Xn.bulkUpdateDocs.forEach(sn=>{on.push(sn.document)}),(on=on.map(sn=>et(xn.booleanIndexes,sn))).length>0&&(yield xn.dexieTable.bulkPut(on));var _n=[];Xn.attachmentsAdd.forEach(sn=>{_n.push({id:_e(sn.documentId,sn.attachmentId),data:sn.attachmentData.data})}),Xn.attachmentsUpdate.forEach(sn=>{_n.push({id:_e(sn.documentId,sn.attachmentId),data:sn.attachmentData.data})}),yield xn.dexieAttachmentsTable.bulkPut(_n),yield xn.dexieAttachmentsTable.bulkDelete(Xn.attachmentsRemove.map(sn=>_e(sn.documentId,sn.attachmentId)))})),(Xn=(0,Te.ZN)(Xn)).eventBulk.events.length>0){var mt=(0,Te.ZN)(Xn.newestRow).document;Xn.eventBulk.checkpoint={id:mt[this.primaryPath],lwt:mt._meta.lwt},this.changes$.next(Xn.eventBulk)}return Fn});return function un(Lt,fn){return Ut.apply(this,arguments)}}(),Bt.findDocumentsById=function(){var Ut=(0,u.A)(function*(Lt,fn){var On=this;at(this);var xn=yield this.internals,Fn=[];return yield xn.dexieDb.transaction("r",xn.dexieTable,(0,u.A)(function*(){(yield ce(On.internals,Lt)).forEach(Xn=>{Xn&&(!Xn._deleted||fn)&&Fn.push(Xn)})})),Fn});return function un(Lt,fn){return Ut.apply(this,arguments)}}(),Bt.query=function(un){return at(this),ae(this,un)},Bt.count=function(){var Ut=(0,u.A)(function*(Lt){if(Lt.queryPlan.selectorSatisfiedByIndex){var fn=yield function Ce(ut,Bt){return Ze.apply(this,arguments)}(this,Lt);return{count:fn,mode:"fast"}}return{count:(yield ae(this,Lt)).documents.length,mode:"slow"}});return function un(Lt){return Ut.apply(this,arguments)}}(),Bt.changeStream=function(){return at(this),this.changes$.asObservable()},Bt.cleanup=function(){var Ut=(0,u.A)(function*(Lt){var fn=this;at(this);var On=yield this.internals;return yield On.dexieDb.transaction("rw",On.dexieTable,(0,u.A)(function*(){var xn=(0,K.t)()-Lt,Fn=yield On.dexieTable.where("_meta.lwt").below(xn).toArray(),Hn=[];Fn.forEach(Xn=>{"1"===Xn._deleted&&Hn.push(Xn[fn.primaryPath])}),yield On.dexieTable.bulkDelete(Hn)})),!0});return function un(Lt){return Ut.apply(this,arguments)}}(),Bt.getAttachmentData=function(){var Ut=(0,u.A)(function*(Lt,fn,On){at(this);var xn=yield this.internals,Fn=_e(Lt,fn);return yield xn.dexieDb.transaction("r",xn.dexieAttachmentsTable,(0,u.A)(function*(){var Hn=yield xn.dexieAttachmentsTable.get(Fn);if(Hn)return Hn.data;throw new Error("attachment missing documentId: "+Lt+" attachmentId: "+fn)}))});return function un(Lt,fn,On){return Ut.apply(this,arguments)}}(),Bt.remove=function(){var Ut=(0,u.A)(function*(){at(this);var Lt=yield this.internals;return yield Lt.dexieTable.clear(),this.close()});return function un(){return Ut.apply(this,arguments)}}(),Bt.close=function(){var un=this;return this.closed||(this.closed=(0,u.A)(function*(){un.changes$.complete(),yield function Oe(ut){return nt.apply(this,arguments)}(un.internals)})()),this.closed},ut}();function Dt(){return(Dt=(0,u.A)(function*(ut,Bt,Ut){var un=function ve(ut,Bt,Ut,un){var Lt="rxdb-dexie-"+ut+"--"+un.version+"--"+Bt,fn=(0,p.q)(ne,Lt,()=>{var On=(0,u.A)(function*(){var xn=(0,F.FD)(Ut);xn.autoOpen=!1;var Fn=new D(Lt,xn);Ut.onCreate&&(yield Ut.onCreate(Fn,Lt));var Hn={[B]:se(un),[q]:"++sequence, id",[G]:"id"};return Fn.version(1).stores(Hn),yield Fn.open(),{dexieDb:Fn,dexieTable:Fn[B],dexieAttachmentsTable:Fn[G],booleanIndexes:Le(un)}})();return ne.set(Lt,fn),ue.set(fn,0),On});return fn}(Bt.databaseName,Bt.collectionName,Ut,Bt.schema),Lt=new Ge(ut,Bt.databaseName,Bt.collectionName,Bt.schema,un,Bt.options,Ut,Bt.devMode);return yield(0,k.G5)(Q,Bt,Lt),Promise.resolve(Lt)})).apply(this,arguments)}function at(ut){if(ut.closed)throw new Error("RxStorageInstanceDexie is closed "+ut.databaseName+"-"+ut.collectionName)}var Et=a(6052),Vt=function(){function ut(Ut){this.name=Q,this.rxdbVersion=Et.o,this.settings=Ut}return ut.prototype.createStorageInstance=function(un){return(0,ot.pZ)(un),un.schema.indexes&&un.schema.indexes.flat().filter(fn=>!fn.includes(".")).forEach(fn=>{if(!un.schema.required||!un.schema.required.includes(fn))throw(0,J.Br)("DXE1",{field:fn,schema:un.schema})}),function Re(ut,Bt,Ut){return Dt.apply(this,arguments)}(this,un,this.settings)},ut}();function Yt(ut={}){return new Vt(ut)}},5055(ct,E,a){"use strict";a.d(E,{l:()=>d});var u=a(3494),r=a(8071);function d(D){return(0,r.T)(D[u.s])}},5190(ct,E,a){"use strict";a.d(E,{fg:()=>Ne});var u={};a.r(u),a.d(u,{$all:()=>b.Gd,$and:()=>T.a6,$bitsAllClear:()=>L,$bitsAllSet:()=>I,$bitsAnyClear:()=>A,$bitsAnySet:()=>U,$elemMatch:()=>b.Jy,$eq:()=>O.XV,$exists:()=>p.P,$expr:()=>F.UF,$gt:()=>O.MR,$gte:()=>O.fy,$in:()=>O.oZ,$jsonSchema:()=>F.Mi,$lt:()=>O.NV,$lte:()=>O.Q_,$mod:()=>F.Pp,$ne:()=>O.C5,$nin:()=>O.GU,$nor:()=>T.q3,$not:()=>T.En,$or:()=>T.sU,$regex:()=>F.WP,$size:()=>b.Ig,$type:()=>p.T,$where:()=>F.ex});var r={};a.r(r),a.d(r,{$addToSet:()=>ue,$bit:()=>Oe,$currentDate:()=>nt,$inc:()=>ge,$max:()=>xe,$min:()=>He,$mul:()=>et,$pop:()=>Ke,$pull:()=>Xe,$pullAll:()=>Ie,$push:()=>ce,$rename:()=>_e,$set:()=>Y,$unset:()=>Le});var d=a(467),D=a(6362),$=a(4671),P=a(7624),S=a(3336),_=a(2489),b=a(738),W=a(570);const C=Ce=>(0,W.jm)((Ze,ot,k)=>{let J=0;if((0,$.cy)(ot))for(const ke of ot)J|=1<<ke;else J=ot;return Ce(Ze&J,J)}),L=C((Ce,Ze)=>0==Ce),I=C((Ce,Ze)=>Ce==Ze),A=C((Ce,Ze)=>Ce<Ze),U=C((Ce,Ze)=>Ce>0);var O=a(131),p=a(8982),F=a(8542),T=a(6161),M=a(9820);const V={cloneMode:"copy",queryOptions:(0,P.B3)({context:P.ob.init().addQueryOps(u).addExpressionOps(S).addExpressionOps(_)})},B=(Ce,Ze)=>{switch(Ce){case"deep":return(0,$.mg)(Ze);case"copy":return(0,$.$P)(Ze)?new Date(Ze):(0,$.cy)(Ze)?[...Ze]:(0,$.Gv)(Ze)?{...Ze}:(0,$.gd)(Ze)?new RegExp(Ze):Ze;default:return Ze}},q=/^[a-z]+[a-zA-Z0-9]*$/;function G(Ce){if(!Ce.includes(".$"))return[{parent:Ce,selector:Ce},[]];const Ze=Ce.indexOf(".$"),ot=Ce.indexOf("]"),k=Ce.substring(0,Ze),J=Ce.substring(Ze+3,ot);(0,$.vA)(""===J||q.test(J),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");const ke=Ce.substring(ot+2),[ze,Ge]=ke?G(ke):[];return[{selector:Ce,parent:k,child:J||"$",next:ze},[J,...Ge||[]].filter(Boolean)]}const Q=(Ce,Ze,ot,k,J)=>{const{parent:ke,child:ze,next:Ge}=Ze;if(!ze){let Dt=!1;return(0,$.GG)(Ce,ke,(Et,Vt)=>Dt=!!k(Et,Vt)||Dt,J),Dt}const Re=(0,$.hd)(Ce,ke);return!!(0,$.cy)(Re)&&Re.map((Dt,at)=>!(ot[ze]&&!ot[ze].test({[ze]:Dt}))&&(Ge?Q(Dt,Ge,ot,k,J):k(Re,at))).some(Boolean)};function ne(Ce,Ze,ot,k){const J=[];for(const[ke,ze]of Object.entries(Ce)){const[Ge,Re]=G(ke);if(Re.length){const Dt={};Ze.forEach(Et=>{Object.keys(Et).forEach(Vt=>{Re.forEach(Yt=>{(Vt===Yt||Vt.startsWith(Yt+"."))&&(Dt[Yt]=Dt[Yt]||{},Object.assign(Dt[Yt],{[Vt]:Et[Vt]}))})})});const at={};for(const[Et,Vt]of Object.entries(Dt))at[Et]=new M.X(Vt,ot.queryOptions);k(ze,Ge,at)&&J.push(Ge.parent)}else k(ze,Ge,{})&&J.push(Ge.parent)}return J}const ue=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>{const Ge={$each:[J]};return(0,$.Gv)(J)&&(0,$.zy)(J,"$each")&&Object.assign(Ge,J),Q(Ce,ke,ze,(Re,Dt)=>{const at=Re[Dt]||=[];return(0,$.E$)([at,Ge.$each]).length!==Ge.$each.length&&(Re[Dt]=B(k.cloneMode,(0,$.Am)(at.concat(Ge.$each))),!0)},{buildGraph:!0})}),ve=new Set(["and","or","xor"]),Oe=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>{const Ge=Object.keys(J);return(0,$.vA)(1===Ge.length&&ve.has(Ge[0]),`Invalid bit operator '${Ge[0]}'. Must be one of 'and', 'or', or 'xor'.`),Q(Ce,ke,ze,(Re,Dt)=>{let at=Re[Dt];const Et=J[Ge[0]];if(!(void 0===at||(0,$.Et)(at)&&(0,$.Et)(Et)))return!1;switch(at=at||0,Ge[0]){case"and":Re[Dt]=at&Et;break;case"or":Re[Dt]=at|Et;break;case"xor":Re[Dt]=at^Et}return Re[Dt]!==at},{buildGraph:!0})}),nt=(Ce,Ze,ot=[],k=V)=>{const J=Date.now();return ne(Ze,ot,k,(ke,ze,Ge)=>Q(Ce,ze,Ge,(Re,Dt)=>(Re[Dt]=J,!0),{buildGraph:!0}))},ge=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>{if(!ke.child){const Ge=(0,$.hd)(Ce,ke.parent);(0,$.vA)(void 0===Ge||(0,$.Et)(Ge),"cannot apply $inc to a value of non-numeric type")}return Q(Ce,ke,ze,(Ge,Re)=>(Ge[Re]=(Ge[Re]||=0)+J,!0),{buildGraph:!0})}),xe=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>Q(Ce,ke,ze,(Ge,Re)=>!(void 0!==Ge[Re]&&(0,$.UD)(Ge[Re],J)>-1||(Ge[Re]=J,0)),{buildGraph:!0})),He=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>Q(Ce,ke,ze,(Ge,Re)=>!(void 0!==Ge[Re]&&(0,$.UD)(Ge[Re],J)<1||(Ge[Re]=J,0)),{buildGraph:!0})),et=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>Q(Ce,ke,ze,(Ge,Re)=>{const Dt=Ge[Re];return Ge[Re]=void 0===Ge[Re]?0:Ge[Re]*J,Ge[Re]!==Dt},{buildGraph:!0})),Ke=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>Q(Ce,ke,ze,(Ge,Re)=>{const Dt=Ge[Re];return(0,$.vA)((0,$.cy)(Dt),`path '${ke.selector}' contains an element of non-array type.`),!!Dt.length&&(-1===J?Dt.splice(0,1):Dt.pop(),!0)})),Xe=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>{const Ge=!(0,$.Gv)(J)||Object.keys(J).some($.Zo),Re=new M.X(Ge?{k:J}:J,k.queryOptions),Dt=Ge?at=>Re.test({k:at}):at=>Re.test(at);return Q(Ce,ke,ze,(at,Et)=>{const Vt=at[Et],Yt=new Array;return!!Vt.map(Bt=>{const Ut=Dt(Bt);return Ut||Yt.push(Bt),Ut}).some(Boolean)&&(at[Et]=Yt,!0)})}),Ie=(Ce,Ze,ot=[],k=V)=>{const J={};return Object.entries(Ze).forEach(([ke,ze])=>{J[ke]={$in:ze}}),Xe(Ce,J,ot,k)},se=Object.freeze(["$each","$slice","$sort","$position"]),ce=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>{const Ge={$each:[J]};return(0,$.Gv)(J)&&se.some(Re=>(0,$.zy)(J,Re))&&Object.assign(Ge,J),Q(Ce,ke,ze,(Re,Dt)=>{const at=Re[Dt]||=[],Et=at.slice(0,Ge.$slice||at.length),Vt=at.length,Yt=(0,$.Et)(Ge.$position)?Ge.$position:at.length;if(at.splice(Yt,0,...B(k.cloneMode,Ge.$each)),Ge.$sort){const ut=(0,$.Gv)(Ge.$sort)?Object.keys(Ge.$sort||{}).pop():"",Bt=ut?Ge.$sort[ut]:Ge.$sort,Ut=ut?un=>(0,$.hd)(un,ut):un=>un;at.sort((un,Lt)=>Bt*(0,$.UD)(Ut(un),Ut(Lt)))}return(0,$.Et)(Ge.$slice)&&(Ge.$slice<0?at.splice(0,at.length+Ge.$slice):at.splice(Ge.$slice)),Vt!=at.length||!(0,$.n4)(Et,at)},{descendArray:!0,buildGraph:!0})}),Y=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>Q(Ce,ke,ze,(Ge,Re)=>!(0,$.n4)(Ge[Re],J)&&(Ge[Re]=B(k.cloneMode,J),!0),{buildGraph:!0})),_e=(Ce,Ze,ot=[],k=V)=>{const J=[],ke=ne(Ze,ot,k,(ze,Ge,Re)=>Q(Ce,Ge,Re,(Dt,at)=>!!(0,$.zy)(Dt,at)&&(J.push(...Y(Ce,{[ze]:Dt[at]},ot,k)),delete Dt[at],!0)));return Array.from(new Set(ke.concat(J)))},Le=(Ce,Ze,ot=[],k=V)=>ne(Ze,ot,k,(J,ke,ze)=>Q(Ce,ke,ze,(Ge,Re)=>!!(0,$.zy)(Ge,Re)&&((0,$.cy)(Ge)?Ge[Re]=null:delete Ge[Re],!0)));function st(Ce){return Ce=Ce??V,(Ze,ot,k=[],J={},ke=Ce)=>{const ze=Object.entries(ot);(0,$.vA)(1===ze.length,"Update expression must contain only one operator.");const[Ge,Re]=ze[0];(0,$.vA)((0,$.zy)(r,Ge),`Update operator '${Ge}' is not supported.`);const Dt=r[Ge];return Object.keys(J).length&&!new M.X(J,ke.queryOptions).test(Ze)?[]:Dt(Ze,Re,k,ke)}}st();var me,Te=a(6434);function j(Ce,Ze){if(!me){var ot=st({cloneMode:"none"});me=(k,J)=>{var ke=(0,Te.o8)(k);return ot(ke,J),ke}}return me(Ce,Ze)}function te(Ce){return this.incrementalModify(Ze=>j(Ze,Ce))}function Me(Ce){var Ze=this._data,ot=j(Ze,Ce);return this._saveData(ot,Ze)}function pe(Ce){return ae.apply(this,arguments)}function ae(){return(ae=(0,d.A)(function*(Ce){return(0,D.dx)(this.asRxQuery,Ze=>Ze.update(Ce))})).apply(this,arguments)}var Ne={name:"update",rxdb:!0,prototypes:{RxDocument:Ce=>{Ce.update=Me,Ce.incrementalUpdate=te},RxQuery:Ce=>{Ce.update=pe}}}},5196(ct,E,a){"use strict";a.d(E,{C:()=>d,U:()=>D});var u=a(1635),r=a(8071);function d($){return(0,u.AQ)(this,arguments,function*(){const S=$.getReader();try{for(;;){const{value:_,done:b}=yield(0,u.N3)(S.read());if(b)return yield(0,u.N3)(void 0);yield yield(0,u.N3)(_)}}finally{S.releaseLock()}})}function D($){return(0,r.T)($?.getReader)}},5225(ct,E,a){"use strict";function u(r,d,D,$=0,P=!1){const S=d.schedule(function(){D(),P?r.add(this.schedule(null,$)):this.unsubscribe()},$);if(r.add(S),!P)return S}a.d(E,{N:()=>u})},5297(ct,E,a){"use strict";a.d(E,{Cp:()=>d,FS:()=>$,Gn:()=>S,S1:()=>D,bd:()=>P});var u=a(6434),r=a(1885),d=_=>Promise.resolve(_);function D(_,b){return"_deleted"===_||((b=(0,u.FD)(b))[_]=!!b._deleted,delete b._deleted),b}function $(_,b,W){return W.map(C=>{var L=(0,u.FD)(C);return"_deleted"!==b?(L._deleted=!!L[b],delete L[b]):L._deleted=!!L._deleted,L[_.schema.primaryPath]=(0,r.U)(_.schema.jsonSchema,L),L})}function P(_,b){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return _.promiseWait(b);var W,C=new Promise(L=>{W=()=>{window.removeEventListener("online",W),L()},window.addEventListener("online",W)});return Promise.race([C,_.promiseWait(b)]).then(()=>{window.removeEventListener("online",W)})}function S(_){var W=setInterval(function b(){if(!(typeof document>"u"||"function"!=typeof document.dispatchEvent)){var C=new Event("mousemove");document.dispatchEvent(C)}},2e4);_.onCancel.push(()=>clearInterval(W))}},5309(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const r=[a(8361).default];E.default=r},5334(ct,E,a){"use strict";a.d(E,{m:()=>d});var u=a(1026),r=a(9270);function d(D){r.f.setTimeout(()=>{const{onUnhandledError:$}=u.$;if(!$)throw D;$(D)})}},5343(ct,E,a){"use strict";function u(){}a.d(E,{l:()=>u})},5397(ct,E,a){"use strict";a.d(E,{x:()=>d});var u=a(4761),r=a(8071);function d(D){return(0,r.T)(D?.[u.l])}},5432(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.or=E.and=E.not=E.CodeGen=E.operators=E.varKinds=E.ValueScopeName=E.ValueScope=E.Scope=E.Name=E.regexpCode=E.stringify=E.getProperty=E.nil=E.strConcat=E.str=E._=void 0;const u=a(3467),r=a(240);var d=a(3467);Object.defineProperty(E,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(E,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(E,"strConcat",{enumerable:!0,get:function(){return d.strConcat}}),Object.defineProperty(E,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(E,"getProperty",{enumerable:!0,get:function(){return d.getProperty}}),Object.defineProperty(E,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(E,"regexpCode",{enumerable:!0,get:function(){return d.regexpCode}}),Object.defineProperty(E,"Name",{enumerable:!0,get:function(){return d.Name}});var D=a(240);Object.defineProperty(E,"Scope",{enumerable:!0,get:function(){return D.Scope}}),Object.defineProperty(E,"ValueScope",{enumerable:!0,get:function(){return D.ValueScope}}),Object.defineProperty(E,"ValueScopeName",{enumerable:!0,get:function(){return D.ValueScopeName}}),Object.defineProperty(E,"varKinds",{enumerable:!0,get:function(){return D.varKinds}}),E.operators={GT:new u._Code(">"),GTE:new u._Code(">="),LT:new u._Code("<"),LTE:new u._Code("<="),EQ:new u._Code("==="),NEQ:new u._Code("!=="),NOT:new u._Code("!"),OR:new u._Code("||"),AND:new u._Code("&&"),ADD:new u._Code("+")};class ${optimizeNodes(){return this}optimizeNames(Y,_e){return this}}class P extends ${constructor(Y,_e,Le){super(),this.varKind=Y,this.name=_e,this.rhs=Le}render({es5:Y,_n:_e}){return`${Y?r.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+_e}optimizeNames(Y,_e){if(Y[this.name.str])return this.rhs&&(this.rhs=nt(this.rhs,Y,_e)),this}get names(){return this.rhs instanceof u._CodeOrName?this.rhs.names:{}}}class S extends ${constructor(Y,_e,Le){super(),this.lhs=Y,this.rhs=_e,this.sideEffects=Le}render({_n:Y}){return`${this.lhs} = ${this.rhs};`+Y}optimizeNames(Y,_e){if(!(this.lhs instanceof u.Name)||Y[this.lhs.str]||this.sideEffects)return this.rhs=nt(this.rhs,Y,_e),this}get names(){return Oe(this.lhs instanceof u.Name?{}:{...this.lhs.names},this.rhs)}}class _ extends S{constructor(Y,_e,Le,st){super(Y,Le,st),this.op=_e}render({_n:Y}){return`${this.lhs} ${this.op}= ${this.rhs};`+Y}}class b extends ${constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`${this.label}:`+Y}}class W extends ${constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`break${this.label?` ${this.label}`:""};`+Y}}class C extends ${constructor(Y){super(),this.error=Y}render({_n:Y}){return`throw ${this.error};`+Y}get names(){return this.error.names}}class L extends ${constructor(Y){super(),this.code=Y}render({_n:Y}){return`${this.code};`+Y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Y,_e){return this.code=nt(this.code,Y,_e),this}get names(){return this.code instanceof u._CodeOrName?this.code.names:{}}}class I extends ${constructor(Y=[]){super(),this.nodes=Y}render(Y){return this.nodes.reduce((_e,Le)=>_e+Le.render(Y),"")}optimizeNodes(){const{nodes:Y}=this;let _e=Y.length;for(;_e--;){const Le=Y[_e].optimizeNodes();Array.isArray(Le)?Y.splice(_e,1,...Le):Le?Y[_e]=Le:Y.splice(_e,1)}return Y.length>0?this:void 0}optimizeNames(Y,_e){const{nodes:Le}=this;let st=Le.length;for(;st--;){const K=Le[st];K.optimizeNames(Y,_e)||(ge(Y,K.names),Le.splice(st,1))}return Le.length>0?this:void 0}get names(){return this.nodes.reduce((Y,_e)=>ve(Y,_e.names),{})}}class A extends I{render(Y){return"{"+Y._n+super.render(Y)+"}"+Y._n}}class U extends I{}let O=(()=>{class ce extends A{}return ce.kind="else",ce})(),p=(()=>{class ce extends A{constructor(_e,Le){super(Le),this.condition=_e}render(_e){let Le=`if(${this.condition})`+super.render(_e);return this.else&&(Le+="else "+this.else.render(_e)),Le}optimizeNodes(){super.optimizeNodes();const _e=this.condition;if(!0===_e)return this.nodes;let Le=this.else;if(Le){const st=Le.optimizeNodes();Le=this.else=Array.isArray(st)?new O(st):st}return Le?!1===_e?Le instanceof ce?Le:Le.nodes:this.nodes.length?this:new ce(xe(_e),Le instanceof ce?[Le]:Le.nodes):!1!==_e&&this.nodes.length?this:void 0}optimizeNames(_e,Le){var st;if(this.else=null===(st=this.else)||void 0===st?void 0:st.optimizeNames(_e,Le),super.optimizeNames(_e,Le)||this.else)return this.condition=nt(this.condition,_e,Le),this}get names(){const _e=super.names;return Oe(_e,this.condition),this.else&&ve(_e,this.else.names),_e}}return ce.kind="if",ce})(),F=(()=>{class ce extends A{}return ce.kind="for",ce})();class T extends F{constructor(Y){super(),this.iteration=Y}render(Y){return`for(${this.iteration})`+super.render(Y)}optimizeNames(Y,_e){if(super.optimizeNames(Y,_e))return this.iteration=nt(this.iteration,Y,_e),this}get names(){return ve(super.names,this.iteration.names)}}class M extends F{constructor(Y,_e,Le,st){super(),this.varKind=Y,this.name=_e,this.from=Le,this.to=st}render(Y){const _e=Y.es5?r.varKinds.var:this.varKind,{name:Le,from:st,to:K}=this;return`for(${_e} ${Le}=${st}; ${Le}<${K}; ${Le}++)`+super.render(Y)}get names(){const Y=Oe(super.names,this.from);return Oe(Y,this.to)}}class V extends F{constructor(Y,_e,Le,st){super(),this.loop=Y,this.varKind=_e,this.name=Le,this.iterable=st}render(Y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Y)}optimizeNames(Y,_e){if(super.optimizeNames(Y,_e))return this.iterable=nt(this.iterable,Y,_e),this}get names(){return ve(super.names,this.iterable.names)}}let B=(()=>{class ce extends A{constructor(_e,Le,st){super(),this.name=_e,this.args=Le,this.async=st}render(_e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(_e)}}return ce.kind="func",ce})(),q=(()=>{class ce extends I{render(_e){return"return "+super.render(_e)}}return ce.kind="return",ce})();class G extends A{render(Y){let _e="try"+super.render(Y);return this.catch&&(_e+=this.catch.render(Y)),this.finally&&(_e+=this.finally.render(Y)),_e}optimizeNodes(){var Y,_e;return super.optimizeNodes(),null===(Y=this.catch)||void 0===Y||Y.optimizeNodes(),null===(_e=this.finally)||void 0===_e||_e.optimizeNodes(),this}optimizeNames(Y,_e){var Le,st;return super.optimizeNames(Y,_e),null===(Le=this.catch)||void 0===Le||Le.optimizeNames(Y,_e),null===(st=this.finally)||void 0===st||st.optimizeNames(Y,_e),this}get names(){const Y=super.names;return this.catch&&ve(Y,this.catch.names),this.finally&&ve(Y,this.finally.names),Y}}let Q=(()=>{class ce extends A{constructor(_e){super(),this.error=_e}render(_e){return`catch(${this.error})`+super.render(_e)}}return ce.kind="catch",ce})(),ne=(()=>{class ce extends A{render(_e){return"finally"+super.render(_e)}}return ce.kind="finally",ce})();function ve(ce,Y){for(const _e in Y)ce[_e]=(ce[_e]||0)+(Y[_e]||0);return ce}function Oe(ce,Y){return Y instanceof u._CodeOrName?ve(ce,Y.names):ce}function nt(ce,Y,_e){return ce instanceof u.Name?Le(ce):function st(K){return K instanceof u._Code&&K._items.some(De=>De instanceof u.Name&&1===Y[De.str]&&void 0!==_e[De.str])}(ce)?new u._Code(ce._items.reduce((K,De)=>(De instanceof u.Name&&(De=Le(De)),De instanceof u._Code?K.push(...De._items):K.push(De),K),[])):ce;function Le(K){const De=_e[K.str];return void 0===De||1!==Y[K.str]?K:(delete Y[K.str],De)}}function ge(ce,Y){for(const _e in Y)ce[_e]=(ce[_e]||0)-(Y[_e]||0)}function xe(ce){return"boolean"==typeof ce||"number"==typeof ce||null===ce?!ce:u._`!${se(ce)}`}E.CodeGen=class ue{constructor(Y,_e={}){this._values={},this._blockStarts=[],this._constants={},this.opts={..._e,_n:_e.lines?"\n":""},this._extScope=Y,this._scope=new r.Scope({parent:Y}),this._nodes=[new U]}toString(){return this._root.render(this.opts)}name(Y){return this._scope.name(Y)}scopeName(Y){return this._extScope.name(Y)}scopeValue(Y,_e){const Le=this._extScope.value(Y,_e);return(this._values[Le.prefix]||(this._values[Le.prefix]=new Set)).add(Le),Le}getScopeValue(Y,_e){return this._extScope.getValue(Y,_e)}scopeRefs(Y){return this._extScope.scopeRefs(Y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Y,_e,Le,st){const K=this._scope.toName(_e);return void 0!==Le&&st&&(this._constants[K.str]=Le),this._leafNode(new P(Y,K,Le)),K}const(Y,_e,Le){return this._def(r.varKinds.const,Y,_e,Le)}let(Y,_e,Le){return this._def(r.varKinds.let,Y,_e,Le)}var(Y,_e,Le){return this._def(r.varKinds.var,Y,_e,Le)}assign(Y,_e,Le){return this._leafNode(new S(Y,_e,Le))}add(Y,_e){return this._leafNode(new _(Y,E.operators.ADD,_e))}code(Y){return"function"==typeof Y?Y():Y!==u.nil&&this._leafNode(new L(Y)),this}object(...Y){const _e=["{"];for(const[Le,st]of Y)_e.length>1&&_e.push(","),_e.push(Le),(Le!==st||this.opts.es5)&&(_e.push(":"),(0,u.addCodeArg)(_e,st));return _e.push("}"),new u._Code(_e)}if(Y,_e,Le){if(this._blockNode(new p(Y)),_e&&Le)this.code(_e).else().code(Le).endIf();else if(_e)this.code(_e).endIf();else if(Le)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Y){return this._elseNode(new p(Y))}else(){return this._elseNode(new O)}endIf(){return this._endBlockNode(p,O)}_for(Y,_e){return this._blockNode(Y),_e&&this.code(_e).endFor(),this}for(Y,_e){return this._for(new T(Y),_e)}forRange(Y,_e,Le,st,K=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const De=this._scope.toName(Y);return this._for(new M(K,De,_e,Le),()=>st(De))}forOf(Y,_e,Le,st=r.varKinds.const){const K=this._scope.toName(Y);if(this.opts.es5){const De=_e instanceof u.Name?_e:this.var("_arr",_e);return this.forRange("_i",0,u._`${De}.length`,Te=>{this.var(K,u._`${De}[${Te}]`),Le(K)})}return this._for(new V("of",st,K,_e),()=>Le(K))}forIn(Y,_e,Le,st=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(Y,u._`Object.keys(${_e})`,Le);const K=this._scope.toName(Y);return this._for(new V("in",st,K,_e),()=>Le(K))}endFor(){return this._endBlockNode(F)}label(Y){return this._leafNode(new b(Y))}break(Y){return this._leafNode(new W(Y))}return(Y){const _e=new q;if(this._blockNode(_e),this.code(Y),1!==_e.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(q)}try(Y,_e,Le){if(!_e&&!Le)throw new Error('CodeGen: "try" without "catch" and "finally"');const st=new G;if(this._blockNode(st),this.code(Y),_e){const K=this.name("e");this._currNode=st.catch=new Q(K),_e(K)}return Le&&(this._currNode=st.finally=new ne,this.code(Le)),this._endBlockNode(Q,ne)}throw(Y){return this._leafNode(new C(Y))}block(Y,_e){return this._blockStarts.push(this._nodes.length),Y&&this.code(Y).endBlock(_e),this}endBlock(Y){const _e=this._blockStarts.pop();if(void 0===_e)throw new Error("CodeGen: not in self-balancing block");const Le=this._nodes.length-_e;if(Le<0||void 0!==Y&&Le!==Y)throw new Error(`CodeGen: wrong number of nodes: ${Le} vs ${Y} expected`);return this._nodes.length=_e,this}func(Y,_e=u.nil,Le,st){return this._blockNode(new B(Y,_e,Le)),st&&this.code(st).endFunc(),this}endFunc(){return this._endBlockNode(B)}optimize(Y=1){for(;Y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Y){return this._currNode.nodes.push(Y),this}_blockNode(Y){this._currNode.nodes.push(Y),this._nodes.push(Y)}_endBlockNode(Y,_e){const Le=this._currNode;if(Le instanceof Y||_e&&Le instanceof _e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${_e?`${Y.kind}/${_e.kind}`:Y.kind}"`)}_elseNode(Y){const _e=this._currNode;if(!(_e instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=_e.else=Y,this}get _root(){return this._nodes[0]}get _currNode(){const Y=this._nodes;return Y[Y.length-1]}set _currNode(Y){const _e=this._nodes;_e[_e.length-1]=Y}},E.not=xe;const He=Ie(E.operators.AND);E.and=function et(...ce){return ce.reduce(He)};const Ke=Ie(E.operators.OR);function Ie(ce){return(Y,_e)=>Y===u.nil?_e:_e===u.nil?Y:u._`${se(Y)} ${ce} ${se(_e)}`}function se(ce){return ce instanceof u.Name?ce:u._`(${ce})`}E.or=function Xe(...ce){return ce.reduce(Ke)}},5505(ct){ct.exports=function(){"use strict";var E=function(l,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,oe){H.__proto__=oe}||function(H,oe){for(var Ee in oe)Object.prototype.hasOwnProperty.call(oe,Ee)&&(H[Ee]=oe[Ee])})(l,h)},a=function(){return(a=Object.assign||function(l){for(var h,H=1,oe=arguments.length;H<oe;H++)for(var Ee in h=arguments[H])Object.prototype.hasOwnProperty.call(h,Ee)&&(l[Ee]=h[Ee]);return l}).apply(this,arguments)};function u(l,h,H){if(H||2===arguments.length)for(var oe,Ee=0,Be=h.length;Ee<Be;Ee++)!oe&&Ee in h||((oe=oe||Array.prototype.slice.call(h,0,Ee))[Ee]=h[Ee]);return l.concat(oe||Array.prototype.slice.call(h))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,d=Object.keys,D=Array.isArray;function $(l,h){return"object"!=typeof h||d(h).forEach(function(H){l[H]=h[H]}),l}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var P=Object.getPrototypeOf,S={}.hasOwnProperty;function _(l,h){return S.call(l,h)}function b(l,h){"function"==typeof h&&(h=h(P(l))),(typeof Reflect>"u"?d:Reflect.ownKeys)(h).forEach(function(H){C(l,H,h[H])})}var W=Object.defineProperty;function C(l,h,H,oe){W(l,h,$(H&&_(H,"get")&&"function"==typeof H.get?{get:H.get,set:H.set,configurable:!0}:{value:H,configurable:!0,writable:!0},oe))}function L(l){return{from:function(h){return l.prototype=Object.create(h.prototype),C(l.prototype,"constructor",l),{extend:b.bind(null,l.prototype)}}}}var I=Object.getOwnPropertyDescriptor,A=[].slice;function U(l,h,H){return A.call(l,h,H)}function O(l,h){return h(l)}function p(l){if(!l)throw new Error("Assertion Failed")}function F(l){r.setImmediate?setImmediate(l):setTimeout(l,0)}function T(l,h){if("string"==typeof h&&_(l,h))return l[h];if(!h)return l;if("string"!=typeof h){for(var H=[],oe=0,Ee=h.length;oe<Ee;++oe){var Be=T(l,h[oe]);H.push(Be)}return H}var tt=h.indexOf(".");if(-1!==tt){var ht=l[h.substr(0,tt)];return null==ht?void 0:T(ht,h.substr(tt+1))}}function M(l,h,H){if(l&&void 0!==h&&(!("isFrozen"in Object)||!Object.isFrozen(l)))if("string"!=typeof h&&"length"in h){p("string"!=typeof H&&"length"in H);for(var oe=0,Ee=h.length;oe<Ee;++oe)M(l,h[oe],H[oe])}else{var Be,tt,ht=h.indexOf(".");-1!==ht?(Be=h.substr(0,ht),""===(tt=h.substr(ht+1))?void 0===H?D(l)&&!isNaN(parseInt(Be))?l.splice(Be,1):delete l[Be]:l[Be]=H:M(ht=(ht=l[Be])&&_(l,Be)?ht:l[Be]={},tt,H)):void 0===H?D(l)&&!isNaN(parseInt(h))?l.splice(h,1):delete l[h]:l[h]=H}}function V(l){var h,H={};for(h in l)_(l,h)&&(H[h]=l[h]);return H}var B=[].concat;function q(l){return B.apply([],l)}var oi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(h){return h+l+"Array"})}))).filter(function(l){return r[l]}),G=new Set(oi.map(function(l){return r[l]})),Q=null;function ne(l){return Q=new WeakMap,l=function h(H){if(!H||"object"!=typeof H)return H;var oe=Q.get(H);if(oe)return oe;if(D(H)){Q.set(H,oe=[]);for(var Ee=0,Be=H.length;Ee<Be;++Ee)oe.push(h(H[Ee]))}else if(G.has(H.constructor))oe=H;else{var tt,ht=P(H);for(tt in oe=ht===Object.prototype?{}:Object.create(ht),Q.set(H,oe),H)_(H,tt)&&(oe[tt]=h(H[tt]))}return oe}(l),Q=null,l}var ue={}.toString;function ve(l){return ue.call(l).slice(8,-1)}var Oe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",nt="symbol"==typeof Oe?function(l){var h;return null!=l&&(h=l[Oe])&&h.apply(l)}:function(){return null};function ge(l,h){return 0<=(h=l.indexOf(h))&&l.splice(h,1),0<=h}var xe={};function He(l){var h,H,oe,Ee;if(1===arguments.length){if(D(l))return l.slice();if(this===xe&&"string"==typeof l)return[l];if(Ee=nt(l)){for(H=[];!(oe=Ee.next()).done;)H.push(oe.value);return H}if(null==l)return[l];if("number"!=typeof(h=l.length))return[l];for(H=new Array(h);h--;)H[h]=l[h];return H}for(h=arguments.length,H=new Array(h);h--;)H[h]=arguments[h];return H}var et=typeof Symbol<"u"?function(l){return"AsyncFunction"===l[Symbol.toStringTag]}:function(){return!1},Gn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(J=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Ke={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Xe(l,h){this.name=l,this.message=h}function Ie(l,h){return l+". Errors: "+Object.keys(h).map(function(H){return h[H].toString()}).filter(function(H,oe,Ee){return Ee.indexOf(H)===oe}).join("\n")}function se(l,h,H,oe){this.failures=h,this.failedKeys=oe,this.successCount=H,this.message=Ie(l,h)}function ce(l,h){this.name="BulkError",this.failures=Object.keys(h).map(function(H){return h[H]}),this.failuresByPos=h,this.message=Ie(l,this.failures)}L(Xe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),L(se).from(Xe),L(ce).from(Xe);var Y=Gn.reduce(function(l,h){return l[h]=h+"Error",l},{}),_e=Xe,Le=Gn.reduce(function(l,h){var H=h+"Error";function oe(Ee,Be){this.name=H,Ee?"string"==typeof Ee?(this.message="".concat(Ee).concat(Be?"\n "+Be:""),this.inner=Be||null):"object"==typeof Ee&&(this.message="".concat(Ee.name," ").concat(Ee.message),this.inner=Ee):(this.message=Ke[h]||H,this.inner=null)}return L(oe).from(_e),l[h]=oe,l},{});Le.Syntax=SyntaxError,Le.Type=TypeError,Le.Range=RangeError;var st=J.reduce(function(l,h){return l[h+"Error"]=Le[h],l},{}),K=Gn.reduce(function(l,h){return-1===["Syntax","Type","Range"].indexOf(h)&&(l[h+"Error"]=Le[h]),l},{});function De(){}function Te(l){return l}function me(l,h){return null==l||l===Te?h:function(H){return h(l(H))}}function j(l,h){return function(){l.apply(this,arguments),h.apply(this,arguments)}}function te(l,h){return l===De?h:function(){var H=l.apply(this,arguments);void 0!==H&&(arguments[0]=H);var oe=this.onsuccess,Ee=this.onerror;this.onsuccess=null,this.onerror=null;var Be=h.apply(this,arguments);return oe&&(this.onsuccess=this.onsuccess?j(oe,this.onsuccess):oe),Ee&&(this.onerror=this.onerror?j(Ee,this.onerror):Ee),void 0!==Be?Be:H}}function Me(l,h){return l===De?h:function(){l.apply(this,arguments);var H=this.onsuccess,oe=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),H&&(this.onsuccess=this.onsuccess?j(H,this.onsuccess):H),oe&&(this.onerror=this.onerror?j(oe,this.onerror):oe)}}function pe(l,h){return l===De?h:function(H){var oe=l.apply(this,arguments);$(H,oe);var Ee=this.onsuccess,Be=this.onerror;return this.onsuccess=null,this.onerror=null,H=h.apply(this,arguments),Ee&&(this.onsuccess=this.onsuccess?j(Ee,this.onsuccess):Ee),Be&&(this.onerror=this.onerror?j(Be,this.onerror):Be),void 0===oe?void 0===H?void 0:H:$(oe,H)}}function ae(l,h){return l===De?h:function(){return!1!==h.apply(this,arguments)&&l.apply(this,arguments)}}function Ne(l,h){return l===De?h:function(){var H=l.apply(this,arguments);if(H&&"function"==typeof H.then){for(var oe=this,Ee=arguments.length,Be=new Array(Ee);Ee--;)Be[Ee]=arguments[Ee];return H.then(function(){return h.apply(oe,Be)})}return h.apply(this,arguments)}}K.ModifyError=se,K.DexieError=Xe,K.BulkError=ce;var Ce=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ze(l){Ce=l}var J,ot={},ke=(Gn=(Gn=(oi=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,P(l),l];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,P(h),l]}())[1])&&Gn.then,(J=oi[0])&&J.constructor),ze=!!(oi=oi[2]),Ge=function(l,h){Bt.push([l,h]),Dt&&(queueMicrotask(mt),Dt=!1)},Re=!0,Dt=!0,at=[],Et=[],Vt=Te,Yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:De,pgp:!1,env:{},finalize:De},ut=Yt,Bt=[],Ut=0,un=[];function Lt(l){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=ut;if("function"!=typeof l){if(l!==ot)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&xn(this,this._value))}this._state=null,this._value=null,++h.ref,function H(oe,Ee){try{Ee(function(Be){if(null===oe._state){if(Be===oe)throw new TypeError("A promise cannot be resolved with itself.");var tt=oe._lib&&kt();Be&&"function"==typeof Be.then?H(oe,function(ht,Tt){Be instanceof Lt?Be._then(ht,Tt):Be.then(ht,Tt)}):(oe._state=!0,oe._value=Be,Fn(oe)),tt&&rn()}},xn.bind(null,oe))}catch(Be){xn(oe,Be)}}(this,l)}var fn={get:function(){var l=ut,h=Tr;function H(oe,Ee){var Be=this,tt=!l.global&&(l!==ut||h!==Tr),ht=tt&&!kr(),Tt=new Lt(function(Rt,dt){Hn(Be,new On($r(oe,l,tt,ht),$r(Ee,l,tt,ht),Rt,dt,l))});return this._consoleTask&&(Tt._consoleTask=this._consoleTask),Tt}return H.prototype=ot,H},set:function(l){C(this,"then",l&&l.prototype===ot?fn:{get:function(){return l},set:fn.set})}};function On(l,h,H,oe,Ee){this.onFulfilled="function"==typeof l?l:null,this.onRejected="function"==typeof h?h:null,this.resolve=H,this.reject=oe,this.psd=Ee}function xn(l,h){var H,oe;Et.push(h),null===l._state&&(H=l._lib&&kt(),h=Vt(h),l._state=!1,l._value=h,oe=l,at.some(function(Ee){return Ee._value===oe._value})||at.push(oe),Fn(l),H&&rn())}function Fn(l){var h=l._listeners;l._listeners=[];for(var H=0,oe=h.length;H<oe;++H)Hn(l,h[H]);var Ee=l._PSD;--Ee.ref||Ee.finalize(),0===Ut&&(++Ut,Ge(function(){0==--Ut&&on()},[]))}function Hn(l,h){if(null!==l._state){var H=l._state?h.onFulfilled:h.onRejected;if(null===H)return(l._state?h.resolve:h.reject)(l._value);++h.psd.ref,++Ut,Ge(Xn,[H,l,h])}else l._listeners.push(h)}function Xn(l,h,H){try{var oe,Ee=h._value;!h._state&&Et.length&&(Et=[]),oe=Ce&&h._consoleTask?h._consoleTask.run(function(){return l(Ee)}):l(Ee),h._state||-1!==Et.indexOf(Ee)||function(Be){for(var tt=at.length;tt;)if(at[--tt]._value===Be._value)return at.splice(tt,1)}(h),H.resolve(oe)}catch(Be){H.reject(Be)}finally{0==--Ut&&on(),--H.psd.ref||H.psd.finalize()}}function mt(){Cr(Yt,function(){kt()&&rn()})}function kt(){var l=Re;return Dt=Re=!1,l}function rn(){var l,h,H;do{for(;0<Bt.length;)for(l=Bt,Bt=[],H=l.length,h=0;h<H;++h){var oe=l[h];oe[0].apply(null,oe[1])}}while(0<Bt.length);Dt=Re=!0}function on(){var l=at;at=[],l.forEach(function(oe){oe._PSD.onunhandled.call(null,oe._value,oe)});for(var h=un.slice(0),H=h.length;H;)h[--H]()}function _n(l){return new Lt(ot,!1,l)}function sn(l,h){var H=ut;return function(){var oe=kt(),Ee=ut;try{return di(H,!0),l.apply(this,arguments)}catch(Be){h&&h(Be)}finally{di(Ee,!1),oe&&rn()}}}b(Lt.prototype,{then:fn,_then:function(l,h){Hn(this,new On(null,null,l,h,ut))},catch:function(l){if(1===arguments.length)return this.then(null,l);var h=l,H=arguments[1];return this.then(null,"function"==typeof h?function(oe){return(oe instanceof h?H:_n)(oe)}:function(oe){return(oe&&oe.name===h?H:_n)(oe)})},finally:function(l){return this.then(function(h){return Lt.resolve(l()).then(function(){return h})},function(h){return Lt.resolve(l()).then(function(){return _n(h)})})},timeout:function(l,h){var H=this;return l<1/0?new Lt(function(oe,Ee){var Be=setTimeout(function(){return Ee(new Le.Timeout(h))},l);H.then(oe,Ee).finally(clearTimeout.bind(null,Be))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Lt.prototype,Symbol.toStringTag,"Dexie.Promise"),Yt.env=mi(),b(Lt,{all:function(){var l=He.apply(null,arguments).map(Zr);return new Lt(function(h,H){0===l.length&&h([]);var oe=l.length;l.forEach(function(Ee,Be){return Lt.resolve(Ee).then(function(tt){l[Be]=tt,--oe||h(l)},H)})})},resolve:function(l){return l instanceof Lt?l:l&&"function"==typeof l.then?new Lt(function(h,H){l.then(h,H)}):new Lt(ot,!0,l)},reject:_n,race:function(){var l=He.apply(null,arguments).map(Zr);return new Lt(function(h,H){l.map(function(oe){return Lt.resolve(oe).then(h,H)})})},PSD:{get:function(){return ut},set:function(l){return ut=l}},totalEchoes:{get:function(){return Tr}},newPSD:br,usePSD:Cr,scheduler:{get:function(){return Ge},set:function(l){Ge=l}},rejectionMapper:{get:function(){return Vt},set:function(l){Vt=l}},follow:function(l,h){return new Lt(function(H,oe){return br(function(Ee,Be){var tt=ut;tt.unhandleds=[],tt.onunhandled=Be,tt.finalize=j(function(){var ht,Tt=this;ht=function(){0===Tt.unhandleds.length?Ee():Be(Tt.unhandleds[0])},un.push(function Rt(){ht(),un.splice(un.indexOf(Rt),1)}),++Ut,Ge(function(){0==--Ut&&on()},[])},tt.finalize),l()},h,H,oe)})}}),ke&&(ke.allSettled&&C(Lt,"allSettled",function(){var l=He.apply(null,arguments).map(Zr);return new Lt(function(h){0===l.length&&h([]);var H=l.length,oe=new Array(H);l.forEach(function(Ee,Be){return Lt.resolve(Ee).then(function(tt){return oe[Be]={status:"fulfilled",value:tt}},function(tt){return oe[Be]={status:"rejected",reason:tt}}).then(function(){return--H||h(oe)})})})}),ke.any&&typeof AggregateError<"u"&&C(Lt,"any",function(){var l=He.apply(null,arguments).map(Zr);return new Lt(function(h,H){0===l.length&&H(new AggregateError([]));var oe=l.length,Ee=new Array(oe);l.forEach(function(Be,tt){return Lt.resolve(Be).then(function(ht){return h(ht)},function(ht){Ee[tt]=ht,--oe||H(new AggregateError(Ee))})})})}),ke.withResolvers&&(Lt.withResolvers=ke.withResolvers));var gn={awaits:0,echoes:0,id:0},Ir=0,fr=[],Er=0,Tr=0,Hr=0;function br(l,h,H,oe){var Ee=ut,Be=Object.create(Ee);return Be.parent=Ee,Be.ref=0,Be.global=!1,Be.id=++Hr,Be.env=ze?{Promise:Lt,PromiseProp:{value:Lt,configurable:!0,writable:!0},all:Lt.all,race:Lt.race,allSettled:Lt.allSettled,any:Lt.any,resolve:Lt.resolve,reject:Lt.reject}:{},h&&$(Be,h),++Ee.ref,Be.finalize=function(){--this.parent.ref||this.parent.finalize()},oe=Cr(Be,l,H,oe),0===Be.ref&&Be.finalize(),oe}function Kr(){return gn.id||(gn.id=++Ir),++gn.awaits,gn.echoes+=100,gn.id}function kr(){return!!gn.awaits&&(0==--gn.awaits&&(gn.id=0),gn.echoes=100*gn.awaits,!0)}function Zr(l){return gn.echoes&&l&&l.constructor===ke?(Kr(),l.then(function(h){return kr(),h},function(h){return kr(),wr(h)})):l}function io(){var l=fr[fr.length-1];fr.pop(),di(l,!1)}function di(l,h){var H,oe=ut;(h?!gn.echoes||Er++&&l===ut:!Er||--Er&&l===ut)||queueMicrotask(h?function(Ee){++Tr,gn.echoes&&0!=--gn.echoes||(gn.echoes=gn.awaits=gn.id=0),fr.push(ut),di(Ee,!0)}.bind(null,l):io),l!==ut&&(ut=l,oe===Yt&&(Yt.env=mi()),ze&&(H=Yt.env.Promise,h=l.env,(oe.global||l.global)&&(Object.defineProperty(r,"Promise",h.PromiseProp),H.all=h.all,H.race=h.race,H.resolve=h.resolve,H.reject=h.reject,h.allSettled&&(H.allSettled=h.allSettled),h.any&&(H.any=h.any))))}function mi(){var l=r.Promise;return ze?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Cr(l,h,H,oe,Ee){var Be=ut;try{return di(l,!0),h(H,oe,Ee)}finally{di(Be,!1)}}function $r(l,h,H,oe){return"function"!=typeof l?l:function(){var Ee=ut;H&&Kr(),di(h,!0);try{return l.apply(this,arguments)}finally{di(Ee,!1),oe&&queueMicrotask(kr)}}}function yr(l){Promise===ke&&0===gn.echoes?0===Er?l():enqueueNativeMicroTask(l):setTimeout(l,0)}-1===(""+Gn).indexOf("[native code]")&&(Kr=kr=De);var wr=Lt.reject,zr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fi="String expected.",gi=[],hi="__dbnames",_i="readonly",Ii="readwrite";function ii(l,h){return l?h?function(){return l.apply(this,arguments)&&h.apply(this,arguments)}:l:h}var vt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Wt(l){return"string"!=typeof l||/\./.test(l)?function(h){return h}:function(h){return void 0===h[l]&&l in h&&delete(h=ne(h))[l],h}}function tn(){throw Le.Type()}function qt(l,h){try{var H=zn(l),oe=zn(h);if(H!==oe)return"Array"===H?1:"Array"===oe?-1:"binary"===H?1:"binary"===oe?-1:"string"===H?1:"string"===oe?-1:"Date"===H?1:"Date"!==oe?NaN:-1;switch(H){case"number":case"Date":case"string":return h<l?1:l<h?-1:0;case"binary":return function(Ee,Be){for(var tt=Ee.length,ht=Be.length,Tt=tt<ht?tt:ht,Rt=0;Rt<Tt;++Rt)if(Ee[Rt]!==Be[Rt])return Ee[Rt]<Be[Rt]?-1:1;return tt===ht?0:tt<ht?-1:1}(Un(l),Un(h));case"Array":return function(Ee,Be){for(var tt=Ee.length,ht=Be.length,Tt=tt<ht?tt:ht,Rt=0;Rt<Tt;++Rt){var dt=qt(Ee[Rt],Be[Rt]);if(0!==dt)return dt}return tt===ht?0:tt<ht?-1:1}(l,h)}}catch{}return NaN}function zn(l){var h=typeof l;return"object"!=h?h:ArrayBuffer.isView(l)||"ArrayBuffer"===(l=ve(l))?"binary":l}function Un(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}var kn=(Vn.prototype._trans=function(l,h,H){var oe=this._tx||ut.trans,Ee=this.name,Be=Ce&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===l?"read":"write"," ").concat(this.name));function tt(Rt,dt,rt){if(!rt.schema[Ee])throw new Le.NotFound("Table "+Ee+" not part of transaction");return h(rt.idbtrans,rt)}var ht=kt();try{var Tt=oe&&oe.db._novip===this.db._novip?oe===ut.trans?oe._promise(l,tt,H):br(function(){return oe._promise(l,tt,H)},{trans:oe,transless:ut.transless||ut}):function Rt(dt,rt,Ct,yt){if(dt.idbdb&&(dt._state.openComplete||ut.letThrough||dt._vip)){var At=dt._createTransaction(rt,Ct,dt._dbSchema);try{At.create(),dt._state.PR1398_maxLoop=3}catch(Nt){return Nt.name===Y.InvalidState&&dt.isOpen()&&0<--dt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),dt.close({disableAutoOpen:!1}),dt.open().then(function(){return Rt(dt,rt,Ct,yt)})):wr(Nt)}return At._promise(rt,function(Nt,Ot){return br(function(){return ut.trans=At,yt(Nt,Ot,At)})}).then(function(Nt){if("readwrite"===rt)try{At.idbtrans.commit()}catch{}return"readonly"===rt?Nt:At._completion.then(function(){return Nt})})}if(dt._state.openComplete)return wr(new Le.DatabaseClosed(dt._state.dbOpenError));if(!dt._state.isBeingOpened){if(!dt._state.autoOpen)return wr(new Le.DatabaseClosed);dt.open().catch(De)}return dt._state.dbReadyPromise.then(function(){return Rt(dt,rt,Ct,yt)})}(this.db,l,[this.name],tt);return Be&&(Tt._consoleTask=Be,Tt=Tt.catch(function(Rt){return console.trace(Rt),wr(Rt)})),Tt}finally{ht&&rn()}},Vn.prototype.get=function(l,h){var H=this;return l&&l.constructor===Object?this.where(l).first(h):null==l?wr(new Le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(oe){return H.core.get({trans:oe,key:l}).then(function(Ee){return H.hook.reading.fire(Ee)})}).then(h)},Vn.prototype.where=function(l){if("string"==typeof l)return new this.db.WhereClause(this,l);if(D(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var h=d(l);if(1===h.length)return this.where(h[0]).equals(l[h[0]]);var H=this.schema.indexes.concat(this.schema.primKey).filter(function(ht){if(ht.compound&&h.every(function(Rt){return 0<=ht.keyPath.indexOf(Rt)})){for(var Tt=0;Tt<h.length;++Tt)if(-1===h.indexOf(ht.keyPath[Tt]))return!1;return!0}return!1}).sort(function(ht,Tt){return ht.keyPath.length-Tt.keyPath.length})[0];if(H&&"\uffff"!==this.db._maxKey){var Be=H.keyPath.slice(0,h.length);return this.where(Be).equals(Be.map(function(Tt){return l[Tt]}))}!H&&Ce&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var oe=this.schema.idxByName;function Ee(ht,Tt){return 0===qt(ht,Tt)}Be=(tt=h.reduce(function(rt,Tt){var Rt=rt[0],dt=rt[1],Ct=(rt=oe[Tt],l[Tt]);return[Rt||rt,Rt||!rt?ii(dt,rt&&rt.multi?function(yt){return yt=T(yt,Tt),D(yt)&&yt.some(function(At){return Ee(Ct,At)})}:function(yt){return Ee(Ct,T(yt,Tt))}):dt]},[null,null]))[0];var tt=tt[1];return Be?this.where(Be.name).equals(l[Be.keyPath]).filter(tt):H?this.filter(tt):this.where(h).equals("")},Vn.prototype.filter=function(l){return this.toCollection().and(l)},Vn.prototype.count=function(l){return this.toCollection().count(l)},Vn.prototype.offset=function(l){return this.toCollection().offset(l)},Vn.prototype.limit=function(l){return this.toCollection().limit(l)},Vn.prototype.each=function(l){return this.toCollection().each(l)},Vn.prototype.toArray=function(l){return this.toCollection().toArray(l)},Vn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Vn.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,D(l)?"[".concat(l.join("+"),"]"):l))},Vn.prototype.reverse=function(){return this.toCollection().reverse()},Vn.prototype.mapToClass=function(l){var h,H=this.db,oe=this.name;function Ee(){return null!==h&&h.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof tn&&(function(Tt,Rt){if("function"!=typeof Rt&&null!==Rt)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");function dt(){this.constructor=Tt}E(Tt,Rt),Tt.prototype=null===Rt?Object.create(Rt):(dt.prototype=Rt.prototype,new dt)}(Ee,h=l),Object.defineProperty(Ee.prototype,"db",{get:function(){return H},enumerable:!1,configurable:!0}),Ee.prototype.table=function(){return oe},l=Ee);for(var Be=new Set,tt=l.prototype;tt;tt=P(tt))Object.getOwnPropertyNames(tt).forEach(function(Tt){return Be.add(Tt)});function ht(Tt){if(!Tt)return Tt;var Rt,dt=Object.create(l.prototype);for(Rt in Tt)if(!Be.has(Rt))try{dt[Rt]=Tt[Rt]}catch{}return dt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ht,this.hook("reading",ht),l},Vn.prototype.defineClass=function(){return this.mapToClass(function(l){$(this,l)})},Vn.prototype.add=function(l,h){var H=this,oe=this.schema.primKey,Be=oe.keyPath,tt=l;return Be&&oe.auto&&(tt=Wt(Be)(l)),this._trans("readwrite",function(ht){return H.core.mutate({trans:ht,type:"add",keys:null!=h?[h]:null,values:[tt]})}).then(function(ht){return ht.numFailures?Lt.reject(ht.failures[0]):ht.lastResult}).then(function(ht){if(Be)try{M(l,Be,ht)}catch{}return ht})},Vn.prototype.update=function(l,h){return"object"!=typeof l||D(l)?this.where(":id").equals(l).modify(h):void 0===(l=T(l,this.schema.primKey.keyPath))?wr(new Le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(h)},Vn.prototype.put=function(l,h){var H=this,oe=this.schema.primKey,Be=oe.keyPath,tt=l;return Be&&oe.auto&&(tt=Wt(Be)(l)),this._trans("readwrite",function(ht){return H.core.mutate({trans:ht,type:"put",values:[tt],keys:null!=h?[h]:null})}).then(function(ht){return ht.numFailures?Lt.reject(ht.failures[0]):ht.lastResult}).then(function(ht){if(Be)try{M(l,Be,ht)}catch{}return ht})},Vn.prototype.delete=function(l){var h=this;return this._trans("readwrite",function(H){return h.core.mutate({trans:H,type:"delete",keys:[l]})}).then(function(H){return H.numFailures?Lt.reject(H.failures[0]):void 0})},Vn.prototype.clear=function(){var l=this;return this._trans("readwrite",function(h){return l.core.mutate({trans:h,type:"deleteRange",range:vt})}).then(function(h){return h.numFailures?Lt.reject(h.failures[0]):void 0})},Vn.prototype.bulkGet=function(l){var h=this;return this._trans("readonly",function(H){return h.core.getMany({keys:l,trans:H}).then(function(oe){return oe.map(function(Ee){return h.hook.reading.fire(Ee)})})})},Vn.prototype.bulkAdd=function(l,h,H){var oe=this,Ee=Array.isArray(h)?h:void 0,Be=(H=H||(Ee?void 0:h))?H.allKeys:void 0;return this._trans("readwrite",function(tt){var ht=(Rt=oe.schema.primKey).auto;if((Rt=Rt.keyPath)&&Ee)throw new Le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Ee&&Ee.length!==l.length)throw new Le.InvalidArgument("Arguments objects and keys must have the same length");var Tt=l.length,Rt=Rt&&ht?l.map(Wt(Rt)):l;return oe.core.mutate({trans:tt,type:"add",keys:Ee,values:Rt,wantResults:Be}).then(function(At){var rt=At.numFailures,Ct=At.results,yt=At.lastResult;if(At=At.failures,0===rt)return Be?Ct:yt;throw new ce("".concat(oe.name,".bulkAdd(): ").concat(rt," of ").concat(Tt," operations failed"),At)})})},Vn.prototype.bulkPut=function(l,h,H){var oe=this,Ee=Array.isArray(h)?h:void 0,Be=(H=H||(Ee?void 0:h))?H.allKeys:void 0;return this._trans("readwrite",function(tt){var ht=(Rt=oe.schema.primKey).auto;if((Rt=Rt.keyPath)&&Ee)throw new Le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Ee&&Ee.length!==l.length)throw new Le.InvalidArgument("Arguments objects and keys must have the same length");var Tt=l.length,Rt=Rt&&ht?l.map(Wt(Rt)):l;return oe.core.mutate({trans:tt,type:"put",keys:Ee,values:Rt,wantResults:Be}).then(function(At){var rt=At.numFailures,Ct=At.results,yt=At.lastResult;if(At=At.failures,0===rt)return Be?Ct:yt;throw new ce("".concat(oe.name,".bulkPut(): ").concat(rt," of ").concat(Tt," operations failed"),At)})})},Vn.prototype.bulkUpdate=function(l){var h=this,H=this.core,oe=l.map(function(tt){return tt.key}),Ee=l.map(function(tt){return tt.changes}),Be=[];return this._trans("readwrite",function(tt){return H.getMany({trans:tt,keys:oe,cache:"clone"}).then(function(ht){var Tt=[],Rt=[];l.forEach(function(rt,Ct){var yt=rt.key,At=rt.changes,Nt=ht[Ct];if(Nt){for(var Ot=0,Kt=Object.keys(At);Ot<Kt.length;Ot++){var jt=Kt[Ot],Zt=At[jt];if(jt===h.schema.primKey.keyPath){if(0!==qt(Zt,yt))throw new Le.Constraint("Cannot update primary key in bulkUpdate()")}else M(Nt,jt,Zt)}Be.push(Ct),Tt.push(yt),Rt.push(Nt)}});var dt=Tt.length;return H.mutate({trans:tt,type:"put",keys:Tt,values:Rt,updates:{keys:oe,changeSpecs:Ee}}).then(function(rt){var Ct=rt.numFailures,yt=rt.failures;if(0===Ct)return dt;for(var At=0,Nt=Object.keys(yt);At<Nt.length;At++){var Ot,Kt=Nt[At],jt=Be[Number(Kt)];null!=jt&&(Ot=yt[Kt],delete yt[Kt],yt[jt]=Ot)}throw new ce("".concat(h.name,".bulkUpdate(): ").concat(Ct," of ").concat(dt," operations failed"),yt)})})})},Vn.prototype.bulkDelete=function(l){var h=this,H=l.length;return this._trans("readwrite",function(oe){return h.core.mutate({trans:oe,type:"delete",keys:l})}).then(function(tt){var Ee=tt.numFailures,Be=tt.lastResult;if(tt=tt.failures,0===Ee)return Be;throw new ce("".concat(h.name,".bulkDelete(): ").concat(Ee," of ").concat(H," operations failed"),tt)})},Vn);function Vn(){}function jr(l){function h(tt,ht){if(ht){for(var Tt=arguments.length,Rt=new Array(Tt-1);--Tt;)Rt[Tt-1]=arguments[Tt];return H[tt].subscribe.apply(null,Rt),l}if("string"==typeof tt)return H[tt]}var H={};h.addEventType=Be;for(var oe=1,Ee=arguments.length;oe<Ee;++oe)Be(arguments[oe]);return h;function Be(tt,ht,Tt){if("object"!=typeof tt){var Rt;ht=ht||ae;var dt={subscribers:[],fire:Tt=Tt||De,subscribe:function(rt){-1===dt.subscribers.indexOf(rt)&&(dt.subscribers.push(rt),dt.fire=ht(dt.fire,rt))},unsubscribe:function(rt){dt.subscribers=dt.subscribers.filter(function(Ct){return Ct!==rt}),dt.fire=dt.subscribers.reduce(ht,Tt)}};return H[tt]=h[tt]=dt}d(Rt=tt).forEach(function(rt){var Ct=Rt[rt];if(D(Ct))Be(rt,Rt[rt][0],Rt[rt][1]);else{if("asap"!==Ct)throw new Le.InvalidArgument("Invalid event config");var yt=Be(rt,Te,function(){for(var At=arguments.length,Nt=new Array(At);At--;)Nt[At]=arguments[At];yt.subscribers.forEach(function(Ot){F(function(){Ot.apply(null,Nt)})})})}})}}function Ur(l,h){return L(h).from({prototype:l}),h}function vr(l,h){return!(l.filter||l.algorithm||l.or)&&(h?l.justLimit:!l.replayFilter)}function Pi(l,h){l.filter=ii(l.filter,h)}function hr(l,h,H){var oe=l.replayFilter;l.replayFilter=oe?function(){return ii(oe(),h())}:h,l.justLimit=H&&!oe}function Or(l,h){if(l.isPrimKey)return h.primaryKey;var H=h.getIndexByKeyPath(l.index);if(!H)throw new Le.Schema("KeyPath "+l.index+" on object store "+h.name+" is not indexed");return H}function Wr(l,h,H){var oe=Or(l,h.schema);return h.openCursor({trans:H,values:!l.keysOnly,reverse:"prev"===l.dir,unique:!!l.unique,query:{index:oe,range:l.range}})}function Gr(l,h,H,oe){var Ee=l.replayFilter?ii(l.filter,l.replayFilter()):l.filter;if(l.or){var Be={},tt=function(ht,Tt,Rt){var dt,rt;Ee&&!Ee(Tt,Rt,function(Ct){return Tt.stop(Ct)},function(Ct){return Tt.fail(Ct)})||("[object ArrayBuffer]"==(rt=""+(dt=Tt.primaryKey))&&(rt=""+new Uint8Array(dt)),_(Be,rt)||(Be[rt]=!0,h(ht,Tt,Rt)))};return Promise.all([l.or._iterate(tt,H),Ci(Wr(l,oe,H),l.algorithm,tt,!l.keysOnly&&l.valueMapper)])}return Ci(Wr(l,oe,H),ii(l.algorithm,Ee),h,!l.keysOnly&&l.valueMapper)}function Ci(l,h,H,oe){var Ee=sn(oe?function(Be,tt,ht){return H(oe(Be),tt,ht)}:H);return l.then(function(Be){if(Be)return Be.start(function(){var tt=function(){return Be.continue()};h&&!h(Be,function(ht){return tt=ht},function(ht){Be.stop(ht),tt=De},function(ht){Be.fail(ht),tt=De})||Ee(Be.value,Be,function(ht){return tt=ht}),tt()})})}oi=Symbol();var Jr=(Oi.prototype.execute=function(l){if(void 0!==this.add){var h=this.add;if(D(h))return u(u([],D(l)?l:[],!0),h,!0).sort();if("number"==typeof h)return(Number(l)||0)+h;if("bigint"==typeof h)try{return BigInt(l)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(void 0!==this.remove){var H=this.remove;if(D(H))return D(l)?l.filter(function(oe){return!H.includes(oe)}).sort():[];if("number"==typeof H)return Number(l)-H;if("bigint"==typeof H)try{return BigInt(l)-H}catch{return BigInt(0)-H}throw new TypeError("Invalid subtrahend ".concat(H))}return(h=null===(h=this.replacePrefix)||void 0===h?void 0:h[0])&&"string"==typeof l&&l.startsWith(h)?this.replacePrefix[1]+l.substring(h.length):l},Oi);function Oi(l){Object.assign(this,l)}var $i=(Zn.prototype._read=function(l,h){var H=this._ctx;return H.error?H.table._trans(null,wr.bind(null,H.error)):H.table._trans("readonly",l).then(h)},Zn.prototype._write=function(l){var h=this._ctx;return h.error?h.table._trans(null,wr.bind(null,h.error)):h.table._trans("readwrite",l,"locked")},Zn.prototype._addAlgorithm=function(l){var h=this._ctx;h.algorithm=ii(h.algorithm,l)},Zn.prototype._iterate=function(l,h){return Gr(this._ctx,l,h,this._ctx.table.core)},Zn.prototype.clone=function(l){var h=Object.create(this.constructor.prototype),H=Object.create(this._ctx);return l&&$(H,l),h._ctx=H,h},Zn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Zn.prototype.each=function(l){var h=this._ctx;return this._read(function(H){return Gr(h,l,H,h.table.core)})},Zn.prototype.count=function(l){var h=this;return this._read(function(H){var oe=h._ctx,Ee=oe.table.core;if(vr(oe,!0))return Ee.count({trans:H,query:{index:Or(oe,Ee.schema),range:oe.range}}).then(function(tt){return Math.min(tt,oe.limit)});var Be=0;return Gr(oe,function(){return++Be,!1},H,Ee).then(function(){return Be})}).then(l)},Zn.prototype.sortBy=function(l,h){var H=l.split(".").reverse(),oe=H[0],Ee=H.length-1;function Be(Tt,Rt){return Rt?Be(Tt[H[Rt]],Rt-1):Tt[oe]}var tt="next"===this._ctx.dir?1:-1;function ht(Tt,Rt){return qt(Be(Tt,Ee),Be(Rt,Ee))*tt}return this.toArray(function(Tt){return Tt.sort(ht)}).then(h)},Zn.prototype.toArray=function(l){var h=this;return this._read(function(H){var oe=h._ctx;if("next"===oe.dir&&vr(oe,!0)&&0<oe.limit){var Ee=oe.valueMapper,Be=Or(oe,oe.table.core.schema);return oe.table.core.query({trans:H,limit:oe.limit,values:!0,query:{index:Be,range:oe.range}}).then(function(ht){return ht=ht.result,Ee?ht.map(Ee):ht})}var tt=[];return Gr(oe,function(ht){return tt.push(ht)},H,oe.table.core).then(function(){return tt})},l)},Zn.prototype.offset=function(l){var h=this._ctx;return l<=0||(h.offset+=l,vr(h)?hr(h,function(){var H=l;return function(oe,Ee){return 0===H||(1===H?--H:Ee(function(){oe.advance(H),H=0}),!1)}}):hr(h,function(){var H=l;return function(){return--H<0}})),this},Zn.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),hr(this._ctx,function(){var h=l;return function(H,oe,Ee){return--h<=0&&oe(Ee),0<=h}},!0),this},Zn.prototype.until=function(l,h){return Pi(this._ctx,function(H,oe,Ee){return!l(H.value)||(oe(Ee),h)}),this},Zn.prototype.first=function(l){return this.limit(1).toArray(function(h){return h[0]}).then(l)},Zn.prototype.last=function(l){return this.reverse().first(l)},Zn.prototype.filter=function(l){var h;return Pi(this._ctx,function(H){return l(H.value)}),(h=this._ctx).isMatch=ii(h.isMatch,l),this},Zn.prototype.and=function(l){return this.filter(l)},Zn.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},Zn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Zn.prototype.desc=function(){return this.reverse()},Zn.prototype.eachKey=function(l){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(H,oe){l(oe.key,oe)})},Zn.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},Zn.prototype.eachPrimaryKey=function(l){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(H,oe){l(oe.primaryKey,oe)})},Zn.prototype.keys=function(l){var h=this._ctx;h.keysOnly=!h.isMatch;var H=[];return this.each(function(oe,Ee){H.push(Ee.key)}).then(function(){return H}).then(l)},Zn.prototype.primaryKeys=function(l){var h=this._ctx;if("next"===h.dir&&vr(h,!0)&&0<h.limit)return this._read(function(oe){var Ee=Or(h,h.table.core.schema);return h.table.core.query({trans:oe,values:!1,limit:h.limit,query:{index:Ee,range:h.range}})}).then(function(oe){return oe.result}).then(l);h.keysOnly=!h.isMatch;var H=[];return this.each(function(oe,Ee){H.push(Ee.primaryKey)}).then(function(){return H}).then(l)},Zn.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},Zn.prototype.firstKey=function(l){return this.limit(1).keys(function(h){return h[0]}).then(l)},Zn.prototype.lastKey=function(l){return this.reverse().firstKey(l)},Zn.prototype.distinct=function(){var l;if(!(l=(l=this._ctx).index&&l.table.schema.idxByName[l.index])||!l.multi)return this;var h={};return Pi(this._ctx,function(Ee){var oe=Ee.primaryKey.toString();return Ee=_(h,oe),h[oe]=!0,!Ee}),this},Zn.prototype.modify=function(l){var h=this,H=this._ctx;return this._write(function(oe){var Ee,Be,tt;tt="function"==typeof l?l:(Ee=d(l),Be=Ee.length,function(Ot){for(var Kt=!1,jt=0;jt<Be;++jt){var Zt=Ee[jt],an=l[Zt],dn=T(Ot,Zt);an instanceof Jr?(M(Ot,Zt,an.execute(dn)),Kt=!0):dn!==an&&(M(Ot,Zt,an),Kt=!0)}return Kt});var rt,ht=H.table.core,Tt=(rt=ht.schema.primaryKey).outbound,Rt=rt.extractKey,dt=200;function Ct(Ot,Zt){var jt=Zt.failures;At+=Ot-(Zt=Zt.numFailures);for(var an=0,dn=d(jt);an<dn.length;an++)yt.push(jt[dn[an]])}(rt=h.db._options.modifyChunkSize)&&(dt="object"==typeof rt?rt[ht.name]||rt["*"]||200:rt);var yt=[],At=0,Nt=[];return h.clone().primaryKeys().then(function(Ot){var jt=vr(H)&&H.limit===1/0&&("function"!=typeof l||l===yi)&&{index:H.index,range:H.range};return function Kt(Zt){var an=Math.min(dt,Ot.length-Zt);return ht.getMany({trans:oe,keys:Ot.slice(Zt,Zt+an),cache:"immutable"}).then(function(dn){for(var bn=[],mn=[],Cn=Tt?[]:null,Sn=[],An=0;An<an;++An){var $n=dn[An],lr={value:ne($n),primKey:Ot[Zt+An]};!1!==tt.call(lr,lr.value,lr)&&(null==lr.value?Sn.push(Ot[Zt+An]):Tt||0===qt(Rt($n),Rt(lr.value))?(mn.push(lr.value),Tt&&Cn.push(Ot[Zt+An])):(Sn.push(Ot[Zt+An]),bn.push(lr.value)))}return Promise.resolve(0<bn.length&&ht.mutate({trans:oe,type:"add",values:bn}).then(function(gr){for(var pr in gr.failures)Sn.splice(parseInt(pr),1);Ct(bn.length,gr)})).then(function(){return(0<mn.length||jt&&"object"==typeof l)&&ht.mutate({trans:oe,type:"put",keys:Cn,values:mn,criteria:jt,changeSpec:"function"!=typeof l&&l,isAdditionalChunk:0<Zt}).then(function(gr){return Ct(mn.length,gr)})}).then(function(){return(0<Sn.length||jt&&l===yi)&&ht.mutate({trans:oe,type:"delete",keys:Sn,criteria:jt,isAdditionalChunk:0<Zt}).then(function(gr){return Ct(Sn.length,gr)})}).then(function(){return Ot.length>Zt+an&&Kt(Zt+dt)})})}(0).then(function(){if(0<yt.length)throw new se("Error modifying one or more objects",yt,At,Nt);return Ot.length})})})},Zn.prototype.delete=function(){var l=this._ctx,h=l.range;return vr(l)&&(l.isPrimKey||3===h.type)?this._write(function(H){var Ee=h;return l.table.core.count({trans:H,query:{index:l.table.core.schema.primaryKey,range:Ee}}).then(function(Be){return l.table.core.mutate({trans:H,type:"deleteRange",range:Ee}).then(function(tt){var ht=tt.failures;if(tt=tt.numFailures)throw new se("Could not delete some values",Object.keys(ht).map(function(Tt){return ht[Tt]}),Be-tt);return Be-tt})})}):this.modify(yi)},Zn);function Zn(){}var yi=function(l,h){return h.value=null};function Mi(l,h){return l<h?-1:l===h?0:1}function pi(l,h){return h<l?-1:l===h?0:1}function Qr(l,h,H){return(l=l instanceof Gt?new l.Collection(l):l)._ctx.error=new(H||TypeError)(h),l}function Bi(l){return new l.Collection(l,function(){return $t("")}).limit(0)}function je(l,h,H,oe){var Ee,Be,tt,ht,Tt,Rt,dt,rt=H.length;if(!H.every(function(At){return"string"==typeof At}))return Qr(l,fi);function Ct(At){Ee="next"===At?function(Ot){return Ot.toUpperCase()}:function(Ot){return Ot.toLowerCase()},Be="next"===At?function(Ot){return Ot.toLowerCase()}:function(Ot){return Ot.toUpperCase()},tt="next"===At?Mi:pi;var Nt=H.map(function(Ot){return{lower:Be(Ot),upper:Ee(Ot)}}).sort(function(Ot,Kt){return tt(Ot.lower,Kt.lower)});ht=Nt.map(function(Ot){return Ot.upper}),Tt=Nt.map(function(Ot){return Ot.lower}),dt="next"===(Rt=At)?"":oe}Ct("next"),(l=new l.Collection(l,function(){return wt(ht[0],Tt[rt-1]+oe)}))._ondirectionchange=function(At){Ct(At)};var yt=0;return l._addAlgorithm(function(At,Nt,Ot){var Kt=At.key;if("string"!=typeof Kt)return!1;var jt=Be(Kt);if(h(jt,Tt,yt))return!0;for(var Zt=null,an=yt;an<rt;++an){var dn=function(bn,mn,Cn,Sn,An,$n){for(var lr=Math.min(bn.length,Sn.length),gr=-1,pr=0;pr<lr;++pr){var Li=mn[pr];if(Li!==Sn[pr])return An(bn[pr],Cn[pr])<0?bn.substr(0,pr)+Cn[pr]+Cn.substr(pr+1):An(bn[pr],Sn[pr])<0?bn.substr(0,pr)+Sn[pr]+Cn.substr(pr+1):0<=gr?bn.substr(0,gr)+mn[gr]+Cn.substr(gr+1):null;An(bn[pr],Li)<0&&(gr=pr)}return lr<Sn.length&&"next"===$n?bn+Cn.substr(bn.length):lr<bn.length&&"prev"===$n?bn.substr(0,Cn.length):gr<0?null:bn.substr(0,gr)+Sn[gr]+Cn.substr(gr+1)}(Kt,jt,ht[an],Tt[an],tt,Rt);null===dn&&null===Zt?yt=an+1:(null===Zt||0<tt(Zt,dn))&&(Zt=dn)}return Nt(null!==Zt?function(){At.continue(Zt+dt)}:Ot),!1}),l}function wt(l,h,H,oe){return{type:2,lower:l,upper:h,lowerOpen:H,upperOpen:oe}}function $t(l){return{type:1,lower:l,upper:l}}var Gt=(Object.defineProperty(ln.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ln.prototype.between=function(l,h,H,oe){H=!1!==H,oe=!0===oe;try{return 0<this._cmp(l,h)||0===this._cmp(l,h)&&(H||oe)&&(!H||!oe)?Bi(this):new this.Collection(this,function(){return wt(l,h,!H,!oe)})}catch{return Qr(this,zr)}},ln.prototype.equals=function(l){return null==l?Qr(this,zr):new this.Collection(this,function(){return $t(l)})},ln.prototype.above=function(l){return null==l?Qr(this,zr):new this.Collection(this,function(){return wt(l,void 0,!0)})},ln.prototype.aboveOrEqual=function(l){return null==l?Qr(this,zr):new this.Collection(this,function(){return wt(l,void 0,!1)})},ln.prototype.below=function(l){return null==l?Qr(this,zr):new this.Collection(this,function(){return wt(void 0,l,!1,!0)})},ln.prototype.belowOrEqual=function(l){return null==l?Qr(this,zr):new this.Collection(this,function(){return wt(void 0,l)})},ln.prototype.startsWith=function(l){return"string"!=typeof l?Qr(this,fi):this.between(l,l+"\uffff",!0,!0)},ln.prototype.startsWithIgnoreCase=function(l){return""===l?this.startsWith(l):je(this,function(h,H){return 0===h.indexOf(H[0])},[l],"\uffff")},ln.prototype.equalsIgnoreCase=function(l){return je(this,function(h,H){return h===H[0]},[l],"")},ln.prototype.anyOfIgnoreCase=function(){var l=He.apply(xe,arguments);return 0===l.length?Bi(this):je(this,function(h,H){return-1!==H.indexOf(h)},l,"")},ln.prototype.startsWithAnyOfIgnoreCase=function(){var l=He.apply(xe,arguments);return 0===l.length?Bi(this):je(this,function(h,H){return H.some(function(oe){return 0===h.indexOf(oe)})},l,"\uffff")},ln.prototype.anyOf=function(){var l=this,h=He.apply(xe,arguments),H=this._cmp;try{h.sort(H)}catch{return Qr(this,zr)}if(0===h.length)return Bi(this);var oe=new this.Collection(this,function(){return wt(h[0],h[h.length-1])});oe._ondirectionchange=function(Be){h.sort(H="next"===Be?l._ascending:l._descending)};var Ee=0;return oe._addAlgorithm(function(Be,tt,ht){for(var Tt=Be.key;0<H(Tt,h[Ee]);)if(++Ee===h.length)return tt(ht),!1;return 0===H(Tt,h[Ee])||(tt(function(){Be.continue(h[Ee])}),!1)}),oe},ln.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ln.prototype.noneOf=function(){var l=He.apply(xe,arguments);if(0===l.length)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Qr(this,zr)}var h=l.reduce(function(H,oe){return H?H.concat([[H[H.length-1][1],oe]]):[[-1/0,oe]]},null);return h.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},ln.prototype.inAnyRange=function(Kt,h){var H=this,oe=this._cmp,Ee=this._ascending,Be=this._descending,tt=this._min,ht=this._max;if(0===Kt.length)return Bi(this);if(!Kt.every(function(jt){return void 0!==jt[0]&&void 0!==jt[1]&&Ee(jt[0],jt[1])<=0}))return Qr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Le.InvalidArgument);var dt,Tt=!h||!1!==h.includeLowers,Rt=h&&!0===h.includeUppers,rt=Ee;function Ct(jt,Zt){return rt(jt[0],Zt[0])}try{(dt=Kt.reduce(function(jt,Zt){for(var an=0,dn=jt.length;an<dn;++an){var bn=jt[an];if(oe(Zt[0],bn[1])<0&&0<oe(Zt[1],bn[0])){bn[0]=tt(bn[0],Zt[0]),bn[1]=ht(bn[1],Zt[1]);break}}return an===dn&&jt.push(Zt),jt},[])).sort(Ct)}catch{return Qr(this,zr)}var yt=0,At=Rt?function(jt){return 0<Ee(jt,dt[yt][1])}:function(jt){return 0<=Ee(jt,dt[yt][1])},Nt=Tt?function(jt){return 0<Be(jt,dt[yt][0])}:function(jt){return 0<=Be(jt,dt[yt][0])},Ot=At;return(Kt=new this.Collection(this,function(){return wt(dt[0][0],dt[dt.length-1][1],!Tt,!Rt)}))._ondirectionchange=function(jt){rt="next"===jt?(Ot=At,Ee):(Ot=Nt,Be),dt.sort(Ct)},Kt._addAlgorithm(function(jt,Zt,an){for(var dn,bn=jt.key;Ot(bn);)if(++yt===dt.length)return Zt(an),!1;return!At(dn=bn)&&!Nt(dn)||(0===H._cmp(bn,dt[yt][1])||0===H._cmp(bn,dt[yt][0])||Zt(function(){jt.continue(rt===Ee?dt[yt][0]:dt[yt][1])}),!1)}),Kt},ln.prototype.startsWithAnyOf=function(){var l=He.apply(xe,arguments);return l.every(function(h){return"string"==typeof h})?0===l.length?Bi(this):this.inAnyRange(l.map(function(h){return[h,h+"\uffff"]})):Qr(this,"startsWithAnyOf() only works with strings")},ln);function ln(){}function ie(l){return sn(function(h){return Je(h),l(h.target.error),!1})}function Je(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var we="storagemutated",Ue="x-storagemutated-1",pt=jr(null,we),Xt=(nn.prototype._lock=function(){return p(!ut.global),++this._reculock,1!==this._reculock||ut.global||(ut.lockOwnerFor=this),this},nn.prototype._unlock=function(){if(p(!ut.global),0==--this._reculock)for(ut.global||(ut.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Cr(l[1],l[0])}catch{}}return this},nn.prototype._locked=function(){return this._reculock&&ut.lockOwnerFor!==this},nn.prototype.create=function(l){var h=this;if(!this.mode)return this;var H=this.db.idbdb,oe=this.db._state.dbOpenError;if(p(!this.idbtrans),!l&&!H)switch(oe&&oe.name){case"DatabaseClosedError":throw new Le.DatabaseClosed(oe);case"MissingAPIError":throw new Le.MissingAPI(oe.message,oe);default:throw new Le.OpenFailed(oe)}if(!this.active)throw new Le.TransactionInactive;return p(null===this._completion._state),(l=this.idbtrans=l||(this.db.core||H).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=sn(function(Ee){Je(Ee),h._reject(l.error)}),l.onabort=sn(function(Ee){Je(Ee),h.active&&h._reject(new Le.Abort(l.error)),h.active=!1,h.on("abort").fire(Ee)}),l.oncomplete=sn(function(){h.active=!1,h._resolve(),"mutatedParts"in l&&pt.storagemutated.fire(l.mutatedParts)}),this},nn.prototype._promise=function(l,h,H){var oe=this;if("readwrite"===l&&"readwrite"!==this.mode)return wr(new Le.ReadOnly("Transaction is readonly"));if(!this.active)return wr(new Le.TransactionInactive);if(this._locked())return new Lt(function(Be,tt){oe._blockedFuncs.push([function(){oe._promise(l,h,H).then(Be,tt)},ut])});if(H)return br(function(){var Be=new Lt(function(tt,ht){oe._lock();var Tt=h(tt,ht,oe);Tt&&Tt.then&&Tt.then(tt,ht)});return Be.finally(function(){return oe._unlock()}),Be._lib=!0,Be});var Ee=new Lt(function(Be,tt){var ht=h(Be,tt,oe);ht&&ht.then&&ht.then(Be,tt)});return Ee._lib=!0,Ee},nn.prototype._root=function(){return this.parent?this.parent._root():this},nn.prototype.waitFor=function(l){var h,H=this._root(),oe=Lt.resolve(l);H._waitingFor?H._waitingFor=H._waitingFor.then(function(){return oe}):(H._waitingFor=oe,H._waitingQueue=[],h=H.idbtrans.objectStore(H.storeNames[0]),function Be(){for(++H._spinCount;H._waitingQueue.length;)H._waitingQueue.shift()();H._waitingFor&&(h.get(-1/0).onsuccess=Be)}());var Ee=H._waitingFor;return new Lt(function(Be,tt){oe.then(function(ht){return H._waitingQueue.push(sn(Be.bind(null,ht)))},function(ht){return H._waitingQueue.push(sn(tt.bind(null,ht)))}).finally(function(){H._waitingFor===Ee&&(H._waitingFor=null)})})},nn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Le.Abort))},nn.prototype.table=function(l){var h=this._memoizedTables||(this._memoizedTables={});if(_(h,l))return h[l];var H=this.schema[l];if(!H)throw new Le.NotFound("Table "+l+" not part of transaction");return(H=new this.db.Table(l,H,this)).core=this.db.core.table(l),h[l]=H},nn);function nn(){}function Pn(l,h,H,oe,Ee,Be,tt){return{name:l,keyPath:h,unique:H,multi:oe,auto:Ee,compound:Be,src:(H&&!tt?"&":"")+(oe?"*":"")+(Ee?"++":"")+sr(h)}}function sr(l){return"string"==typeof l?l:l?"["+[].join.call(l,"+")+"]":""}function Dr(l,h,H){return{name:l,primKey:h,indexes:H,mappedClass:null,idxByName:(oe=function(Ee){return[Ee.name,Ee]},H.reduce(function(Ee,Be,tt){return(tt=oe(Be))&&(Ee[tt[0]]=tt[1]),Ee},{}))};var oe}var er=function(l){try{return l.only([[]]),er=function(){return[[]]},[[]]}catch{return er=function(){return"\uffff"},"\uffff"}};function nr(l){return null==l?function(){}:"string"==typeof l?1===(h=l).split(".").length?function(H){return H[h]}:function(H){return T(H,h)}:function(H){return T(H,l)};var h}function Yn(l){return[].slice.call(l)}var ar=0;function mr(l){return null==l?":id":"string"==typeof l?l:"[".concat(l.join("+"),"]")}function Ri(l,h,Tt){function oe(Ot){if(3===Ot.type)return null;if(4===Ot.type)throw new Error("Cannot convert never type to IDBKeyRange");var yt=Ot.lower,At=Ot.upper,Nt=Ot.lowerOpen;return Ot=Ot.upperOpen,void 0===yt?void 0===At?null:h.upperBound(At,!!Ot):void 0===At?h.lowerBound(yt,!!Nt):h.bound(yt,At,!!Nt,!!Ot)}var Be,tt,ht,Rt=(tt=Tt,ht=Yn((Be=l).objectStoreNames),dt={schema:{name:Be.name,tables:ht.map(function(Ct){return tt.objectStore(Ct)}).map(function(Ct){var yt=Ct.keyPath,Ot=Ct.autoIncrement,At=D(yt),Nt={};return Ot={name:Ct.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==yt,compound:At,keyPath:yt,autoIncrement:Ot,unique:!0,extractKey:nr(yt)},indexes:Yn(Ct.indexNames).map(function(Kt){return Ct.index(Kt)}).map(function(an){var Zt=an.unique,dn=an.multiEntry;return dn={name:an.name,compound:D(an=an.keyPath),keyPath:an,unique:Zt,multiEntry:dn,extractKey:nr(an)},Nt[mr(an)]=dn}),getIndexByKeyPath:function(Kt){return Nt[mr(Kt)]}},Nt[":id"]=Ot.primaryKey,null!=yt&&(Nt[mr(yt)]=Ot.primaryKey),Ot})},hasGetAll:0<ht.length&&"getAll"in tt.objectStore(ht[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,dt=(Tt=dt.schema).tables.map(function Ee(Ct){var yt,At=Ct.name;return{name:At,schema:Ct,mutate:function(Nt){var Ot=Nt.trans,Kt=Nt.type,jt=Nt.keys,Zt=Nt.values,an=Nt.range;return new Promise(function(dn,bn){dn=sn(dn);var mn=Ot.objectStore(At),Cn=null==mn.keyPath,Sn="put"===Kt||"add"===Kt;if(!Sn&&"delete"!==Kt&&"deleteRange"!==Kt)throw new Error("Invalid operation type: "+Kt);var An,$n=(jt||Zt||{length:1}).length;if(jt&&Zt&&jt.length!==Zt.length)throw new Error("Given keys array must have same length as given values array.");if(0===$n)return dn({numFailures:0,failures:{},results:[],lastResult:void 0});function lr(Wi){++Li,Je(Wi)}var gr=[],pr=[],Li=0;if("deleteRange"===Kt){if(4===an.type)return dn({numFailures:Li,failures:pr,results:[],lastResult:void 0});gr.push(An=3===an.type?mn.clear():mn.delete(oe(an)))}else{var rr=(Cn=Sn?Cn?[Zt,jt]:[Zt,null]:[jt,null])[0],Si=Cn[1];if(Sn)for(var Fi=0;Fi<$n;++Fi)gr.push(An=Si&&void 0!==Si[Fi]?mn[Kt](rr[Fi],Si[Fi]):mn[Kt](rr[Fi])),An.onerror=lr;else for(Fi=0;Fi<$n;++Fi)gr.push(An=mn[Kt](rr[Fi])),An.onerror=lr}function Ao(Wi){Wi=Wi.target.result,gr.forEach(function(Eo,ko){return null!=Eo.error&&(pr[ko]=Eo.error)}),dn({numFailures:Li,failures:pr,results:"delete"===Kt?jt:gr.map(function(Eo){return Eo.result}),lastResult:Wi})}An.onerror=function(Wi){lr(Wi),Ao(Wi)},An.onsuccess=Ao})},getMany:function(Nt){var Ot=Nt.trans,Kt=Nt.keys;return new Promise(function(jt,Zt){jt=sn(jt);for(var an,dn=Ot.objectStore(At),bn=Kt.length,mn=new Array(bn),Cn=0,Sn=0,An=function(gr){mn[(gr=gr.target)._pos]=gr.result,++Sn===Cn&&jt(mn)},$n=ie(Zt),lr=0;lr<bn;++lr)null!=Kt[lr]&&((an=dn.get(Kt[lr]))._pos=lr,an.onsuccess=An,an.onerror=$n,++Cn);0===Cn&&jt(mn)})},get:function(Nt){var Ot=Nt.trans,Kt=Nt.key;return new Promise(function(jt,Zt){jt=sn(jt);var an=Ot.objectStore(At).get(Kt);an.onsuccess=function(dn){return jt(dn.target.result)},an.onerror=ie(Zt)})},query:(yt=Rt,function(Nt){return new Promise(function(Ot,Kt){Ot=sn(Ot);var jt,Zt,an,dn=Nt.values,bn=Nt.limit,mn=bn===1/0?void 0:bn,Sn=(An=Nt.query).index,An=An.range,Cn=(Cn=Nt.trans).objectStore(At);if(Sn=Sn.isPrimaryKey?Cn:Cn.index(Sn.name),An=oe(An),0===bn)return Ot({result:[]});yt?((mn=dn?Sn.getAll(An,mn):Sn.getAllKeys(An,mn)).onsuccess=function($n){return Ot({result:$n.target.result})},mn.onerror=ie(Kt)):(jt=0,Zt=!dn&&"openKeyCursor"in Sn?Sn.openKeyCursor(An):Sn.openCursor(An),an=[],Zt.onsuccess=function($n){var lr=Zt.result;return lr?(an.push(dn?lr.value:lr.primaryKey),++jt===bn?Ot({result:an}):void lr.continue()):Ot({result:an})},Zt.onerror=ie(Kt))})}),openCursor:function(Nt){var Ot=Nt.trans,Kt=Nt.values,jt=Nt.query,Zt=Nt.reverse,an=Nt.unique;return new Promise(function(dn,bn){dn=sn(dn);var Sn=jt.index,mn=jt.range,Cn=Ot.objectStore(At),An=(Cn=Sn.isPrimaryKey?Cn:Cn.index(Sn.name),Sn=Zt?an?"prevunique":"prev":an?"nextunique":"next",!Kt&&"openKeyCursor"in Cn?Cn.openKeyCursor(oe(mn),Sn):Cn.openCursor(oe(mn),Sn));An.onerror=ie(bn),An.onsuccess=sn(function($n){var lr,gr,pr,Li,rr=An.result;rr?(rr.___id=++ar,rr.done=!1,lr=rr.continue.bind(rr),gr=(gr=rr.continuePrimaryKey)&&gr.bind(rr),pr=rr.advance.bind(rr),Li=function(){throw new Error("Cursor not stopped")},rr.trans=Ot,rr.stop=rr.continue=rr.continuePrimaryKey=rr.advance=function(){throw new Error("Cursor not started")},rr.fail=sn(bn),rr.next=function(){var Si=this,Fi=1;return this.start(function(){return Fi--?Si.continue():Si.stop()}).then(function(){return Si})},rr.start=function(Si){function Fi(){if(An.result)try{Si()}catch(Wi){rr.fail(Wi)}else rr.done=!0,rr.start=function(){throw new Error("Cursor behind last entry")},rr.stop()}var Ao=new Promise(function(Wi,Eo){Wi=sn(Wi),An.onerror=ie(Eo),rr.fail=Eo,rr.stop=function(ko){rr.stop=rr.continue=rr.continuePrimaryKey=rr.advance=Li,Wi(ko)}});return An.onsuccess=sn(function(Wi){An.onsuccess=Fi,Fi()}),rr.continue=lr,rr.continuePrimaryKey=gr,rr.advance=pr,Fi(),Ao},dn(rr)):dn(null)},bn)})},count:function(Nt){var Ot=Nt.query,Kt=Nt.trans,jt=Ot.index,Zt=Ot.range;return new Promise(function(an,dn){var bn=Kt.objectStore(At),mn=jt.isPrimaryKey?bn:bn.index(jt.name);(mn=(bn=oe(Zt))?mn.count(bn):mn.count()).onsuccess=sn(function(Cn){return an(Cn.target.result)}),mn.onerror=ie(dn)})}}}),rt={};return dt.forEach(function(Ct){return rt[Ct.name]=Ct}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(Ct){if(!rt[Ct])throw new Error("Table '".concat(Ct,"' not found"));return rt[Ct]},MIN_KEY:-1/0,MAX_KEY:er(h),schema:Tt}}function si(l,oe){oe=function ki(l,h,H,oe){return{dbcore:(oe=Ri(h,H.IDBKeyRange,oe),l.dbcore.reduce(function(Be,tt){return tt=tt.create,a(a({},Be),tt(Be))},oe))}}(l._middlewares,oe.db,l._deps,oe),l.core=oe.dbcore,l.tables.forEach(function(Ee){var Be=Ee.name;l.core.schema.tables.some(function(tt){return tt.name===Be})&&(Ee.core=l.core.table(Be),l[Be]instanceof l.Table&&(l[Be].core=Ee.core))})}function qr(l,h,H,oe){H.forEach(function(Ee){var Be=oe[Ee];h.forEach(function(tt){var ht=function Tt(Rt,dt){return I(Rt,dt)||(Rt=P(Rt))&&Tt(Rt,dt)}(tt,Ee);(!ht||"value"in ht&&void 0===ht.value)&&(tt===l.Transaction.prototype||tt instanceof l.Transaction?C(tt,Ee,{get:function(){return this.table(Ee)},set:function(Tt){W(this,Ee,{value:Tt,writable:!0,configurable:!0,enumerable:!0})}}):tt[Ee]=new l.Table(Ee,Be))})})}function vi(l,h){h.forEach(function(H){for(var oe in H)H[oe]instanceof l.Table&&delete H[oe]})}function ji(l,h){return l._cfg.version-h._cfg.version}function Zi(l,h){var H,oe={del:[],add:[],change:[]};for(H in l)h[H]||oe.del.push(H);for(H in h){var Ee=l[H],Be=h[H];if(Ee){var tt={name:H,def:Be,recreate:!1,del:[],add:[],change:[]};if(""+(Ee.primKey.keyPath||"")!=""+(Be.primKey.keyPath||"")||Ee.primKey.auto!==Be.primKey.auto)tt.recreate=!0,oe.change.push(tt);else{var ht=Ee.idxByName,Tt=Be.idxByName,Rt=void 0;for(Rt in ht)Tt[Rt]||tt.del.push(Rt);for(Rt in Tt){var dt=ht[Rt],rt=Tt[Rt];dt?dt.src!==rt.src&&tt.change.push(rt):tt.add.push(rt)}(0<tt.del.length||0<tt.add.length||0<tt.change.length)&&oe.change.push(tt)}}else oe.add.push([H,Be])}return oe}function zi(l,h,H,oe){var Ee=l.db.createObjectStore(h,H.keyPath?{keyPath:H.keyPath,autoIncrement:H.auto}:{autoIncrement:H.auto});return oe.forEach(function(Be){return ai(Ee,Be)}),Ee}function fo(l,h){d(l).forEach(function(H){h.db.objectStoreNames.contains(H)||(Ce&&console.debug("Dexie: Creating missing table",H),zi(h,H,l[H].primKey,l[H].indexes))})}function ai(l,h){l.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Gi(l,h,H){var oe={};return U(h.objectStoreNames,0).forEach(function(Ee){for(var Be=H.objectStore(Ee),tt=Pn(sr(Rt=Be.keyPath),Rt||"",!0,!1,!!Be.autoIncrement,Rt&&"string"!=typeof Rt,!0),ht=[],Tt=0;Tt<Be.indexNames.length;++Tt){var Rt=(dt=Be.index(Be.indexNames[Tt])).keyPath,dt=Pn(dt.name,Rt,!!dt.unique,!!dt.multiEntry,!1,Rt&&"string"!=typeof Rt,!1);ht.push(dt)}oe[Ee]=Dr(Ee,tt,ht)}),oe}function vo(l,h,H){for(var oe=H.db.objectStoreNames,Ee=0;Ee<oe.length;++Ee){var Be=oe[Ee],tt=H.objectStore(Be);l._hasGetAll="getAll"in tt;for(var ht=0;ht<tt.indexNames.length;++ht){var Tt=tt.indexNames[ht],Rt=tt.index(Tt).keyPath,dt="string"==typeof Rt?Rt:"["+U(Rt).join("+")+"]";!h[Be]||(Rt=h[Be].idxByName[dt])&&(Rt.name=Tt,delete h[Be].idxByName[dt],h[Be].idxByName[Tt]=Rt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Ji(l){return l.split(",").map(function(h,H){var oe=(h=h.trim()).replace(/([&*]|\+\+)/g,""),Ee=/^\[/.test(oe)?oe.match(/^\[(.*)\]$/)[1].split("+"):oe;return Pn(oe,Ee||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),D(Ee),0===H)})}var to=(Ki.prototype._parseStoresSpec=function(l,h){d(l).forEach(function(H){if(null!==l[H]){var oe=Ji(l[H]),Ee=oe.shift();if(Ee.unique=!0,Ee.multi)throw new Le.Schema("Primary key cannot be multi-valued");oe.forEach(function(Be){if(Be.auto)throw new Le.Schema("Only primary key can be marked as autoIncrement (++)");if(!Be.keyPath)throw new Le.Schema("Index must have a name and cannot be an empty string")}),h[H]=Dr(H,Ee,oe)}})},Ki.prototype.stores=function(H){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?$(this._cfg.storesSource,H):H;var oe={},Ee={};return(H=h._versions).forEach(function(Be){$(oe,Be._cfg.storesSource),Ee=Be._cfg.dbschema={},Be._parseStoresSpec(oe,Ee)}),h._dbSchema=Ee,vi(h,[h._allTables,h,h.Transaction.prototype]),qr(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],d(Ee),Ee),h._storeNames=d(Ee),this},Ki.prototype.upgrade=function(l){return this._cfg.contentUpgrade=Ne(this._cfg.contentUpgrade||De,l),this},Ki);function Ki(){}function so(l,h){var H=l._dbNamesDB;return H||(H=l._dbNamesDB=new Rn(hi,{addons:[],indexedDB:l,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),H.table("dbnames")}function ao(l){return l&&"function"==typeof l.databases}function no(l){return br(function(){return ut.letThrough=!0,l()})}function ho(l){return!("from"in l)}var ei=function(l,h){if(!this){var H=new ei;return l&&"d"in l&&$(H,l),H}$(this,arguments.length?{d:1,from:l,to:1<arguments.length?h:l}:{d:0})};function Qi(l,h,H){var oe=qt(h,H);if(!isNaN(oe)){if(0<oe)throw RangeError();if(ho(l))return $(l,{from:h,to:H,d:1});var Ee=l.l;if(oe=l.r,qt(H,l.from)<0)return Ee?Qi(Ee,h,H):l.l={from:h,to:H,d:1,l:null,r:null},ui(l);if(0<qt(h,l.to))return oe?Qi(oe,h,H):l.r={from:h,to:H,d:1,l:null,r:null},ui(l);qt(h,l.from)<0&&(l.from=h,l.l=null,l.d=oe?oe.d+1:1),0<qt(H,l.to)&&(l.to=H,l.r=null,l.d=l.l?l.l.d+1:1),H=!l.r,Ee&&!l.l&&uo(l,Ee),oe&&H&&uo(l,oe)}}function uo(l,h){ho(h)||function H(oe,Tt){var Be=Tt.from,tt=Tt.to,ht=Tt.l;Tt=Tt.r,Qi(oe,Be,tt),ht&&H(oe,ht),Tt&&H(oe,Tt)}(l,h)}function Ni(l,h){var H=Yi(h),oe=H.next();if(oe.done)return!1;for(var Ee=oe.value,Be=Yi(l),tt=Be.next(Ee.from),ht=tt.value;!oe.done&&!tt.done;){if(qt(ht.from,Ee.to)<=0&&0<=qt(ht.to,Ee.from))return!0;qt(Ee.from,ht.from)<0?Ee=(oe=H.next(ht.from)).value:ht=(tt=Be.next(Ee.from)).value}return!1}function Yi(l){var h=ho(l)?null:{s:0,n:l};return{next:function(H){for(var oe=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,oe)for(;h.n.l&&qt(H,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!oe||qt(H,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function ui(l){var h,H,oe=((null===(h=l.r)||void 0===h?void 0:h.d)||0)-((null===(H=l.l)||void 0===H?void 0:H.d)||0),Ee=1<oe?"r":oe<-1?"l":"";Ee&&(h="r"==Ee?"l":"r",H=a({},l),l.from=(oe=l[Ee]).from,l.to=oe.to,l[Ee]=oe[Ee],H[Ee]=oe[h],(l[h]=H).d=Se(H)),l.d=Se(l)}function Se(H){var h=H.r;return H=H.l,(h?H?Math.max(h.d,H.d):h.d:H?H.d:0)+1}function he(l,h){return d(h).forEach(function(H){l[H]?uo(l[H],h[H]):l[H]=function oe(Ee){var Be,tt,ht={};for(Be in Ee)_(Ee,Be)&&(ht[Be]=!(tt=Ee[Be])||"object"!=typeof tt||G.has(tt.constructor)?tt:oe(tt));return ht}(h[H])}),l}function be(l,h){return l.all||h.all||Object.keys(l).some(function(H){return h[H]&&Ni(h[H],l[H])})}b(ei.prototype,((Gn={add:function(l){return uo(this,l),this},addKey:function(l){return Qi(this,l,l),this},addKeys:function(l){var h=this;return l.forEach(function(H){return Qi(h,H,H)}),this},hasKey:function(l){var h=Yi(this).next(l).value;return h&&qt(h.from,l)<=0&&0<=qt(h.to,l)}})[Oe]=function(){return Yi(this)},Gn));var it={},xt={},Jt=!1;function hn(l){he(xt,l),Jt||(Jt=!0,setTimeout(function(){Jt=!1,Tn(xt,!(xt={}))},0))}function Tn(l,h){void 0===h&&(h=!1);var H=new Set;if(l.all)for(var oe=0,Ee=Object.values(it);oe<Ee.length;oe++)jn(tt=Ee[oe],l,H,h);else for(var Be in l){var tt,ht=/^idb\:\/\/(.*)\/(.*)\//.exec(Be);ht&&(Be=ht[1],ht=ht[2],(tt=it["idb://".concat(Be,"/").concat(ht)])&&jn(tt,l,H,h))}H.forEach(function(Tt){return Tt()})}function jn(l,h,H,oe){for(var Ee=[],Be=0,tt=Object.entries(l.queries.query);Be<tt.length;Be++){for(var ht=tt[Be],Tt=ht[0],Rt=[],dt=0,rt=ht[1];dt<rt.length;dt++){var Ct=rt[dt];be(h,Ct.obsSet)?Ct.subscribers.forEach(function(Ot){return H.add(Ot)}):oe&&Rt.push(Ct)}oe&&Ee.push([Tt,Rt])}if(oe)for(var yt=0,At=Ee;yt<At.length;yt++){var Nt=At[yt];l.queries.query[Tt=Nt[0]]=Rt=Nt[1]}}function Jn(l){var h=l._state,H=l._deps.indexedDB;if(h.isBeingOpened||l.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?wr(h.dbOpenError):l});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var oe=h.openCanceller,Ee=Math.round(10*l.verno),Be=!1;function tt(){if(h.openCanceller!==oe)throw new Le.DatabaseClosed("db.open() was cancelled")}var Tt,Rt=h.dbReadyResolve,dt=null,rt=!1;return Lt.race([oe,(typeof navigator>"u"?Lt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ct){function yt(){return indexedDB.databases().finally(Ct)}Tt=setInterval(yt,100),yt()}).finally(function(){return clearInterval(Tt)}):Promise.resolve()).then(function ht(){return new Lt(function(Ct,yt){if(tt(),!H)throw new Le.MissingAPI;var At=l.name,Nt=h.autoSchema||!Ee?H.open(At):H.open(At,Ee);if(!Nt)throw new Le.MissingAPI;Nt.onerror=ie(yt),Nt.onblocked=sn(l._fireOnBlocked),Nt.onupgradeneeded=sn(function(Ot){var Kt;dt=Nt.transaction,h.autoSchema&&!l._options.allowEmptyDB?(Nt.onerror=Je,dt.abort(),Nt.result.close(),(Kt=H.deleteDatabase(At)).onsuccess=Kt.onerror=sn(function(){yt(new Le.NoSuchDatabase("Database ".concat(At," doesnt exist")))})):(dt.onerror=ie(yt),Ot=Ot.oldVersion>Math.pow(2,62)?0:Ot.oldVersion,rt=Ot<1,l.idbdb=Nt.result,Be&&function oo(l,h){fo(l._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var H=Gi(0,l.idbdb,h);vo(l,l._dbSchema,h);for(var oe=0,Ee=Zi(H,l._dbSchema).change;oe<Ee.length;oe++){var Be=function(tt){if(tt.change.length||tt.recreate)return console.warn("Unable to patch indexes of table ".concat(tt.name," because it has changes on the type of index or primary key.")),{value:void 0};var ht=h.objectStore(tt.name);tt.add.forEach(function(Tt){Ce&&console.debug("Dexie upgrade patch: Creating missing index ".concat(tt.name,".").concat(Tt.src)),ai(ht,Tt)})}(Ee[oe]);if("object"==typeof Be)return Be.value}}(l,dt),function Ui(l,h,H,oe){var Ee=l._dbSchema;H.objectStoreNames.contains("$meta")&&!Ee.$meta&&(Ee.$meta=Dr("$meta",Ji("")[0],[]),l._storeNames.push("$meta"));var Be=l._createTransaction("readwrite",l._storeNames,Ee);Be.create(H),Be._completion.catch(oe);var tt=Be._reject.bind(Be),ht=ut.transless||ut;br(function(){return ut.trans=Be,ut.transless=ht,0!==h?(si(l,H),Rt=h,((Tt=Be).storeNames.includes("$meta")?Tt.table("$meta").get("version").then(function(dt){return dt??Rt}):Lt.resolve(Rt)).then(function(dt){return Ct=dt,yt=Be,Nt=[],dt=(rt=l)._versions,Ot=rt._dbSchema=Gi(0,rt.idbdb,At=H),0!==(dt=dt.filter(function(Kt){return Kt._cfg.version>=Ct})).length?(dt.forEach(function(Kt){Nt.push(function(){var jt=Ot,Zt=Kt._cfg.dbschema;vo(rt,jt,At),vo(rt,Zt,At),Ot=rt._dbSchema=Zt;var an=Zi(jt,Zt);an.add.forEach(function(Sn){zi(At,Sn[0],Sn[1].primKey,Sn[1].indexes)}),an.change.forEach(function(Sn){if(Sn.recreate)throw new Le.Upgrade("Not yet support for changing primary key");var An=At.objectStore(Sn.name);Sn.add.forEach(function($n){return ai(An,$n)}),Sn.change.forEach(function($n){An.deleteIndex($n.name),ai(An,$n)}),Sn.del.forEach(function($n){return An.deleteIndex($n)})});var dn=Kt._cfg.contentUpgrade;if(dn&&Kt._cfg.version>Ct){si(rt,At),yt._memoizedTables={};var bn=V(Zt);an.del.forEach(function(Sn){bn[Sn]=jt[Sn]}),vi(rt,[rt.Transaction.prototype]),qr(rt,[rt.Transaction.prototype],d(bn),bn),yt.schema=bn;var mn,Cn=et(dn);return Cn&&Kr(),an=Lt.follow(function(){var Sn;(mn=dn(yt))&&Cn&&(Sn=kr.bind(null,null),mn.then(Sn,Sn))}),mn&&"function"==typeof mn.then?Lt.resolve(mn):an.then(function(){return mn})}}),Nt.push(function(jt){var Zt,an;Zt=Kt._cfg.dbschema,[].slice.call((an=jt).db.objectStoreNames).forEach(function(bn){return null==Zt[bn]&&an.db.deleteObjectStore(bn)}),vi(rt,[rt.Transaction.prototype]),qr(rt,[rt.Transaction.prototype],rt._storeNames,rt._dbSchema),yt.schema=rt._dbSchema}),Nt.push(function(jt){rt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(rt.idbdb.version/10)===Kt._cfg.version?(rt.idbdb.deleteObjectStore("$meta"),delete rt._dbSchema.$meta,rt._storeNames=rt._storeNames.filter(function(Zt){return"$meta"!==Zt})):jt.objectStore("$meta").put(Kt._cfg.version,"version"))})}),function Kt(){return Nt.length?Lt.resolve(Nt.shift()(yt.idbtrans)).then(Kt):Lt.resolve()}().then(function(){fo(Ot,At)})):Lt.resolve();var rt,Ct,yt,At,Nt,Ot}).catch(tt)):(d(Ee).forEach(function(dt){zi(H,dt,Ee[dt].primKey,Ee[dt].indexes)}),si(l,H),void Lt.follow(function(){return l.on.populate.fire(Be)}).catch(tt));var Tt,Rt})}(l,Ot/10,dt,yt))},yt),Nt.onsuccess=sn(function(){dt=null;var Ot,Kt,jt,Zt,an,dn=l.idbdb=Nt.result,bn=U(dn.objectStoreNames);if(0<bn.length)try{var mn=dn.transaction(1===(Zt=bn).length?Zt[0]:Zt,"readonly");if(h.autoSchema)jt=mn,(Ot=l).verno=(Kt=dn).version/10,jt=Ot._dbSchema=Gi(0,Kt,jt),Ot._storeNames=U(Kt.objectStoreNames,0),qr(Ot,[Ot._allTables],d(jt),jt);else if(vo(l,l._dbSchema,mn),((an=Zi(Gi(0,(an=l).idbdb,mn),an._dbSchema)).add.length||an.change.some(function(Cn){return Cn.add.length||Cn.change.length}))&&!Be)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),dn.close(),Ee=dn.version+1,Be=!0,Ct(ht());si(l,mn)}catch{}gi.push(l),dn.onversionchange=sn(function(Cn){h.vcFired=!0,l.on("versionchange").fire(Cn)}),dn.onclose=sn(function(Cn){l.on("close").fire(Cn)}),rt&&(mn=At,dn=(an=l._deps).indexedDB,an=an.IDBKeyRange,ao(dn)||mn===hi||so(dn,an).put({name:mn}).catch(De)),Ct()},yt)}).catch(function(Ct){switch(Ct?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ht();break;case"VersionError":if(0<Ee)return Ee=0,ht()}return Lt.reject(Ct)})})]).then(function(){return tt(),h.onReadyBeingFired=[],Lt.resolve(no(function(){return l.on.ready.fire(l.vip)})).then(function Ct(){if(0<h.onReadyBeingFired.length){var yt=h.onReadyBeingFired.reduce(Ne,De);return h.onReadyBeingFired=[],Lt.resolve(no(function(){return yt(l.vip)})).then(Ct)}})}).finally(function(){h.openCanceller===oe&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(Ct){h.dbOpenError=Ct;try{dt&&dt.abort()}catch{}return oe===h.openCanceller&&l._close(),wr(Ct)}).finally(function(){h.openComplete=!0,Rt()}).then(function(){var Ct;return rt&&(Ct={},l.tables.forEach(function(yt){yt.schema.indexes.forEach(function(At){At.name&&(Ct["idb://".concat(l.name,"/").concat(yt.name,"/").concat(At.name)]=new ei(-1/0,[[[]]]))}),Ct["idb://".concat(l.name,"/").concat(yt.name,"/")]=Ct["idb://".concat(l.name,"/").concat(yt.name,"/:dels")]=new ei(-1/0,[[[]]])}),pt(we).fire(Ct),Tn(Ct,!0)),l})}function cr(l){function h(Be){return l.next(Be)}var H=Ee(h),oe=Ee(function(Be){return l.throw(Be)});function Ee(Be){return function(Tt){var ht=Be(Tt);return Tt=ht.value,ht.done?Tt:Tt&&"function"==typeof Tt.then?Tt.then(H,oe):D(Tt)?Promise.all(Tt).then(H,oe):H(Tt)}}return Ee(h)()}function Wn(l,h,H){for(var oe=D(l)?l.slice():[l],Ee=0;Ee<H;++Ee)oe.push(h);return oe}var Sr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return a(a({},l),{table:function(h){var H=l.table(h),oe=H.schema,Ee={},Be=[];function tt(rt,Ct,yt){var At=mr(rt),Nt=Ee[At]=Ee[At]||[],Ot=null==rt?0:"string"==typeof rt?1:rt.length,Kt=0<Ct;return Kt=a(a({},yt),{name:Kt?"".concat(At,"(virtual-from:").concat(yt.name,")"):yt.name,lowLevelIndex:yt,isVirtual:Kt,keyTail:Ct,keyLength:Ot,extractKey:nr(rt),unique:!Kt&&yt.unique}),Nt.push(Kt),Kt.isPrimaryKey||Be.push(Kt),1<Ot&&tt(2===Ot?rt[0]:rt.slice(0,Ot-1),Ct+1,yt),Nt.sort(function(jt,Zt){return jt.keyTail-Zt.keyTail}),Kt}h=tt(oe.primaryKey.keyPath,0,oe.primaryKey),Ee[":id"]=[h];for(var ht=0,Tt=oe.indexes;ht<Tt.length;ht++){var Rt=Tt[ht];tt(Rt.keyPath,0,Rt)}function dt(rt){var Ct,yt=rt.query.index;return yt.isVirtual?a(a({},rt),{query:{index:yt.lowLevelIndex,range:(Ct=rt.query.range,yt=yt.keyTail,{type:1===Ct.type?2:Ct.type,lower:Wn(Ct.lower,Ct.lowerOpen?l.MAX_KEY:l.MIN_KEY,yt),lowerOpen:!0,upper:Wn(Ct.upper,Ct.upperOpen?l.MIN_KEY:l.MAX_KEY,yt),upperOpen:!0})}}):rt}return a(a({},H),{schema:a(a({},oe),{primaryKey:h,indexes:Be,getIndexByKeyPath:function(rt){return(rt=Ee[mr(rt)])&&rt[0]}}),count:function(rt){return H.count(dt(rt))},query:function(rt){return H.query(dt(rt))},openCursor:function(rt){var Ct=rt.query.index,yt=Ct.keyTail,Nt=Ct.keyLength;return Ct.isVirtual?H.openCursor(dt(rt)).then(function(Kt){return Kt&&function Ot(Kt){return Object.create(Kt,{continue:{value:function(jt){null!=jt?Kt.continue(Wn(jt,rt.reverse?l.MAX_KEY:l.MIN_KEY,yt)):rt.unique?Kt.continue(Kt.key.slice(0,Nt).concat(rt.reverse?l.MIN_KEY:l.MAX_KEY,yt)):Kt.continue()}},continuePrimaryKey:{value:function(jt,Zt){Kt.continuePrimaryKey(Wn(jt,l.MAX_KEY,yt),Zt)}},primaryKey:{get:function(){return Kt.primaryKey}},key:{get:function(){var jt=Kt.key;return 1===Nt?jt[0]:jt.slice(0,Nt)}},value:{get:function(){return Kt.value}}})}(Kt)}):H.openCursor(rt)}})}})}};function Ar(l,h,H,oe){return H=H||{},oe=oe||"",d(l).forEach(function(Ee){var Be,tt,ht;_(h,Ee)?(tt=h[Ee],"object"==typeof(Be=l[Ee])&&"object"==typeof tt&&Be&&tt?(ht=ve(Be))!==ve(tt)?H[oe+Ee]=h[Ee]:"Object"===ht?Ar(Be,tt,H,oe+Ee+"."):Be!==tt&&(H[oe+Ee]=h[Ee]):Be!==tt&&(H[oe+Ee]=h[Ee])):H[oe+Ee]=void 0}),d(h).forEach(function(Ee){_(l,Ee)||(H[oe+Ee]=h[Ee])}),H}function Yr(l,h){return"delete"===h.type?h.keys:h.keys||h.values.map(l.extractKey)}var xi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return a(a({},l),{table:function(h){var H=l.table(h),oe=H.schema.primaryKey;return a(a({},H),{mutate:function(Ee){var Be=ut.trans,tt=Be.table(h).hook,ht=tt.deleting,Tt=tt.creating,Rt=tt.updating;switch(Ee.type){case"add":if(Tt.fire===De)break;return Be._promise("readwrite",function(){return dt(Ee)},!0);case"put":if(Tt.fire===De&&Rt.fire===De)break;return Be._promise("readwrite",function(){return dt(Ee)},!0);case"delete":if(ht.fire===De)break;return Be._promise("readwrite",function(){return dt(Ee)},!0);case"deleteRange":if(ht.fire===De)break;return Be._promise("readwrite",function(){return function rt(Ct,yt,At){return H.query({trans:Ct,values:!1,query:{index:oe,range:yt},limit:At}).then(function(Nt){var Ot=Nt.result;return dt({type:"delete",keys:Ot,trans:Ct}).then(function(Kt){return 0<Kt.numFailures?Promise.reject(Kt.failures[0]):Ot.length<At?{failures:[],numFailures:0,lastResult:void 0}:rt(Ct,a(a({},yt),{lower:Ot[Ot.length-1],lowerOpen:!0}),At)})})}(Ee.trans,Ee.range,1e4)},!0)}return H.mutate(Ee);function dt(rt){var Ct,yt,At,Nt=ut.trans,Ot=rt.keys||Yr(oe,rt);if(!Ot)throw new Error("Keys missing");return"delete"!==(rt="add"===rt.type||"put"===rt.type?a(a({},rt),{keys:Ot}):a({},rt)).type&&(rt.values=u([],rt.values,!0)),rt.keys&&(rt.keys=u([],rt.keys,!0)),Ct=H,At=Ot,("add"===(yt=rt).type?Promise.resolve([]):Ct.getMany({trans:yt.trans,keys:At,cache:"immutable"})).then(function(Kt){var jt=Ot.map(function(Zt,an){var dn,bn,mn,Cn=Kt[an],Sn={onerror:null,onsuccess:null};return"delete"===rt.type?ht.fire.call(Sn,Zt,Cn,Nt):"add"===rt.type||void 0===Cn?(dn=Tt.fire.call(Sn,Zt,rt.values[an],Nt),null==Zt&&null!=dn&&(rt.keys[an]=Zt=dn,oe.outbound||M(rt.values[an],oe.keyPath,Zt))):(dn=Ar(Cn,rt.values[an]),(bn=Rt.fire.call(Sn,dn,Zt,Cn,Nt))&&(mn=rt.values[an],Object.keys(bn).forEach(function(An){_(mn,An)?mn[An]=bn[An]:M(mn,An,bn[An])}))),Sn});return H.mutate(rt).then(function(Zt){for(var an=Zt.failures,dn=Zt.results,bn=Zt.numFailures,mn=(Zt=Zt.lastResult,0);mn<Ot.length;++mn){var Cn=(dn||Ot)[mn],Sn=jt[mn];null==Cn?Sn.onerror&&Sn.onerror(an[mn]):Sn.onsuccess&&Sn.onsuccess("put"===rt.type&&Kt[mn]?rt.values[mn]:Cn)}return{failures:an,results:dn,numFailures:bn,lastResult:Zt}}).catch(function(Zt){return jt.forEach(function(an){return an.onerror&&an.onerror(Zt)}),Promise.reject(Zt)})})}}})}})}};function wi(l,h,H){try{if(!h||h.keys.length<l.length)return null;for(var oe=[],Ee=0,Be=0;Ee<h.keys.length&&Be<l.length;++Ee)0===qt(h.keys[Ee],l[Be])&&(oe.push(H?ne(h.values[Ee]):h.values[Ee]),++Be);return oe.length===l.length?oe:null}catch{return null}}var co={stack:"dbcore",level:-1,create:function(l){return{table:function(h){var H=l.table(h);return a(a({},H),{getMany:function(oe){if(!oe.cache)return H.getMany(oe);var Ee=wi(oe.keys,oe.trans._cache,"clone"===oe.cache);return Ee?Lt.resolve(Ee):H.getMany(oe).then(function(Be){return oe.trans._cache={keys:oe.keys,values:"clone"===oe.cache?ne(Be):Be},Be})},mutate:function(oe){return"add"!==oe.type&&(oe.trans._cache=null),H.mutate(oe)}})}}}};function Ti(l,h){return"readonly"===l.trans.mode&&!!l.subscr&&!l.trans.explicit&&"disabled"!==l.trans.db._options.cache&&!h.schema.primaryKey.outbound}function Ve(l,h){switch(l){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var m={stack:"dbcore",level:0,name:"Observability",create:function(l){var h=l.schema.name,H=new ei(l.MIN_KEY,l.MAX_KEY);return a(a({},l),{transaction:function(oe,Ee,Be){if(ut.subscr&&"readonly"!==Ee)throw new Le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ut.querier));return l.transaction(oe,Ee,Be)},table:function(oe){var Ee=l.table(oe),Be=Ee.schema,tt=Be.primaryKey,rt=Be.indexes,ht=tt.extractKey,Tt=tt.outbound,Rt=tt.autoIncrement&&rt.filter(function(yt){return yt.compound&&yt.keyPath.includes(tt.keyPath)}),dt=a(a({},Ee),{mutate:function(yt){function At(An){return An="idb://".concat(h,"/").concat(oe,"/").concat(An),Zt[An]||(Zt[An]=new ei)}var Nt,Ot,Kt,jt=yt.trans,Zt=yt.mutatedParts||(yt.mutatedParts={}),an=At(""),dn=At(":dels"),bn=yt.type,mn=(Sn="deleteRange"===yt.type?[yt.range]:"delete"===yt.type?[yt.keys]:yt.values.length<50?[Yr(tt,yt).filter(function(An){return An}),yt.values]:[])[0],Cn=Sn[1],Sn=yt.trans._cache;return D(mn)?(an.addKeys(mn),(Sn="delete"===bn||mn.length===Cn.length?wi(mn,Sn):null)||dn.addKeys(mn),(Sn||Cn)&&(Nt=At,Ot=Sn,Kt=Cn,Be.indexes.forEach(function(An){var $n=Nt(An.name||"");function lr(pr){return null!=pr?An.extractKey(pr):null}function gr(pr){return An.multiEntry&&D(pr)?pr.forEach(function(Li){return $n.addKey(Li)}):$n.addKey(pr)}(Ot||Kt).forEach(function(pr,Si){var rr=Ot&&lr(Ot[Si]);0!==qt(rr,Si=Kt&&lr(Kt[Si]))&&(null!=rr&&gr(rr),null!=Si&&gr(Si))})}))):mn?(Cn={from:null!==(Cn=mn.lower)&&void 0!==Cn?Cn:l.MIN_KEY,to:null!==(Cn=mn.upper)&&void 0!==Cn?Cn:l.MAX_KEY},dn.add(Cn),an.add(Cn)):(an.add(H),dn.add(H),Be.indexes.forEach(function(An){return At(An.name).add(H)})),Ee.mutate(yt).then(function(An){return!mn||"add"!==yt.type&&"put"!==yt.type||(an.addKeys(An.results),Rt&&Rt.forEach(function($n){for(var lr=yt.values.map(function(rr){return $n.extractKey(rr)}),gr=$n.keyPath.findIndex(function(rr){return rr===tt.keyPath}),pr=0,Li=An.results.length;pr<Li;++pr)lr[pr][gr]=An.results[pr];At($n.name).addKeys(lr)})),jt.mutatedParts=he(jt.mutatedParts||{},Zt),An})}}),Ct={get:function(yt){return[tt,new ei(yt.key)]},getMany:function(yt){return[tt,(new ei).addKeys(yt.keys)]},count:rt=function(At){var Nt;return[At=(Nt=At.query).index,new ei(null!==(At=(Nt=Nt.range).lower)&&void 0!==At?At:l.MIN_KEY,null!==(Nt=Nt.upper)&&void 0!==Nt?Nt:l.MAX_KEY)]},query:rt,openCursor:rt};return d(Ct).forEach(function(yt){dt[yt]=function(At){var Ot=!!(Nt=ut.subscr),Kt=Ti(ut,Ee)&&Ve(yt,At)?At.obsSet={}:Nt;if(Ot){var jt=function(Cn){return Cn="idb://".concat(h,"/").concat(oe,"/").concat(Cn),Kt[Cn]||(Kt[Cn]=new ei)},Zt=jt(""),an=jt(":dels"),Nt=(Ot=(Nt=Ct[yt](At))[0],Nt[1]);if(("query"===yt&&Ot.isPrimaryKey&&!At.values?an:jt(Ot.name||"")).add(Nt),!Ot.isPrimaryKey){if("count"!==yt){var dn="query"===yt&&Tt&&At.values&&Ee.query(a(a({},At),{values:!1}));return Ee[yt].apply(this,arguments).then(function(Cn){if("query"===yt){if(Tt&&At.values)return dn.then(function(lr){return Zt.addKeys(lr=lr.result),Cn});var Sn=At.values?Cn.result.map(ht):Cn.result;(At.values?Zt:an).addKeys(Sn)}else if("openCursor"===yt){var An=Cn,$n=At.values;return An&&Object.create(An,{key:{get:function(){return an.addKey(An.primaryKey),An.key}},primaryKey:{get:function(){var lr=An.primaryKey;return an.addKey(lr),lr}},value:{get:function(){return $n&&Zt.addKey(An.primaryKey),An.value}}})}return Cn})}an.add(H)}}return Ee[yt].apply(this,arguments)}}),dt}})}};function R(l,h,H){return 0===H.numFailures?h:"deleteRange"===h.type||H.numFailures===(h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1)?null:(h=a({},h),D(h.keys)&&(h.keys=h.keys.filter(function(Ee,Be){return!(Be in H.failures)})),"values"in h&&D(h.values)&&(h.values=h.values.filter(function(Ee,Be){return!(Be in H.failures)})),h)}function ee(l,h){return H=l,(void 0===(oe=h).lower||(oe.lowerOpen?0<qt(H,oe.lower):0<=qt(H,oe.lower)))&&(void 0===h.upper||(h.upperOpen?qt(l,h.upper)<0:qt(l,h.upper)<=0));var H,oe}function Pe(l,h,Ct,oe,Ee,Be){if(!Ct||0===Ct.length)return l;var tt=h.query.index,ht=tt.multiEntry,Tt=h.query.range,Rt=oe.schema.primaryKey.extractKey,dt=tt.extractKey,rt=(tt.lowLevelIndex||tt).extractKey;return(Ct=Ct.reduce(function(yt,At){var Nt=yt,Ot=[];if("add"===At.type||"put"===At.type)for(var Kt=new ei,jt=At.values.length-1;0<=jt;--jt){var Zt,an=At.values[jt],dn=Rt(an);Kt.hasKey(dn)||(Zt=dt(an),(ht&&D(Zt)?Zt.some(function(An){return ee(An,Tt)}):ee(Zt,Tt))&&(Kt.addKey(dn),Ot.push(an)))}switch(At.type){case"add":var bn=(new ei).addKeys(h.values?yt.map(function($n){return Rt($n)}):yt);Nt=yt.concat(h.values?Ot.filter(function($n){return $n=Rt($n),!bn.hasKey($n)&&(bn.addKey($n),!0)}):Ot.map(function($n){return Rt($n)}).filter(function($n){return!bn.hasKey($n)&&(bn.addKey($n),!0)}));break;case"put":var mn=(new ei).addKeys(At.values.map(function($n){return Rt($n)}));Nt=yt.filter(function($n){return!mn.hasKey(h.values?Rt($n):$n)}).concat(h.values?Ot:Ot.map(function($n){return Rt($n)}));break;case"delete":var Cn=(new ei).addKeys(At.keys);Nt=yt.filter(function($n){return!Cn.hasKey(h.values?Rt($n):$n)});break;case"deleteRange":var Sn=At.range;Nt=yt.filter(function($n){return!ee(Rt($n),Sn)})}return Nt},l))===l?l:(Ct.sort(function(yt,At){return qt(rt(yt),rt(At))||qt(Rt(yt),Rt(At))}),h.limit&&h.limit<1/0&&(Ct.length>h.limit?Ct.length=h.limit:l.length===h.limit&&Ct.length<h.limit&&(Ee.dirty=!0)),Be?Object.freeze(Ct):Ct)}function qe(l,h){return 0===qt(l.lower,h.lower)&&0===qt(l.upper,h.upper)&&!!l.lowerOpen==!!h.lowerOpen&&!!l.upperOpen==!!h.upperOpen}var Ht={stack:"dbcore",level:0,name:"Cache",create:function(l){var h=l.schema.name;return a(a({},l),{transaction:function(H,oe,Ee){var Be,tt,ht=l.transaction(H,oe,Ee);return"readwrite"===oe&&(tt=(Be=new AbortController).signal,ht.addEventListener("abort",(Ee=function(Tt){return function(){if(Be.abort(),"readwrite"===oe){for(var Rt=new Set,dt=0,rt=H;dt<rt.length;dt++){var Ct=rt[dt],yt=it["idb://".concat(h,"/").concat(Ct)];if(yt){var At=l.table(Ct),Nt=yt.optimisticOps.filter(function($n){return $n.trans===ht});if(ht._explicit&&Tt&&ht.mutatedParts)for(var Ot=0,Kt=Object.values(yt.queries.query);Ot<Kt.length;Ot++)for(var jt=0,Zt=(bn=Kt[Ot]).slice();jt<Zt.length;jt++)be((mn=Zt[jt]).obsSet,ht.mutatedParts)&&(ge(bn,mn),mn.subscribers.forEach(function($n){return Rt.add($n)}));else if(0<Nt.length){yt.optimisticOps=yt.optimisticOps.filter(function($n){return $n.trans!==ht});for(var an=0,dn=Object.values(yt.queries.query);an<dn.length;an++)for(var bn,mn,Cn,Sn=0,An=(bn=dn[an]).slice();Sn<An.length;Sn++)null!=(mn=An[Sn]).res&&ht.mutatedParts&&(Tt&&!mn.dirty?(Cn=Object.isFrozen(mn.res),Cn=Pe(mn.res,mn.req,Nt,At,mn,Cn),mn.dirty?(ge(bn,mn),mn.subscribers.forEach(function($n){return Rt.add($n)})):Cn!==mn.res&&(mn.res=Cn,mn.promise=Lt.resolve({result:Cn}))):(mn.dirty&&ge(bn,mn),mn.subscribers.forEach(function($n){return Rt.add($n)})))}}}Rt.forEach(function($n){return $n()})}}})(!1),{signal:tt}),ht.addEventListener("error",Ee(!1),{signal:tt}),ht.addEventListener("complete",Ee(!0),{signal:tt})),ht},table:function(H){var oe=l.table(H),Ee=oe.schema.primaryKey;return a(a({},oe),{mutate:function(Be){var tt=ut.trans;if(Ee.outbound||"disabled"===tt.db._options.cache||tt.explicit||"readwrite"!==tt.idbtrans.mode)return oe.mutate(Be);var ht=it["idb://".concat(h,"/").concat(H)];return ht?(tt=oe.mutate(Be),"add"!==Be.type&&"put"!==Be.type||!(50<=Be.values.length||Yr(Ee,Be).some(function(Tt){return null==Tt}))?(ht.optimisticOps.push(Be),Be.mutatedParts&&hn(Be.mutatedParts),tt.then(function(Tt){0<Tt.numFailures&&(ge(ht.optimisticOps,Be),(Tt=R(0,Be,Tt))&&ht.optimisticOps.push(Tt),Be.mutatedParts&&hn(Be.mutatedParts))}),tt.catch(function(){ge(ht.optimisticOps,Be),Be.mutatedParts&&hn(Be.mutatedParts)})):tt.then(function(Tt){var Rt=R(0,a(a({},Be),{values:Be.values.map(function(dt,rt){var Ct;return Tt.failures[rt]||M(dt=null!==(Ct=Ee.keyPath)&&void 0!==Ct&&Ct.includes(".")?ne(dt):a({},dt),Ee.keyPath,Tt.results[rt]),dt})}),Tt);ht.optimisticOps.push(Rt),queueMicrotask(function(){return Be.mutatedParts&&hn(Be.mutatedParts)})}),tt):oe.mutate(Be)},query:function(Be){if(!Ti(ut,oe)||!Ve("query",Be))return oe.query(Be);var tt="immutable"===(null===(Rt=ut.trans)||void 0===Rt?void 0:Rt.db._options.cache),ht=(rt=ut).requery,Tt=rt.signal,Rt=function(At,Nt,Ot,Kt){var jt=it["idb://".concat(At,"/").concat(Nt)];if(!jt)return[];if(!(Nt=jt.queries.query))return[null,!1,jt,null];var Zt=Nt[(Kt.query?Kt.query.index.name:null)||""];if(!Zt)return[null,!1,jt,null];var an=Zt.find(function(dn){return dn.req.limit===Kt.limit&&dn.req.values===Kt.values&&qe(dn.req.query.range,Kt.query.range)});return an?[an,!0,jt,Zt]:[Zt.find(function(dn){return("limit"in dn.req?dn.req.limit:1/0)>=Kt.limit&&(!Kt.values||dn.req.values)&&function gt(l,h){return function(H,oe,Ee,Be){if(void 0===H)return void 0!==oe?-1:0;if(void 0===oe)return 1;if(0===(oe=qt(H,oe))){if(Ee&&Be)return 0;if(Ee)return 1;if(Be)return-1}return oe}(l.lower,h.lower,l.lowerOpen,h.lowerOpen)<=0&&0<=function(H,oe,Ee,Be){if(void 0===H)return void 0!==oe?1:0;if(void 0===oe)return-1;if(0===(oe=qt(H,oe))){if(Ee&&Be)return 0;if(Ee)return-1;if(Be)return 1}return oe}(l.upper,h.upper,l.upperOpen,h.upperOpen)}(dn.req.query.range,Kt.query.range)}),!1,jt,Zt]}(h,H,0,Be),dt=Rt[0],rt=Rt[1],Ct=Rt[2],yt=Rt[3];return dt&&rt?dt.obsSet=Be.obsSet:(rt=oe.query(Be).then(function(At){var Nt=At.result;if(dt&&(dt.res=Nt),tt){for(var Ot=0,Kt=Nt.length;Ot<Kt;++Ot)Object.freeze(Nt[Ot]);Object.freeze(Nt)}else At.result=ne(Nt);return At}).catch(function(At){return yt&&dt&&ge(yt,dt),Promise.reject(At)}),dt={obsSet:Be.obsSet,promise:rt,subscribers:new Set,type:"query",req:Be,dirty:!1},yt?yt.push(dt):(yt=[dt],(Ct=Ct||(it["idb://".concat(h,"/").concat(H)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Be.query.index.name||""]=yt)),function It(l,h,H,oe){l.subscribers.add(H),oe.addEventListener("abort",function(){var Ee,Be;l.subscribers.delete(H),0===l.subscribers.size&&(Ee=l,Be=h,setTimeout(function(){0===Ee.subscribers.size&&ge(Be,Ee)},3e3))})}(dt,yt,ht,Tt),dt.promise.then(function(At){return{result:Pe(At.result,Be,Ct?.optimisticOps,oe,dt,tt)}})}})}})}};function en(l,h){return new Proxy(l,{get:function(H,oe,Ee){return"db"===oe?h:Reflect.get(H,oe,Ee)}})}var Rn=(Mn.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Le.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var h=this._versions,H=h.filter(function(oe){return oe._cfg.version===l})[0];return H||(H=new this.Version(l),h.push(H),h.sort(ji),H.stores({}),this._state.autoSchema=!1,H)},Mn.prototype._whenReady=function(l){var h=this;return this.idbdb&&(this._state.openComplete||ut.letThrough||this._vip)?l():new Lt(function(H,oe){if(h._state.openComplete)return oe(new Le.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void oe(new Le.DatabaseClosed);h.open().catch(De)}h._state.dbReadyPromise.then(H,oe)}).then(l)},Mn.prototype.use=function(l){var h=l.stack,H=l.create,oe=l.level,Ee=l.name;return Ee&&this.unuse({stack:h,name:Ee}),(l=this._middlewares[h]||(this._middlewares[h]=[])).push({stack:h,create:H,level:oe??10,name:Ee}),l.sort(function(Be,tt){return Be.level-tt.level}),this},Mn.prototype.unuse=function(l){var h=l.stack,H=l.name,oe=l.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(Ee){return oe?Ee.create!==oe:!!H&&Ee.name!==H})),this},Mn.prototype.open=function(){var l=this;return Cr(Yt,function(){return Jn(l)})},Mn.prototype._close=function(){var l=this._state,h=gi.indexOf(this);if(0<=h&&gi.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Lt(function(H){l.dbReadyResolve=H}),l.openCanceller=new Lt(function(H,oe){l.cancelOpen=oe}))},Mn.prototype.close=function(H){var h=(void 0===H?{disableAutoOpen:!0}:H).disableAutoOpen;H=this._state,h?(H.isBeingOpened&&H.cancelOpen(new Le.DatabaseClosed),this._close(),H.autoOpen=!1,H.dbOpenError=new Le.DatabaseClosed):(this._close(),H.autoOpen=this._options.autoOpen||H.isBeingOpened,H.openComplete=!1,H.dbOpenError=null)},Mn.prototype.delete=function(l){var h=this;void 0===l&&(l={disableAutoOpen:!0});var H=0<arguments.length&&"object"!=typeof arguments[0],oe=this._state;return new Lt(function(Ee,Be){function tt(){h.close(l);var ht=h._deps.indexedDB.deleteDatabase(h.name);ht.onsuccess=sn(function(){var Tt,Rt,dt;Rt=h.name,dt=(Tt=h._deps).indexedDB,Tt=Tt.IDBKeyRange,ao(dt)||Rt===hi||so(dt,Tt).delete(Rt).catch(De),Ee()}),ht.onerror=ie(Be),ht.onblocked=h._fireOnBlocked}if(H)throw new Le.InvalidArgument("Invalid closeOptions argument to db.delete()");oe.isBeingOpened?oe.dbReadyPromise.then(tt):tt()})},Mn.prototype.backendDB=function(){return this.idbdb},Mn.prototype.isOpen=function(){return null!==this.idbdb},Mn.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&"DatabaseClosed"===l.name},Mn.prototype.hasFailed=function(){return null!==this._state.dbOpenError},Mn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Mn.prototype,"tables",{get:function(){var l=this;return d(this._allTables).map(function(h){return l._allTables[h]})},enumerable:!1,configurable:!0}),Mn.prototype.transaction=function(){var l=function(h,H,oe){var Ee=arguments.length;if(Ee<2)throw new Le.InvalidArgument("Too few arguments");for(var Be=new Array(Ee-1);--Ee;)Be[Ee-1]=arguments[Ee];return oe=Be.pop(),[h,q(Be),oe]}.apply(this,arguments);return this._transaction.apply(this,l)},Mn.prototype._transaction=function(l,h,H){var oe=this,Ee=ut.trans;Ee&&Ee.db===this&&-1===l.indexOf("!")||(Ee=null);var Be,tt,ht=-1!==l.indexOf("?");l=l.replace("!","").replace("?","");try{if(tt=h.map(function(Rt){if("string"!=typeof(Rt=Rt instanceof oe.Table?Rt.name:Rt))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Rt}),"r"==l||l===_i)Be=_i;else{if("rw"!=l&&l!=Ii)throw new Le.InvalidArgument("Invalid transaction mode: "+l);Be=Ii}if(Ee){if(Ee.mode===_i&&Be===Ii){if(!ht)throw new Le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Ee=null}Ee&&tt.forEach(function(Rt){if(Ee&&-1===Ee.storeNames.indexOf(Rt)){if(!ht)throw new Le.SubTransaction("Table "+Rt+" not included in parent transaction.");Ee=null}}),ht&&Ee&&!Ee.active&&(Ee=null)}}catch(Rt){return Ee?Ee._promise(null,function(dt,rt){rt(Rt)}):wr(Rt)}var Tt=function Rt(dt,rt,Ct,yt,At){return Lt.resolve().then(function(){var Nt=ut.transless||ut,Ot=dt._createTransaction(rt,Ct,dt._dbSchema,yt);if(Ot.explicit=!0,Nt={trans:Ot,transless:Nt},yt)Ot.idbtrans=yt.idbtrans;else try{Ot.create(),Ot.idbtrans._explicit=!0,dt._state.PR1398_maxLoop=3}catch(Zt){return Zt.name===Y.InvalidState&&dt.isOpen()&&0<--dt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),dt.close({disableAutoOpen:!1}),dt.open().then(function(){return Rt(dt,rt,Ct,null,At)})):wr(Zt)}var Kt,jt=et(At);return jt&&Kr(),Nt=Lt.follow(function(){var Zt;(Kt=At.call(Ot,Ot))&&(jt?(Zt=kr.bind(null,null),Kt.then(Zt,Zt)):"function"==typeof Kt.next&&"function"==typeof Kt.throw&&(Kt=cr(Kt)))},Nt),(Kt&&"function"==typeof Kt.then?Lt.resolve(Kt).then(function(Zt){return Ot.active?Zt:wr(new Le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Nt.then(function(){return Kt})).then(function(Zt){return yt&&Ot._resolve(),Ot._completion.then(function(){return Zt})}).catch(function(Zt){return Ot._reject(Zt),wr(Zt)})})}.bind(null,this,Be,tt,Ee,H);return Ee?Ee._promise(Be,Tt,"lock"):ut.trans?Cr(ut.transless,function(){return oe._whenReady(Tt)}):this._whenReady(Tt)},Mn.prototype.table=function(l){if(!_(this._allTables,l))throw new Le.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Mn);function Mn(l,h){var H=this;this._middlewares={},this.verno=0;var oe=Mn.dependencies;this._options=h=a({addons:Mn.addons,autoOpen:!0,indexedDB:oe.indexedDB,IDBKeyRange:oe.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},oe=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var Ee,Be,tt,ht,Tt,Rt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:De,dbReadyPromise:null,cancelOpen:De,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};Rt.dbReadyPromise=new Lt(function(rt){Rt.dbReadyResolve=rt}),Rt.openCanceller=new Lt(function(rt,Ct){Rt.cancelOpen=Ct}),this._state=Rt,this.name=l,this.on=jr(this,"populate","blocked","versionchange","close",{ready:[Ne,De]}),this.on.ready.subscribe=O(this.on.ready.subscribe,function(rt){return function(Ct,yt){Mn.vip(function(){var At,Nt=H._state;Nt.openComplete?(Nt.dbOpenError||Lt.resolve().then(Ct),yt&&rt(Ct)):Nt.onReadyBeingFired?(Nt.onReadyBeingFired.push(Ct),yt&&rt(Ct)):(rt(Ct),At=H,yt||rt(function Ot(){At.on.ready.unsubscribe(Ct),At.on.ready.unsubscribe(Ot)}))})}}),this.Collection=(Ee=this,Ur($i.prototype,function(Kt,Ot){this.db=Ee;var yt=vt,At=null;if(Ot)try{yt=Ot()}catch(jt){At=jt}var Nt=Kt._ctx;this._ctx={table:Ot=Nt.table,index:Nt.index,isPrimKey:!Nt.index||Ot.schema.primKey.keyPath&&Nt.index===Ot.schema.primKey.name,range:yt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:At,or:Nt.or,valueMapper:(Kt=Ot.hook.reading.fire)!==Te?Kt:null}})),this.Table=(Be=this,Ur(kn.prototype,function(rt,Ct,yt){this.db=Be,this._tx=yt,this.name=rt,this.schema=Ct,this.hook=Be._allTables[rt]?Be._allTables[rt].hook:jr(null,{creating:[te,De],reading:[me,Te],updating:[pe,De],deleting:[Me,De]})})),this.Transaction=(tt=this,Ur(Xt.prototype,function(rt,Ct,yt,At,Nt){var Ot=this;this.db=tt,this.mode=rt,this.storeNames=Ct,this.schema=yt,this.chromeTransactionDurability=At,this.idbtrans=null,this.on=jr(this,"complete","error","abort"),this.parent=Nt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Lt(function(Kt,jt){Ot._resolve=Kt,Ot._reject=jt}),this._completion.then(function(){Ot.active=!1,Ot.on.complete.fire()},function(Kt){var jt=Ot.active;return Ot.active=!1,Ot.on.error.fire(Kt),Ot.parent?Ot.parent._reject(Kt):jt&&Ot.idbtrans&&Ot.idbtrans.abort(),wr(Kt)})})),this.Version=(ht=this,Ur(to.prototype,function(rt){this.db=ht,this._cfg={version:rt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Tt=this,Ur(Gt.prototype,function(rt,Ct,yt){if(this.db=Tt,this._ctx={table:rt,index:":id"===Ct?null:Ct,or:yt},this._cmp=this._ascending=qt,this._descending=function(At,Nt){return qt(Nt,At)},this._max=function(At,Nt){return 0<qt(At,Nt)?At:Nt},this._min=function(At,Nt){return qt(At,Nt)<0?At:Nt},this._IDBKeyRange=Tt._deps.IDBKeyRange,!this._IDBKeyRange)throw new Le.MissingAPI})),this.on("versionchange",function(rt){0<rt.newVersion?console.warn("Another connection wants to upgrade database '".concat(H.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(H.name,"'. Closing db now to resume the delete request.")),H.close({disableAutoOpen:!1})}),this.on("blocked",function(rt){!rt.newVersion||rt.newVersion<rt.oldVersion?console.warn("Dexie.delete('".concat(H.name,"') was blocked")):console.warn("Upgrade '".concat(H.name,"' blocked by other connection holding version ").concat(rt.oldVersion/10))}),this._maxKey=er(h.IDBKeyRange),this._createTransaction=function(rt,Ct,yt,At){return new H.Transaction(rt,Ct,yt,H._options.chromeTransactionDurability,At)},this._fireOnBlocked=function(rt){H.on("blocked").fire(rt),gi.filter(function(Ct){return Ct.name===H.name&&Ct!==H&&!Ct._state.vcFired}).map(function(Ct){return Ct.on("versionchange").fire(rt)})},this.use(co),this.use(Ht),this.use(m),this.use(Sr),this.use(xi);var dt=new Proxy(this,{get:function(rt,Ct,yt){if("_vip"===Ct)return!0;if("table"===Ct)return function(Nt){return en(H.table(Nt),dt)};var At=Reflect.get(rt,Ct,yt);return At instanceof kn?en(At,dt):"tables"===Ct?At.map(function(Nt){return en(Nt,dt)}):"_createTransaction"===Ct?function(){return en(At.apply(this,arguments),dt)}:At}});this.vip=dt,oe.forEach(function(rt){return rt(H)})}Gn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var ir,qn=(tr.prototype.subscribe=function(l,h,H){return this._subscribe(l&&"function"!=typeof l?l:{next:l,error:h,complete:H})},tr.prototype[Gn]=function(){return this},tr);function tr(l){this._subscribe=l}try{ir={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{ir={indexedDB:null,IDBKeyRange:null}}function Nr(l){var h,H=!1,oe=new qn(function(Ee){var tt,Be=et(l),ht=!1,Tt={},Rt={},dt={get closed(){return ht},unsubscribe:function(){ht||(ht=!0,tt&&tt.abort(),rt&&pt.storagemutated.unsubscribe(yt))}};Ee.start&&Ee.start(dt);var rt=!1,Ct=function(){return yr(At)},yt=function(Nt){he(Tt,Nt),be(Rt,Tt)&&Ct()},At=function(){var Nt,Ot,Kt;!ht&&ir.indexedDB&&(Tt={},Nt={},tt&&tt.abort(),tt=new AbortController,Kt=function(jt){var Zt=kt();try{Be&&Kr();var an=br(l,jt);return an=Be?an.finally(kr):an}finally{Zt&&rn()}}(Ot={subscr:Nt,signal:tt.signal,requery:Ct,querier:l,trans:null}),Promise.resolve(Kt).then(function(jt){H=!0,h=jt,ht||Ot.signal.aborted||(Tt={},function(Zt){for(var an in Zt)if(_(Zt,an))return;return 1}(Rt=Nt)||rt||(pt(we,yt),rt=!0),yr(function(){return!ht&&Ee.next&&Ee.next(jt)}))},function(jt){H=!1,["DatabaseClosedError","AbortError"].includes(jt?.name)||ht||yr(function(){ht||Ee.error&&Ee.error(jt)})}))};return setTimeout(Ct,0),dt});return oe.hasValue=function(){return H},oe.getValue=function(){return h},oe}var xr=Rn;function Pr(l){var h=Lr;try{Lr=!0,pt.storagemutated.fire(l),Tn(l,!0)}finally{Lr=h}}b(xr,a(a({},K),{delete:function(l){return new xr(l,{addons:[]}).delete()},exists:function(l){return new xr(l,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return H=(h=xr.dependencies).indexedDB,h=h.IDBKeyRange,(ao(H)?Promise.resolve(H.databases()).then(function(oe){return oe.map(function(Ee){return Ee.name}).filter(function(Ee){return Ee!==hi})}):so(H,h).toCollection().primaryKeys()).then(l)}catch{return wr(new Le.MissingAPI)}var h,H},defineClass:function(){return function(l){$(this,l)}},ignoreTransaction:function(l){return ut.trans?Cr(ut.transless,l):l()},vip:no,async:function(l){return function(){try{var h=cr(l.apply(this,arguments));return h&&"function"==typeof h.then?h:Lt.resolve(h)}catch(H){return wr(H)}}},spawn:function(l,h,H){try{var oe=cr(l.apply(H,h||[]));return oe&&"function"==typeof oe.then?oe:Lt.resolve(oe)}catch(Ee){return wr(Ee)}},currentTransaction:{get:function(){return ut.trans||null}},waitFor:function(l,h){return h=Lt.resolve("function"==typeof l?xr.ignoreTransaction(l):l).timeout(h||6e4),ut.trans?ut.trans.waitFor(h):h},Promise:Lt,debug:{get:function(){return Ce},set:function(l){Ze(l)}},derive:L,extend:$,props:b,override:O,Events:jr,on:pt,liveQuery:Nr,extendObservabilitySet:he,getByKeyPath:T,setByKeyPath:M,delByKeyPath:function(l,h){"string"==typeof h?M(l,h,void 0):"length"in h&&[].map.call(h,function(H){M(l,H,void 0)})},shallowClone:V,deepClone:ne,getObjectDiff:Ar,cmp:qt,asap:F,minKey:-1/0,addons:[],connections:gi,errnames:Y,dependencies:ir,cache:it,semVer:"4.0.10",version:"4.0.10".split(".").map(function(l){return parseInt(l)}).reduce(function(l,h,H){return l+h/Math.pow(10,2*H)})})),xr.maxKey=er(xr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(pt(we,function(l){Lr||(l=new CustomEvent(Ue,{detail:l}),Lr=!0,dispatchEvent(l),Lr=!1)}),addEventListener(Ue,function(l){l=l.detail,Lr||Pr(l)}));var ti,Lr=!1,qi=function(){};return typeof BroadcastChannel<"u"&&((qi=function(){(ti=new BroadcastChannel(Ue)).onmessage=function(l){return l.data&&Pr(l.data)}})(),"function"==typeof ti.unref&&ti.unref(),pt(we,function(l){Lr||ti.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Rn.disableBfCache&&l.persisted){Ce&&console.debug("Dexie: handling persisted pagehide"),ti?.close();for(var h=0,H=gi;h<H.length;h++)H[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Rn.disableBfCache&&l.persisted&&(Ce&&console.debug("Dexie: handling persisted pageshow"),qi(),Pr({all:new ei(-1/0,[[]])}))})),Lt.rejectionMapper=function(l,h){return!l||l instanceof Xe||l instanceof TypeError||l instanceof SyntaxError||!l.name||!st[l.name]?l:(h=new st[l.name](h||l.message,l),"stack"in l&&C(h,"stack",{get:function(){return this.inner.stack}}),h)},Ze(Ce),a(Rn,Object.freeze({__proto__:null,Dexie:Rn,liveQuery:Nr,Entity:tn,cmp:qt,PropModSymbol:oi,PropModification:Jr,replacePrefix:function(l,h){return new Jr({replacePrefix:[l,h]})},add:function(l){return new Jr({add:l})},remove:function(l){return new Jr({remove:l})},default:Rn,RangeSet:ei,mergeRanges:uo,rangesOverlap:Ni}),{default:Rn}),Rn}()},5520(ct,E,a){"use strict";function u(){return new Promise(A=>setTimeout(A,0))}function r(A=0){return new Promise(U=>setTimeout(U,A))}function d(A){return A&&"function"==typeof A.then?A:Promise.resolve(A)}a.d(E,{$A:()=>S,D:()=>L,Dr:()=>P,Ms:()=>$,ND:()=>r,Ve:()=>C,dY:()=>u,em:()=>_,h$:()=>I,hq:()=>d,vN:()=>b});var $=Promise.resolve(!0),P=Promise.resolve(!1),S=Promise.resolve(null),_=Promise.resolve();function b(A=1e4){return"function"==typeof requestIdleCallback?new Promise(U=>{requestIdleCallback(()=>U(),{timeout:A})}):r(0)}var W=_;function C(A=void 0){return W=W.then(()=>b(A))}function L(A){"function"==typeof requestIdleCallback&&requestIdleCallback(()=>{A()})}function I(A,U){return A.reduce((O,p)=>O.then(p),Promise.resolve(U))}},5547(ct,E,a){"use strict";a.d(E,{$C:()=>gp,$Ln:()=>sm,$o8:()=>be,AVh:()=>zd,Ab1:()=>Ms,Agw:()=>xt,BIS:()=>hn,BMQ:()=>hd,BUC:()=>wm,C4Q:()=>xa,C7A:()=>Up,Co$:()=>hp,DH7:()=>a_,DNE:()=>ql,DUP:()=>gs,DkB:()=>Fd,Dyx:()=>Wm,EFF:()=>Kg,EJ8:()=>yp,FsC:()=>_p,H1s:()=>lm,Jt5:()=>Zm,Jv_:()=>h_,KED:()=>xw,Lme:()=>Qd,NCX:()=>Ku,NSC:()=>da,NYb:()=>KD,OA$:()=>et,OR8:()=>Ds,Ocv:()=>oS,Ol2:()=>Yl,PLl:()=>it,PYt:()=>fp,QTQ:()=>Nh,Ql9:()=>tS,R50:()=>Yd,R7$:()=>Mf,RV6:()=>Qm,SpI:()=>Rc,TFI:()=>fc,UQu:()=>qw,VBU:()=>pp,VeQ:()=>jn,Vt3:()=>Zl,VzW:()=>yE,XpG:()=>vg,Y8G:()=>Id,YEm:()=>ui,Z7z:()=>Km,Zhj:()=>fE,_9s:()=>Tl,_9u:()=>Yi,_jY:()=>po,_qm:()=>vr,_ys:()=>Rf,a8H:()=>Pa,aKT:()=>Or,bIt:()=>jd,bMT:()=>C_,bc$:()=>Jt,brH:()=>w_,c1b:()=>rc,cDI:()=>nD,cdK:()=>um,czy:()=>Ou,d80:()=>nS,dOL:()=>om,e6s:()=>LC,eHC:()=>nc,eq3:()=>m_,fX1:()=>Um,gXe:()=>Fe,i5U:()=>M_,iLQ:()=>dm,j41:()=>Mc,k0s:()=>wc,kBR:()=>Ld,kS0:()=>hi,lJT:()=>fm,lsd:()=>bg,mGM:()=>Dg,mal:()=>sl,mxI:()=>Xd,n$t:()=>mf,nI1:()=>b_,nVh:()=>Bm,nrm:()=>Td,o8S:()=>ad,ozJ:()=>Nl,phd:()=>HD,pl0:()=>zD,rXU:()=>qs,rpG:()=>H_,sFG:()=>_0,sMw:()=>g_,sZ2:()=>Se,sdS:()=>wg,sgu:()=>pE,tvf:()=>ti,uiO:()=>M,utN:()=>k0,vDg:()=>Uh,vxM:()=>jm,w6W:()=>_E,wni:()=>Kd,xGo:()=>ri,xe9:()=>z_,yLl:()=>am,ypd:()=>GD,zoo:()=>Pf});var u=a(467),r=a(375),d=a(5824),D=a(1413),$=a(8359),P=a(6354);function S(e){return{toString:e}.toString()}const _="__annotations__",b="__parameters__",W="__prop__metadata__";function C(e,t,n,i,o){return S(()=>{const s=L(t);function c(...f){if(this instanceof c)return s.call(this,...f),this;const w=new c(...f);return function(ye){return o&&o(ye,...f),(ye.hasOwnProperty(_)?ye[_]:Object.defineProperty(ye,_,{value:[]})[_]).push(w),ye}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}function L(e){return function(...n){if(e){const i=e(...n);for(const o in i)this[o]=i[o]}}}function I(e,t,n){return S(()=>{const i=L(t);function o(...s){if(this instanceof o)return i.apply(this,s),this;const c=new o(...s);return f.annotation=c,f;function f(w,de,ye){const Ye=w.hasOwnProperty(b)?w[b]:Object.defineProperty(w,b,{value:[]})[b];for(;Ye.length<=ye;)Ye.push(null);return(Ye[ye]=Ye[ye]||[]).push(c),w}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const U=(0,r.z6V)(I("Inject",e=>({token:e})),-1),O=(0,r.z6V)(I("Optional"),8),p=(0,r.z6V)(I("Self"),2),F=(0,r.z6V)(I("SkipSelf"),4),T=(0,r.z6V)(I("Host"),1);function M(e){const t=r.laP.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const V={\u0275\u0275defineInjectable:r.jDH,\u0275\u0275defineInjector:r.G2t,\u0275\u0275inject:r.KVO,\u0275\u0275invalidFactoryDep:r.dmw,resolveForwardRef:r.nl4},B=Function;function q(e){return"function"==typeof e}const G=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Q=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ne=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ue=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Oe{_reflect;constructor(t){this._reflect=t||r.laP.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let i;i=(0,r.WfI)(typeof t>"u"?n.length:t.length);for(let o=0;o<i.length;o++)i[o]=typeof t>"u"?[]:t[o]&&t[o]!=Object?[t[o]]:[],n&&null!=n[o]&&(i[o]=i[o].concat(n[o]));return i}_ownParameters(t,n){if(function ve(e){return G.test(e)||ue.test(e)||Q.test(e)&&!ne.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const o=t.ctorParameters;if(o&&o!==n.ctorParameters){const f="function"==typeof o?o():o,w=f.map(ye=>ye&&ye.type),de=f.map(ye=>ye&&nt(ye.decorators));return this._zipTypesAndAnnotations(w,de)}const s=t.hasOwnProperty(b)&&t[b],c=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return c||s?this._zipTypesAndAnnotations(c,s):(0,r.WfI)(t.length)}parameters(t){if(!q(t))return[];const n=ge(t);let i=this._ownParameters(t,n);return!i&&n!==Object&&(i=this.parameters(n)),i||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let i=t.annotations;return"function"==typeof i&&i.annotations&&(i=i.annotations),i}return t.decorators&&t.decorators!==n.decorators?nt(t.decorators):t.hasOwnProperty(_)?t[_]:null}annotations(t){if(!q(t))return[];const n=ge(t),i=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(i)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let i=t.propMetadata;return"function"==typeof i&&i.propMetadata&&(i=i.propMetadata),i}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const i=t.propDecorators,o={};return Object.keys(i).forEach(s=>{o[s]=nt(i[s])}),o}return t.hasOwnProperty(W)?t[W]:null}propMetadata(t){if(!q(t))return{};const n=ge(t),i={};if(n!==Object){const s=this.propMetadata(n);Object.keys(s).forEach(c=>{i[c]=s[c]})}const o=this._ownPropMetadata(t,n);return o&&Object.keys(o).forEach(s=>{const c=[];i.hasOwnProperty(s)&&c.push(...i[s]),c.push(...o[s]),i[s]=c}),i}ownPropMetadata(t){return q(t)&&this._ownPropMetadata(t,ge(t))||{}}hasLifecycleHook(t,n){return t instanceof B&&n in t.prototype}}function nt(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function ge(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}function xe(e,t,n,i){null!==t?t.applyValueToInputSignal(t,i):e[n]=i}class He{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}const et=(()=>{const e=()=>Ke;return e.ngInherit=!0,e})();function Ke(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ie),Xe}function Xe(){const e=ce(this),t=e?.current;if(t){const n=e.previous;if(n===r.MZA)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Ie(e,t,n,i,o){const s=this.declaredInputs[i],c=ce(e)||function Y(e,t){return e[se]=t}(e,{previous:r.MZA,current:null}),f=c.current||(c.current={}),w=c.previous,de=w[s];f[s]=new He(de&&de.currentValue,n,w===r.MZA),xe(e,t,o,n)}const se="__ngSimpleChanges__";function ce(e){return e[se]||null}const _e=[],De=function(e,t=null,n){for(let i=0;i<_e.length;i++)(0,_e[i])(e,t,n)};var Te=function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e}(Te||{});function j(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:w,ngAfterViewChecked:de,ngOnDestroy:ye}=s;c&&(e.contentHooks??=[]).push(-n,c),f&&((e.contentHooks??=[]).push(n,f),(e.contentCheckHooks??=[]).push(n,f)),w&&(e.viewHooks??=[]).push(-n,w),de&&((e.viewHooks??=[]).push(n,de),(e.viewCheckHooks??=[]).push(n,de)),null!=ye&&(e.destroyHooks??=[]).push(n,ye)}}function te(e,t,n){ae(e,t,3,n)}function Me(e,t,n,i){(3&e[r.Wg1])===n&&ae(e,t,n,i)}function pe(e,t){let n=e[r.Wg1];(3&n)===t&&(n&=16383,n+=1,e[r.Wg1]=n)}function ae(e,t,n,i){const s=i??-1,c=t.length-1;let f=0;for(let w=void 0!==i?65535&e[r.wVl]:0;w<c;w++)if("number"==typeof t[w+1]){if(f=t[w],null!=i&&f>=i)break}else t[w]<0&&(e[r.wVl]+=65536),(f<s||-1==s)&&(Ce(e,n,t,w),e[r.wVl]=(4294901760&e[r.wVl])+w+2),w++}function Ne(e,t){De(Te.LifecycleHookStart,e,t);const n=(0,d.Ht)(null);try{t.call(e)}finally{(0,d.Ht)(n),De(Te.LifecycleHookEnd,e,t)}}function Ce(e,t,n,i){const o=n[i]<0,s=n[i+1],f=e[o?-n[i]:n[i]];o?e[r.Wg1]>>14<e[r.wVl]>>16&&(3&e[r.Wg1])===t&&(e[r.Wg1]+=16384,Ne(f,s)):Ne(f,s)}class ot{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=i}}function J(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function Et(e){return 3===e||4===e||6===e}function Vt(e){return 64===e.charCodeAt(0)}function Yt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?n=o:0===n||ut(e,n,o,0,-1===n||2===n?t[++i]:null)}}return e}function ut(e,t,n,i,o){let s=0,c=e.length;if(-1===t)c=-1;else for(;s<e.length;){const f=e[s++];if("number"==typeof f){if(f===t){c=-1;break}if(f>t){c=s-1;break}}}for(;s<e.length;){const f=e[s];if("number"==typeof f)break;if(f===n)return void(null!==o&&(e[s+1]=o));s++,null!==o&&s++}-1!==c&&(e.splice(c,0,t),s=c+1),e.splice(s++,0,n),null!==o&&e.splice(s++,0,o)}function Bt(e){return-1!==e}function Ut(e){return 32767&e}function Lt(e,t){let n=function un(e){return e>>16}(e),i=t;for(;n>0;)i=i[r.X5O],n--;return i}let fn=!0;function On(e){const t=fn;return fn=e,t}let Xn=0;const mt={};function rn(e,t){const n=_n(e,t);if(-1!==n)return n;const i=t[r.eDl];i.firstCreatePass&&(e.injectorIndex=t.length,on(i.data,e),on(t,null),on(i.blueprint,null));const o=sn(e,t),s=e.injectorIndex;if(Bt(o)){const c=Ut(o),f=Lt(o,t),w=f[r.eDl].data;for(let de=0;de<8;de++)t[s+de]=f[c+de]|w[c+de]}return t[s+8]=o,s}function on(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _n(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,o=t;for(;null!==o;){if(i=gi(o),null===i)return-1;if(n++,o=o[r.X5O],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function gn(e,t,n){!function kt(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(r.p9y)&&(i=n[r.p9y]),null==i&&(i=n[r.p9y]=Xn++);const o=255&i;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function fr(e,t,n){if(8&n||void 0!==e)return e;(0,r.$Hz)(t,"NodeInjector")}function Er(e,t,n,i){if(8&n&&void 0===i&&(i=null),!(3&n)){const o=e[r.YEL],s=(0,r.a2B)(void 0);try{return o?o.get(t,i,8&n):(0,r.MzJ)(t,i,8&n)}finally{(0,r.a2B)(s)}}return fr(i,t,n)}function Tr(e,t,n,i=0,o){if(null!==e){if(2048&t[r.Wg1]&&!(2&i)){const c=function fi(e,t,n,i,o){let s=e,c=t;for(;null!==s&&null!==c&&2048&c[r.Wg1]&&!(0,r.EFk)(c);){const f=Hr(s,c,n,2|i,mt);if(f!==mt)return f;let w=s.parent;if(!w){const de=c[r.oMQ];if(de){const ye=de.get(n,mt,i);if(ye!==mt)return ye}w=gi(c),c=c[r.X5O]}s=w}return o}(e,t,n,i,mt);if(c!==mt)return c}const s=Hr(e,t,n,i,mt);if(s!==mt)return s}return Er(t,n,i,o)}function Hr(e,t,n,i,o){const s=function io(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(r.p9y)?e[r.p9y]:void 0;return"number"==typeof t?t>=0?255&t:wr:t}(n);if("function"==typeof s){if(!(0,r.ihb)(t,e,i))return 1&i?fr(o,n,i):Er(t,n,i,o);try{let c;if(c=s(i),null!=c||8&i)return c;(0,r.$Hz)(n)}finally{(0,r.niQ)()}}else if("number"==typeof s){let c=null,f=_n(e,t),w=-1,de=1&i?t[r.b5C][r.qlT]:null;for((-1===f||4&i)&&(w=-1===f?sn(e,t):t[f+8],-1!==w&&mi(i,!1)?(c=t[r.eDl],f=Ut(w),t=Lt(w,t)):f=-1);-1!==f;){const ye=t[r.eDl];if(di(s,f,ye.data)){const Ye=br(f,t,n,c,i,de);if(Ye!==mt)return Ye}w=t[f+8],-1!==w&&mi(i,t[r.eDl].data[f+8]===de)&&di(s,f,t)?(c=ye,f=Ut(w),t=Lt(w,t)):f=-1}}return o}function br(e,t,n,i,o,s){const c=t[r.eDl],f=c.data[e+8],ye=Kr(f,c,n,null==i?(0,r.Qs1)(f)&&fn:i!=c&&!!(3&f.type),1&o&&s===f);return null!==ye?Zr(t,c,ye,f,o):mt}function Kr(e,t,n,i,o){const s=e.providerIndexes,c=t.data,f=1048575&s,w=e.directiveStart,ye=s>>20,ft=o?f+ye:e.directiveEnd;for(let _t=i?f:f+ye;_t<ft;_t++){const zt=c[_t];if(_t<w&&n===zt||_t>=w&&zt.type===n)return _t}if(o){const _t=c[w];if(_t&&(0,r.JlV)(_t)&&_t.type===n)return w}return null}function Zr(e,t,n,i,o){let s=e[n];const c=t.data;if(s instanceof ot){const f=s;if(f.resolving){const _t=(0,r.PP7)(c[n]);throw(0,r.PQT)(_t)}const w=On(f.canSeeViewProviders);f.resolving=!0;const Ye=f.injectImpl?(0,r.a2B)(f.injectImpl):null;(0,r.ihb)(e,i,0);try{s=e[n]=f.factory(void 0,o,c,e,i),t.firstCreatePass&&n>=i.directiveStart&&function me(e,t,n){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(i){const c=Ke(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,c[n],t)}finally{null!==Ye&&(0,r.a2B)(Ye),On(w),f.resolving=!1,(0,r.niQ)()}}return s}function di(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function mi(e,t){return!(2&e||1&e&&t)}class yr{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Tr(this._tNode,this._lView,t,(0,r.hjC)(i),n)}}function wr(){return new yr((0,r.Mx4)(),(0,r.OAn)())}function ri(e){return S(()=>{const t=e.prototype.constructor,n=t[r.zSs]||zr(t),i=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==i;){const s=o[r.zSs]||zr(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function zr(e){return(0,r.Jzi)(e)?()=>{const t=zr((0,r.nl4)(e));return t&&t()}:(0,r.wGu)(e)}function gi(e){const t=e[r.eDl],n=t.type;return 2===n?t.declTNode:1===n?e[r.qlT]:null}function hi(e){return function Ir(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let o=0;for(;o<i;){const s=n[o];if(Et(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<i&&"string"==typeof n[o];)o++;else{if(s===t)return n[o+1];o+=2}}}return null}((0,r.Mx4)(),e)}const _i=I("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>hi(e)}));let Ii=null;function vt(e){return Wt(function ii(){return Ii=Ii||new Oe}().parameters(e))}function Wt(e){return e.map(t=>function tn(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const i=e[n];if(void 0===i)continue;const o=Object.getPrototypeOf(i);if(i instanceof O||"Optional"===o.ngMetadataName)t.optional=!0;else if(i instanceof F||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(i instanceof p||"Self"===o.ngMetadataName)t.self=!0;else if(i instanceof T||"Host"===o.ngMetadataName)t.host=!0;else if(i instanceof U)t.token=i.token;else if(i instanceof _i){if(void 0===i.attributeName)throw new r.buA(204,!1);t.attribute=i.attributeName}else t.token=i}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const zn=(0,r.kLh)({provide:String,useValue:r.kLh});function Un(e){return void 0!==e.useClass}function Vn(e){return void 0!==e.useFactory}const vr=C("Injectable",void 0,void 0,0,(e,t)=>function qt(e,t){let n=null,i=null;e.hasOwnProperty(r.yAH)||Object.defineProperty(e,r.yAH,{get:()=>(null===n&&(n=M().compileInjectable(V,`ng:///${e.name}/\u0275prov.js`,function Ur(e,t){const n=t||{providedIn:null},i={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Un(n)||Vn(n))&&void 0!==n.deps&&(i.deps=Wt(n.deps)),Un(n)?i.useClass=n.useClass:function kn(e){return zn in e}(n)?i.useValue=n.useValue:Vn(n)?i.useFactory=n.useFactory:function jr(e){return void 0!==e.useExisting}(n)&&(i.useExisting=n.useExisting),i}(e,t))),n)}),e.hasOwnProperty(r.zSs)||Object.defineProperty(e,r.zSs,{get:()=>{if(null===i){const o=M();i=o.compileFactory(V,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:vt(e),target:o.FactoryTarget.Injectable})}return i},configurable:!0})}(e,t));function Pi(){return hr((0,r.Mx4)(),(0,r.OAn)())}function hr(e,t){return new Or((0,r.d31)(e,t))}let Or=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Pi})();function Wr(e){return e instanceof Or?e.nativeElement:e}function Gr(){return this._results[Symbol.iterator]()}class Ci{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new D.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const i=(0,r.Bqz)(t);(this._changesDetected=!(0,r.ng7)(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Gr}function Zn(e){return!(128&~e.flags)}var pi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(pi||{});const Qr=new Map;let Bi=0;function Gt(e){Qr.delete(e[r.ID])}const pt="__ngContext__";function Xt(e,t){(0,r.q$2)(t)?(e[pt]=t[r.ID],function wt(e){Qr.set(e[r.ID],e)}(t)):e[pt]=t}function vi(e){return Ui(e[r.EJG])}function ji(e){return Ui(e[r.K29])}function Ui(e){for(;null!==e&&!(0,r.A0l)(e);)e=e[r.K29];return e}let Ni;function Yi(e){Ni=e}function ui(){if(void 0!==Ni)return Ni;if(typeof document<"u")return document;throw new r.buA(210,!1)}const Se=new r.nKC("",{factory:()=>he}),he="ng",be={provide:r.Z63,multi:!0,useValue:()=>{const e=(0,r.WQX)(Se);if(!/^[a-zA-Z0-9\-_]+$/.test(e))throw new r.buA(211,`APP_ID value "${e}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},it=new r.nKC(""),xt=new r.nKC("",{providedIn:"platform",factory:()=>"unknown"}),Jt=new r.nKC(""),hn=new r.nKC("",{factory:()=>(0,r.WQX)(r.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Tn={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},jn=new r.nKC("",{factory:()=>Tn});let cr=(()=>{class e{static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>{const n=new e;return n.store=function Wn(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return{}}((0,r.WQX)(r.qQL),(0,r.WQX)(Se)),n}});store={};onSerializeCallbacks={};get(n,i){return void 0!==this.store[n]?this.store[n]:i}set(n,i){this.store[n]=i}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,i){this.onSerializeCallbacks[n]=i}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const ir=new r.nKC("",{factory:()=>!1}),xr=new r.nKC(""),ti=new r.nKC(""),Lr={passive:!0,capture:!0},qi=new WeakMap,l=new WeakMap,h=new WeakMap,H=["click","keydown"],oe=["mouseenter","mouseover","focusin"],Ee=new Map;class Be{callbacks=new Set;listener=()=>{for(const t of this.callbacks)t()}}function tt(e,t){let n=l.get(e);if(!n){n=new Be,l.set(e,n);for(const i of H)e.addEventListener(i,n.listener,Lr)}return n.callbacks.add(t),()=>{const{callbacks:i,listener:o}=n;if(i.delete(t),0===i.size){l.delete(e);for(const s of H)e.removeEventListener(s,o,Lr)}}}function ht(e,t){let n=qi.get(e);if(!n){n=new Be,qi.set(e,n);for(const i of oe)e.addEventListener(i,n.listener,Lr)}return n.callbacks.add(t),()=>{const{callbacks:i,listener:o}=n;if(i.delete(t),0===i.size){for(const s of oe)e.removeEventListener(s,o,Lr);qi.delete(e)}}}function dt(e){return e?`${e.rootMargin}/${"number"==typeof e.threshold?e.threshold:e.threshold?.join("\n")}`:""}const Sn=new r.nKC("");function $n(e){return!(32&~e.flags)}function qo(e){let t=e._lView;return 2===t[r.eDl].type?null:((0,r.EFk)(t)&&(t=t[r.Yw1]),t)}function Lo(e){return e.get(xr,!1,{optional:!0})}function y(e,t){const n=e.contentQueries;if(null!==n){const i=(0,d.Ht)(null);try{for(let o=0;o<n.length;o+=2){const c=n[o+1];if(-1!==c){const f=e.data[c];(0,r.GA0)(n[o]),f.contentQueries(2,t[c],c)}}}finally{(0,d.Ht)(i)}}}function N(e,t,n){(0,r.GA0)(0);const i=(0,d.Ht)(null);try{t(e,n)}finally{(0,d.Ht)(i)}}function re(e,t,n){if((0,r.srX)(t)){const i=(0,d.Ht)(null);try{const s=t.directiveEnd;for(let c=t.directiveStart;c<s;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}finally{(0,d.Ht)(i)}}}var Fe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e}(Fe||{});let Bs,js;function lu(){if(void 0===Bs&&(Bs=null,r.laP.trustedTypes))try{Bs=r.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Bs}function is(e){return lu()?.createHTML(e)||e}function ga(){if(void 0===js&&(js=null,r.laP.trustedTypes))try{js=r.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return js}function _a(e){return ga()?.createHTML(e)||e}function ya(e){return ga()?.createScript(e)||e}function ls(e){return ga()?.createScriptURL(e)||e}class va{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${r.ok8})`}}function Vo(e){return e instanceof va?e.changingThisBreaksApplicationSecurity:e}function Do(e,t){const n=function Us(e){return e instanceof va&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${r.ok8})`)}return n===t}function gu(e){const t=new jc(e);return function Da(){try{return!!(new window.DOMParser).parseFromString(is(""),"text/html")}catch{return!1}}()?new fs(t):t}class fs{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(is(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class jc{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=is(t),n}}const Uc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ba(e){return(e=String(e)).match(Uc)?e:"unsafe:"+e}function To(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function os(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const Ca=To("area,br,col,hr,img,wbr"),_u=To("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yu=To("rp,rt"),hs=os(Ca,os(_u,To("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),os(yu,To("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),os(yu,_u)),Ma=To("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=os(Ma,To("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),To("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vc=To("script,style,template");class Eu{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)o.push(n),n=zc(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=wa(n);if(s){n=s;break}n=o.pop()}return this.buf.join("")}startElement(t){const n=Ks(t).toLowerCase();if(!hs.hasOwnProperty(n))return this.sanitizedSomething=!0,!Vc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let o=0;o<i.length;o++){const s=i.item(o),c=s.name,f=c.toLowerCase();if(!Wc.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let w=s.value;Ma[f]&&(w=ba(w)),this.buf.push(" ",c,'="',bu(w),'"')}return this.buf.push(">"),!0}endElement(t){const n=Ks(t).toLowerCase();hs.hasOwnProperty(n)&&!Ca.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(bu(t))}}function wa(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Du(t);return t}function zc(e){const t=e.firstChild;if(t&&function Hc(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Du(t);return t}function Ks(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Du(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Gc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qc=/([^\#-~ |!])/g;function bu(e){return e.replace(/&/g,"&amp;").replace(Gc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Qc,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ps;function Ws(e){return"content"in e&&function Xc(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Cu=/^>|^->|<!--|-->|--!>|<!-$/g,Zc=/(<|>)/g;function Sa(e,t){return e.createText(t)}function Ia(e,t,n){e.setValue(t,n)}function Oa(e,t){return e.createComment(function Mu(e){return e.replace(Cu,t=>t.replace(Zc,"\u200b$1\u200b"))}(t))}function g(e,t,n){return e.createElement(t,n)}function fe(e,t,n,i,o){e.insertBefore(t,n,i,o)}function We(e,t,n){e.appendChild(t,n)}function Mt(e,t,n,i,o){null!==i?fe(e,t,n,i,o):We(e,t,n)}function Qt(e,t,n,i){e.removeChild(null,t,n,i)}function Rr(e,t,n){const{mergedAttrs:i,classes:o,styles:s}=n;null!==i&&function at(e,t,n){let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],c=n[i++],f=n[i++];e.setAttribute(t,c,f,s)}else{const s=o,c=n[++i];Vt(s)?e.setProperty(t,s,c):e.setAttribute(t,s,c),i++}}}(e,t,i),null!==o&&function ci(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,o),null!==s&&function Kn(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}var Mo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Mo||{});function hf(e){const t=Ta();return t?t.sanitize(Mo.URL,e)||"":Do(e,"URL")?Vo(e):ba((0,r.eFE)(e))}function pf(e){const t=Ta();if(t)return ls(t.sanitize(Mo.RESOURCE_URL,e)||"");if(Do(e,"ResourceURL"))return ls(Vo(e));throw new r.buA(904,!1)}const sy=new Set(["embed","frame","iframe","media","script"]),ay=new Set(["base","link","script"]);function mf(e,t,n){return function uy(e,t){return"src"===t&&sy.has(e)||"href"===t&&ay.has(e)||"xlink:href"===t&&"script"===e?pf:hf}(t,n)(e)}function Ta(){const e=(0,r.OAn)();return e&&e[r.M0L].sanitizer}const wu=new Set(["attributename"]),cy={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:wu,set:wu,animatemotion:wu,animatetransform:wu};function Ho(e){return e instanceof Function?e():e}function vy(e,t,n){let i=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===i||e.charCodeAt(o+s)<=32)return o}n=o+1}}const Ef="ng-template";function Ey(e,t,n,i){let o=0;if(i){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==vy(t[o+1].toLowerCase(),n,0))return!0}else if(qc(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function qc(e){return 4===e.type&&e.value!==Ef}function Dy(e,t,n){return t===(4!==e.type||n?e.value:Ef)}function by(e,t,n){let i=4;const o=e.attrs,s=null!==o?function wy(e){for(let t=0;t<e.length;t++)if(Et(e[t]))return t;return e.length}(o):0;let c=!1;for(let f=0;f<t.length;f++){const w=t[f];if("number"!=typeof w){if(!c)if(4&i){if(i=2|1&i,""!==w&&!Dy(e,w,n)||""===w&&1===t.length){if(Fo(i))return!1;c=!0}}else if(8&i){if(null===o||!Ey(e,o,w,n)){if(Fo(i))return!1;c=!0}}else{const de=t[++f],ye=Cy(w,o,qc(e),n);if(-1===ye){if(Fo(i))return!1;c=!0;continue}if(""!==de){let Ye;if(Ye=ye>s?"":o[ye+1].toLowerCase(),2&i&&de!==Ye){if(Fo(i))return!1;c=!0}}}}else{if(!c&&!Fo(i)&&!Fo(w))return!1;if(c&&Fo(w))continue;c=!1,i=w|1&i}}return Fo(i)||c}function Fo(e){return!(1&e)}function Cy(e,t,n,i){if(null===t)return-1;let o=0;if(i||!n){let s=!1;for(;o<t.length;){const c=t[o];if(c===e)return o;if(3===c||6===c)s=!0;else{if(1===c||2===c){let f=t[++o];for(;"string"==typeof f;)f=t[++o];continue}if(4===c)break;if(0===c){o+=4;continue}}o+=s?1:2}return-1}return function Sy(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Df(e,t,n=!1){for(let i=0;i<t.length;i++)if(by(e,t[i],n))return!0;return!1}function Iy(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let o=0;o<e.length;o++)if(e[o]!==i[o])continue e;return!0}}return!1}function bf(e,t){return e?":not("+t.trim()+")":t}function Oy(e){let t=e[0],n=1,i=2,o="",s=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&i){const f=e[++n];o+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&i?o+="."+c:4&i&&(o+=" "+c);else""!==o&&!Fo(c)&&(t+=bf(s,o),o=""),i=c,s=s||!Fo(i);n++}return""!==o&&(t+=bf(s,o)),t}const ni={};function el(e,t,n,i,o,s,c,f,w,de,ye){const Ye=r.Yw1+i,ft=Ye+o,_t=function Py(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:ni);return n}(Ye,ft),zt="function"==typeof de?de():de;return _t[r.eDl]={type:e,blueprint:_t,template:n,queries:null,viewQuery:f,declTNode:t,data:_t.slice().fill(null,Ye),bindingStartIndex:Ye,expandoStartIndex:ft,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:w,consts:zt,incompleteFirstPass:!1,ssrId:ye}}function Cf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=el(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Su(e,t,n,i,o,s,c,f,w,de,ye){const Ye=t.blueprint.slice();return Ye[r.jgP]=o,Ye[r.Wg1]=1228|i,(null!==de||e&&2048&e[r.Wg1])&&(Ye[r.Wg1]|=2048),(0,r.HUe)(Ye),Ye[r.f7T]=Ye[r.X5O]=e,Ye[r.SKP]=n,Ye[r.M0L]=c||e&&e[r.M0L],Ye[r.GpT]=f||e&&e[r.GpT],Ye[r.YEL]=w||e&&e[r.YEL]||null,Ye[r.qlT]=s,Ye[r.ID]=function je(){return Bi++}(),Ye[r.tcA]=ye,Ye[r.oMQ]=de,Ye[r.b5C]=2==t.type?e[r.b5C]:Ye,Ye}function tl(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Aa(e,t,n,i){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return o}function nl(e,t){return e[r.EJG]?e[r.Yrj][r.K29]=t:e[r.EJG]=t,e[r.Yrj]=t,t}function Mf(e=1){wf((0,r.klJ)(),(0,r.OAn)(),(0,r._px)()+e,!1)}function wf(e,t,n,i){if(!i)if(3&~t[r.Wg1]){const s=e.preOrderHooks;null!==s&&Me(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&te(t,s,n)}(0,r.ypq)(n)}var Iu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Iu||{});function ms(e,t,n,i){const o=(0,d.Ht)(null);try{const[s,c,f]=e.inputs[n];let w=null;0!==(c&Iu.SignalBased)&&(w=t[s][d.bh]),null!==w&&void 0!==w.transformFn?i=w.transformFn(i):null!==f&&(i=f.call(t,i)),null!==e.setInput?e.setInput(t,w,i,n,s):xe(t,w,s,i)}finally{(0,d.Ht)(o)}}var Ou=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ou||{});let rl;function il(e,t){return rl(e,t)}function Tu(e){if(!e)return 0;const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function Hs(e,t){return e.getPropertyValue(t).split(",").map(i=>i.trim())}function Sf(e,t){return void 0!==e&&e.duration>t.duration}function If(e){return(null!=e.animationName||null!=e.propertyName)&&e.duration>0}function Of(e,t,n){if(!n)return;const i=e.getAnimations();return 0===i.length?function Ly(e,t){const n=getComputedStyle(e),i=function xy(e){const t=Hs(e,"animation-name"),n=Hs(e,"animation-delay"),i=Hs(e,"animation-duration"),o={animationName:"",propertyName:void 0,duration:0};for(let s=0;s<t.length;s++){const c=Tu(n[s])+Tu(i[s]);c>o.duration&&(o.animationName=t[s],o.duration=c)}return o}(n),o=function Ny(e){const t=Hs(e,"transition-property"),n=Hs(e,"transition-duration"),i=Hs(e,"transition-delay"),o={propertyName:"",duration:0,animationName:void 0};for(let s=0;s<t.length;s++){const c=Tu(i[s])+Tu(n[s]);c>o.duration&&(o.propertyName=t[s],o.duration=c)}return o}(n),s=i.duration>o.duration?i:o;Sf(t.get(e),s)||If(s)&&t.set(e,s)}(e,t):function Fy(e,t,n){let i={animationName:void 0,propertyName:void 0,duration:0};for(const o of n){const s=o.effect?.getTiming(),c="number"==typeof s?.duration?s.duration:0;let w,de,f=(s?.delay??0)+c;o.animationName?de=o.animationName:w=o.transitionProperty,f>=i.duration&&(i={animationName:de,propertyName:w,duration:f})}Sf(t.get(e),i)||If(i)&&t.set(e,i)}(e,t,i)}const gs=new Set;var ol=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ol||{});const Pa=new r.nKC(""),Tf=new Set;function po(e){Tf.has(e)||(Tf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Af=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const Pf=[0,1,2,3];let $y=(()=>{class e{ngZone=(0,r.WQX)(r.SKi);scheduler=(0,r.WQX)(r.hk6);errorHandler=(0,r.WQX)(r.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,r.WQX)(Pa,{optional:!0})}execute(){const n=this.sequences.size>0;n&&De(Te.AfterRenderHooksStart),this.executing=!0;for(const i of Pf)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[i])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[i])(o.pipelinedValue),o.snapshot))}catch(s){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&De(Te.AfterRenderHooksEnd)}register(n){const{view:i}=n;void 0!==i?((i[r.JEi]??=[]).push(n),(0,r.blu)(i),i[r.Wg1]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(ol.AFTER_NEXT_RENDER,n):n()}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class Rf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,o,s,c=null){this.impl=t,this.hooks=n,this.view=i,this.once=o,this.snapshot=c,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[r.JEi];t&&(this.view[r.JEi]=t.filter(n=>n!==this))}}function sl(e,t){const n=t?.injector??(0,r.WQX)(r.zZn);return po("NgAfterNextRender"),kf(e,n,t,!0)}function kf(e,t,n,i){const o=t.get(Af);o.impl??=t.get($y);const s=t.get(Pa,null,{optional:!0}),c=!0!==n?.manualCleanup?t.get(r.abz):null,f=t.get(r.r4V,null,{optional:!0}),w=new Rf(o.impl,function jy(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),f?.view,i,c,s?.snapshot(null));return o.impl.register(w),w}const Au=new r.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,r.WQX)(r.uvJ)})});function Nf(e,t,n){const i=e.get(Au);if(Array.isArray(t))for(const o of t)i.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else i.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(e)}function Ky(e){const t=e.get(Au);t.isScheduled||(sl(()=>{t.isScheduled=!1;for(let n of t.queue)n();t.queue.clear()},{injector:t.injector}),t.isScheduled=!0)}function Pu(e){const t=e.get(Au);t.scheduler=Ky,t.scheduler(e)}function al(e,t){for(const[n,i]of t)Nf(e,i.animateFns)}function xf(e,t,n,i){const o=e?.[r.Isx]?.enter;null!==t&&o&&o.has(n.index)&&al(i,o)}function zs(e,t,n,i,o,s,c,f){if(null!=o){let w,de=!1;(0,r.A0l)(o)?w=o:(0,r.q$2)(o)&&(de=!0,o=o[r.jgP]);const ye=(0,r.IvY)(o);0===e&&null!==i?(xf(f,i,s,n),null==c?We(t,i,ye):fe(t,i,ye,c||null,!0)):1===e&&null!==i?(xf(f,i,s,n),fe(t,i,ye,c||null,!0)):2===e?$f(f,s,n,Ye=>{Qt(t,ye,de,Ye)}):3===e&&$f(f,s,n,()=>{t.destroyNode(ye)}),null!=w&&function Yy(e,t,n,i,o,s,c){const f=i[r.s6P];f!==(0,r.IvY)(i)&&zs(t,e,n,s,f,o,c);for(let de=r.Y20;de<i.length;de++){const ye=i[de];ku(ye[r.eDl],ye,e,t,s,f)}}(t,e,n,w,s,i,c)}}function Lf(e,t){Ff(e,t),t[r.jgP]=null,t[r.qlT]=null}function Ff(e,t){t[r.M0L].changeDetectionScheduler?.notify(9),ku(e,t,t[r.GpT],2,null,null)}function ul(e,t){const n=e[r.nfM],i=n.indexOf(t);n.splice(i,1)}function Ra(e,t){if((0,r.EPY)(t))return;const n=t[r.GpT];n.destroyNode&&ku(e,t,n,3,null,null),function Vy(e){let t=e[r.EJG];if(!t)return cl(e[r.eDl],e);for(;t;){let n=null;if((0,r.q$2)(t))n=t[r.EJG];else{const i=t[r.Y20];i&&(n=i)}if(!n){for(;t&&!t[r.K29]&&t!==e;)(0,r.q$2)(t)&&cl(t[r.eDl],t),t=t[r.f7T];null===t&&(t=e),(0,r.q$2)(t)&&cl(t[r.eDl],t),n=t&&t[r.K29]}t=n}}(t)}function cl(e,t){if((0,r.EPY)(t))return;const n=(0,d.Ht)(null);try{t[r.Wg1]&=-129,t[r.Wg1]|=256,t[r.Iaj]&&(0,d.XR)(t[r.Iaj]),function Gy(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const o=t[n[i]];if(!(o instanceof ot)){const s=n[i+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const f=o[s[c]],w=s[c+1];De(Te.LifecycleHookStart,f,w);try{w.call(f)}finally{De(Te.LifecycleHookEnd,f,w)}}else{De(Te.LifecycleHookStart,o,s);try{s.call(o)}finally{De(Te.LifecycleHookEnd,o,s)}}}}}(e,t),function zy(e,t){const n=e.cleanup,i=t[r.VVG];if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const f=n[c+3];f>=0?i[f]():i[-f].unsubscribe(),c+=2}else n[c].call(i[n[c+1]]);null!==i&&(t[r.VVG]=null);const o=t[r.Czx];if(null!==o){t[r.Czx]=null;for(let c=0;c<o.length;c++)(0,o[c])()}const s=t[r.tQN];if(null!==s){t[r.tQN]=null;for(const c of s)c.destroy()}}(e,t),1===t[r.eDl].type&&t[r.GpT].destroy();const i=t[r.rQE];if(null!==i&&(0,r.A0l)(t[r.f7T])){i!==t[r.f7T]&&ul(i,t);const o=t[r.Ds7];null!==o&&o.detachView(e)}Gt(t)}finally{(0,d.Ht)(n)}}function $f(e,t,n,i){const o=e?.[r.Isx];if(null==o||null==o.leave||!o.leave.has(t.index))return i(!1);e&&gs.add(e[r.ID]),Nf(n,()=>{if(o.leave&&o.leave.has(t.index)){const c=o.leave.get(t.index),f=[];if(c){for(let w=0;w<c.animateFns.length;w++){const de=c.animateFns[w],{promise:ye}=de();f.push(ye)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(f),function Hy(e,t){const n=e[r.Isx]?.running;n?n.then(()=>{e[r.Isx].running=void 0,gs.delete(e[r.ID]),t(!0)}):t(!1)}(e,i)}else e&&gs.delete(e[r.ID]),i(!1)},o)}function ll(e,t,n){return Bf(e,t.parent,n)}function Bf(e,t,n){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return n[r.jgP];if((0,r.Qs1)(i)){const{encapsulation:o}=e.data[i.directiveStart+i.componentOffset];if(o===Fe.None||o===Fe.Emulated)return null}return(0,r.d31)(i,n)}function jf(e,t,n){return Kf(e,t,n)}function Uf(e,t,n){return 40&e.type?(0,r.d31)(e,n):null}let dl,Kf=Uf;function Wf(e,t){Kf=e,dl=t}function fl(e,t,n,i){const o=ll(e,i,t),s=t[r.GpT],f=jf(i.parent||t[r.qlT],i,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)Mt(s,o,n[w],f,!1);else Mt(s,o,n,f,!1);void 0!==dl&&dl(s,i,t,n,o)}function _s(e,t){if(null!==t){const n=t.type;if(3&n)return(0,r.d31)(t,e);if(4&n)return Ru(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return _s(e,i);{const o=e[t.index];return(0,r.A0l)(o)?Ru(-1,o):(0,r.IvY)(o)}}if(128&n)return _s(e,t.next);if(32&n)return il(t,e)()||(0,r.IvY)(e[t.index]);{const i=Vf(e,t);return null!==i?Array.isArray(i)?i[0]:_s((0,r._0$)(e[r.b5C]),i):_s(e,t.next)}}return null}function Vf(e,t){return null!==t?e[r.b5C][r.qlT].projection[t.projection]:null}function Ru(e,t){const n=r.Y20+e+1;if(n<t.length){const i=t[n],o=i[r.eDl].firstChild;if(null!==o)return _s(i,o)}return t[r.s6P]}function hl(e,t,n,i,o,s,c){for(;null!=n;){const f=i[r.YEL];if(128===n.type){n=n.next;continue}const w=i[n.index],de=n.type;if(c&&0===t&&(w&&Xt((0,r.IvY)(w),i),n.flags|=2),!$n(n))if(8&de)hl(e,t,n.child,i,o,s,!1),zs(t,e,f,o,w,n,s,i);else if(32&de){const ye=il(n,i);let Ye;for(;Ye=ye();)zs(t,e,f,o,Ye,n,s,i);zs(t,e,f,o,w,n,s,i)}else 16&de?Hf(e,t,i,n,o,s):zs(t,e,f,o,w,n,s,i);n=c?n.projectionNext:n.next}}function ku(e,t,n,i,o,s){hl(n,i,e.firstChild,t,o,s,!1)}function Hf(e,t,n,i,o,s){const c=n[r.b5C],w=c[r.qlT].projection[i.projection];if(Array.isArray(w))for(let de=0;de<w.length;de++)zs(t,e,n[r.YEL],o,w[de],i,s,n);else{let de=w;const ye=c[r.f7T];Zn(i)&&(de.flags|=128),hl(e,t,de,ye,o,s,!0)}}function zf(e,t,n,i,o){const s=(0,r._px)(),c=2&i;try{(0,r.ypq)(-1),c&&t.length>r.Yw1&&wf(e,t,r.Yw1,!1),De(c?Te.TemplateUpdateStart:Te.TemplateCreateStart,o,n),n(i,o)}finally{(0,r.ypq)(s),De(c?Te.TemplateUpdateEnd:Te.TemplateCreateEnd,o,n)}}function Nu(e,t,n){(function tv(e,t,n){const i=n.directiveStart,o=n.directiveEnd;(0,r.Qs1)(n)&&function Ry(e,t,n){const i=(0,r.d31)(t,e),o=Cf(n),s=e[r.M0L].rendererFactory,c=nl(e,Su(e,o,null,tl(n),i,t,null,s.createRenderer(i,n),null,null,null));e[t.index]=c}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||rn(n,t);const s=n.initialInputs;for(let c=i;c<o;c++){const f=e.data[c],w=Zr(t,e,c,n);Xt(w,t),null!==s&&ov(0,c-i,w,f,0,s),(0,r.JlV)(f)&&((0,r.KdJ)(n.index,t)[r.SKP]=Zr(t,e,c,n))}})(e,t,n),!(64&~n.flags)&&function nv(e,t,n){const i=n.directiveStart,o=n.directiveEnd,s=n.index,c=(0,r.Z9v)();try{(0,r.ypq)(s);for(let f=i;f<o;f++){const w=e.data[f],de=t[f];(0,r.RZ9)(f),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&rv(w,de)}}finally{(0,r.ypq)(-1),(0,r.RZ9)(c)}}(e,t,n)}function Gs(e,t,n=r.d31){const i=t.localNames;if(null!==i){let o=t.index+1;for(let s=0;s<i.length;s+=2){const c=i[s+1],f=-1===c?n(t,e):e[c];e[o++]=f}}}let Gf=()=>null;function xu(e,t,n,i,o,s){Bu(e,t[r.eDl],t,n,i)?(0,r.Qs1)(e)&&Qf(t,e.index):(3&e.type&&(n=function ev(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),pl(e,t,n,i,o,s))}function pl(e,t,n,i,o,s){if(3&e.type){const c=(0,r.d31)(e,t);i=null!=s?s(i,e.value||"",n):i,o.setProperty(c,n,i)}}function Qf(e,t){const n=(0,r.KdJ)(t,e);16&n[r.Wg1]||(n[r.Wg1]|=64)}function rv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ml(e,t){const n=e.directiveRegistry;let i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];Df(t,s.selectors,!1)&&(i??=[],(0,r.JlV)(s)?i.unshift(s):i.push(s))}return i}function Lu(e,t,n,i,o,s,c){if(null==s)e.removeAttribute(t,o,n);else{const f=null==c?(0,r.eFE)(s):c(s,i||"",o);e.setAttribute(t,o,f,n)}}function ov(e,t,n,i,o,s){const c=s[t];if(null!==c)for(let f=0;f<c.length;f+=2)ms(i,n,c[f],c[f+1])}function Fu(e,t,n,i,o){const s=r.Yw1+n,c=t[r.eDl],f=o(c,t,e,i,n);t[s]=f,(0,r.iMd)(e,!0);const w=2===e.type;return w?(Rr(t[r.GpT],f,e),(0===(0,r.znI)()||(0,r.yoD)(e))&&Xt(f,t),(0,r.Fje)()):Xt(f,t),(0,r.SX7)()&&(!w||!$n(e))&&fl(c,t,f,e),e}function $u(e){let t=e;return(0,r.YWB)()?(0,r.Pfq)():(t=t.parent,(0,r.iMd)(t,!1)),t}function Xf(e,t,n){return(null===e||(0,r.JlV)(e))&&(n=(0,r.zAe)(n[t.index])),n[r.GpT]}function gl(e,t){const n=e[r.YEL];if(!n)return;let i;try{i=n.get(r.ZTf,null)}catch{i=null}i?.(t)}function Bu(e,t,n,i,o){const s=e.inputs?.[i],c=e.hostDirectiveInputs?.[i];let f=!1;if(c)for(let w=0;w<c.length;w+=2){const de=c[w];ms(t.data[de],n[de],c[w+1],o),f=!0}if(s)for(const w of s)ms(t.data[w],n[w],i,o),f=!0;return f}function av(e,t){const n=(0,r.KdJ)(t,e),i=n[r.eDl];!function uv(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const o=n[r.jgP];null!==o&&null===n[r.tcA]&&(n[r.tcA]=null),De(Te.ComponentStart);try{ju(i,n,n[r.SKP])}finally{De(Te.ComponentEnd,n[r.SKP])}}function ju(e,t,n){(0,r.ID8)(t);try{const i=e.viewQuery;null!==i&&N(1,i,n);const o=e.template;null!==o&&zf(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[r.Ds7]?.finishViewCreation(e),e.staticContentQueries&&y(e,t),e.staticViewQueries&&N(2,e.viewQuery,n);const s=e.components;null!==s&&function cv(e,t){for(let n=0;n<t.length;n++)av(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[r.Wg1]&=-5,(0,r.bll)()}}function Qs(e,t,n,i){const o=(0,d.Ht)(null);try{const s=t.tView,w=Su(e,s,n,4096&e[r.Wg1]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);w[r.rQE]=e[t.index];const ye=e[r.Ds7];return null!==ye&&(w[r.Ds7]=ye.createEmbeddedView(s)),ju(s,w,n),w}finally{(0,d.Ht)(o)}}function ys(e,t){return!t||null===t.firstChild||Zn(e)}function ka(e,t,n,i,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const s=t[n.index];null!==s&&i.push((0,r.IvY)(s)),(0,r.A0l)(s)&&lv(s,i);const c=n.type;if(8&c)ka(e,t,n.child,i);else if(32&c){const f=il(n,t);let w;for(;w=f();)i.push(w)}else if(16&c){const f=Vf(t,n);if(Array.isArray(f))i.push(...f);else{const w=(0,r._0$)(t[r.b5C]);ka(w[r.eDl],w,f,i,!0)}}n=o?n.projectionNext:n.next}return i}function lv(e,t){for(let n=r.Y20;n<e.length;n++){const i=e[n],o=i[r.eDl].firstChild;null!==o&&ka(i[r.eDl],i,o,t)}e[r.s6P]!==e[r.jgP]&&t.push(e[r.s6P])}function Zf(e){if(null!==e[r.JEi]){for(const t of e[r.JEi])t.impl.addSequence(t);e[r.JEi].length=0}}let Jf=[];const pv={...d.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,r.blu)(e.lView)},consumerOnSignalRead(){this.lView[r.Iaj]=this}},gv={...d.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=(0,r._0$)(e.lView);for(;t&&!qf(t[r.eDl]);)t=(0,r._0$)(t);t&&(0,r.HAh)(t)},consumerOnSignalRead(){this.lView[r.Iaj]=this}};function qf(e){return 2!==e.type}function eh(e){if(null===e[r.tQN])return;let t=!0;for(;t;){let n=!1;for(const i of e[r.tQN])i.dirty&&(n=!0,null===i.zone||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(8192&e[r.Wg1])}}function Uu(e,t=0){const i=e[r.M0L].rendererFactory;i.begin?.();try{!function yv(e,t){const n=(0,r.yP_)();try{(0,r.cBl)(!0),_l(e,t);let i=0;for(;(0,r.dMS)(e);){if(100===i)throw new r.buA(103,!1);i++,_l(e,1)}}finally{(0,r.cBl)(n)}}(e,t)}finally{i.end?.()}}function th(e,t,n,i){if((0,r.EPY)(t))return;const o=t[r.Wg1];(0,r.ID8)(t);let f=!0,w=null,de=null;qf(e)?(de=function dv(e){return e[r.Iaj]??function fv(e){const t=Jf.pop()??Object.create(pv);return t.lView=e,t}(e)}(t),w=(0,d.Bg)(de)):null===(0,d.nR)()?(f=!1,de=function mv(e){const t=e[r.Iaj]??Object.create(gv);return t.lView=e,t}(t),w=(0,d.Bg)(de)):t[r.Iaj]&&((0,d.XR)(t[r.Iaj]),t[r.Iaj]=null);try{(0,r.HUe)(t),(0,r.Kw3)(e.bindingStartIndex),null!==n&&zf(e,t,n,2,i);const ye=!(3&~o);if(ye){const _t=e.preOrderCheckHooks;null!==_t&&te(t,_t,null)}else{const _t=e.preOrderHooks;null!==_t&&Me(t,_t,0,null),pe(t,0)}if(function vv(e){for(let t=vi(e);null!==t;t=ji(t)){if(!(2&t[r.Wg1]))continue;const n=t[r.nfM];for(let i=0;i<n.length;i++)(0,r.HAh)(n[i])}}(t),eh(t),nh(t,0),null!==e.contentQueries&&y(e,t),ye){const _t=e.contentCheckHooks;null!==_t&&te(t,_t)}else{const _t=e.contentHooks;null!==_t&&Me(t,_t,1),pe(t,1)}!function Dv(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)(0,r.ypq)(~o);else{const s=o,c=n[++i],f=n[++i];(0,r.vQI)(c,s);const w=t[s];De(Te.HostBindingsUpdateStart,w);try{f(2,w)}finally{De(Te.HostBindingsUpdateEnd,w)}}}}finally{(0,r.ypq)(-1)}}(e,t);const Ye=e.components;null!==Ye&&ih(t,Ye,0);const ft=e.viewQuery;if(null!==ft&&N(2,ft,i),ye){const _t=e.viewCheckHooks;null!==_t&&te(t,_t)}else{const _t=e.viewHooks;null!==_t&&Me(t,_t,2),pe(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[r.pcR]){for(const _t of t[r.pcR])_t();t[r.pcR]=null}Zf(t),t[r.Wg1]&=-73}catch(ye){throw(0,r.blu)(t),ye}finally{null!==de&&((0,d.Wu)(de,w),f&&function hv(e){e.lView[r.Iaj]!==e&&(e.lView=null,Jf.push(e))}(de)),(0,r.bll)()}}function nh(e,t){for(let n=vi(e);null!==n;n=ji(n))for(let i=r.Y20;i<n.length;i++)rh(n[i],t)}function Ev(e,t,n){De(Te.ComponentStart);const i=(0,r.KdJ)(t,e);try{rh(i,n)}finally{De(Te.ComponentEnd,i[r.SKP])}}function rh(e,t){(0,r.F1c)(e)&&_l(e,t)}function _l(e,t){const i=e[r.eDl],o=e[r.Wg1],s=e[r.Iaj];let c=!!(0===t&&16&o);if(c||=!!(64&o&&0===t),c||=!!(1024&o),c||=!(!s?.dirty||!(0,d.si)(s)),c||=!1,s&&(s.dirty=!1),e[r.Wg1]&=-9217,c)th(i,e,i.template,e[r.SKP]);else if(8192&o){const f=(0,d.Ht)(null);try{eh(e),nh(e,1);const w=i.components;null!==w&&ih(e,w,1),Zf(e)}finally{(0,d.Ht)(f)}}}function ih(e,t,n){for(let i=0;i<t.length;i++)Ev(e,t[i],n)}function Ys(e,t){const n=(0,r.yP_)()?64:1088;for(e[r.M0L].changeDetectionScheduler?.notify(t);e;){e[r.Wg1]|=n;const i=(0,r._0$)(e);if((0,r.EFk)(e)&&!i)return e;e=i}return null}function oh(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function sh(e,t){const n=r.Y20+t;if(n<e.length)return e[n]}function Xs(e,t,n,i=!0){const o=t[r.eDl];if(function bv(e,t,n,i){const o=r.Y20+i,s=n.length;i>0&&(n[o-1][r.K29]=t),i<s-r.Y20?(t[r.K29]=n[o],(0,r.EYC)(n,r.Y20+i,t)):(n.push(t),t[r.K29]=null),t[r.f7T]=n;const c=t[r.rQE];null!==c&&n!==c&&ah(c,t);const f=t[r.Ds7];null!==f&&f.insertView(e),(0,r._gW)(t),t[r.Wg1]|=128}(o,t,e,n),i){const c=Ru(n,e),f=t[r.GpT],w=f.parentNode(e[r.s6P]);null!==w&&function Wy(e,t,n,i,o,s){i[r.jgP]=o,i[r.qlT]=t,ku(e,i,n,1,o,s)}(o,e[r.qlT],f,t,w,c)}const s=t[r.tcA];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function yl(e,t){const n=Na(e,t);return void 0!==n&&Ra(n[r.eDl],n),n}function Na(e,t){if(e.length<=r.Y20)return;const n=r.Y20+t,i=e[n];if(i){const o=i[r.rQE];null!==o&&o!==e&&ul(o,i),t>0&&(e[n-1][r.K29]=i[r.K29]);const s=(0,r.E6O)(e,r.Y20+t);Lf(i[r.eDl],i);const c=s[r.Ds7];null!==c&&c.detachView(s[r.eDl]),i[r.f7T]=null,i[r.K29]=null,i[r.Wg1]&=-129}return i}function ah(e,t){const n=e[r.nfM],i=t[r.f7T];((0,r.q$2)(i)||t[r.b5C]!==i[r.f7T][r.b5C])&&(e[r.Wg1]|=2),null===n?e[r.nfM]=[t]:n.push(t)}class Ku{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[r.eDl];return ka(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[r.SKP]}set context(t){this._lView[r.SKP]=t}get destroyed(){return(0,r.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[r.f7T];if((0,r.A0l)(t)){const n=t[r.bm_],i=n?n.indexOf(this):-1;i>-1&&(Na(t,i),(0,r.E6O)(n,i))}this._attachedToViewContainer=!1}Ra(this._lView[r.eDl],this._lView)}onDestroy(t){(0,r.ik5)(this._lView,t)}markForCheck(){Ys(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[r.Wg1]&=-129}reattach(){(0,r._gW)(this._lView),this._lView[r.Wg1]|=128}detectChanges(){this._lView[r.Wg1]|=1024,Uu(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new r.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=(0,r.EFk)(this._lView),n=this._lView[r.rQE];null!==n&&!t&&ul(n,this._lView),Ff(this._lView[r.eDl],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new r.buA(902,!1);this._appRef=t;const n=(0,r.EFk)(this._lView),i=this._lView[r.rQE];null!==i&&!n&&ah(i,this._lView),(0,r._gW)(this._lView)}}let xa=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Cv;constructor(n,i,o){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const s=Qs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new Ku(s)}})();function Cv(){return Wu((0,r.Mx4)(),(0,r.OAn)())}function Wu(e,t){return 4&e.type?new xa(t,e,hr(e,t)):null}function lh(e,t,n){const i=t.insertBeforeIndex,o=Array.isArray(i)?i[0]:i;return null===o?Uf(e,0,n):(0,r.IvY)(n[o])}function dh(e,t,n,i,o){const s=t.insertBeforeIndex;if(Array.isArray(s)){let c=i,f=null;if(3&t.type||(f=c,c=o),null!==c&&-1===t.componentOffset)for(let w=1;w<s.length;w++)fe(e,c,n[s[w]],f,!1)}}function vs(e,t,n,i,o){let s=e.data[t];if(null===s)s=bl(e,t,n,i,o),(0,r.JjR)()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=o;const c=(0,r.Ab)();s.injectorIndex=null===c?-1:c.injectorIndex}return(0,r.iMd)(s,!0),s}function bl(e,t,n,i,o){const s=(0,r.veI)(),c=(0,r.YWB)(),w=e.data[t]=function Rv(e,t,n,i,o,s){let c=t?t.injectorIndex:-1,f=0;return(0,r.KtD)()&&(f|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:f,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,n,t,i,o);return function Pv(e,t,n,i){null===e.firstChild&&(e.firstChild=t),null!==n&&(i?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,w,s,c),w}function fh(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const i=e[n];hh(i)||kv(i,t)&&null===Nv(i)&&xv(i,t.index)}}function hh(e){return!(64&e.type)}function kv(e,t){return hh(t)||e.index>t.index}function Nv(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function xv(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Wf(lh,dh),e.insertBeforeIndex=t)}function Ba(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function $v(e,t,n){const i=bl(e,n,64,null,null);return fh(t,i),i}function Hu(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function ph(e){return e>>>17}function mh(e){return(131070&e)>>>1}function Cl(e,t,n){e.index=0;const i=Hu(t,n);e.removes=null!==i?t.remove[i]:r.Mlv}function zu(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),Cl(e,e.lView[r.eDl].data[~t],e.lView),zu(e))}return 0===e.stack.length?(e.lView=void 0,null):(e.removes=e.stack.pop(),e.index=e.stack.pop(),zu(e))}function jv(){const e={stack:[],index:-1};return function t(n,i){for(e.lView=i;e.stack.length;)e.stack.pop();return Cl(e,n.value,i),zu.bind(null,e)}}function a0(e,t,n){for(const i of n.node.cases[n.case]){const o=t.get(i.index-r.Yw1);o&&Qt(e,o,!1)}}function Qu(e){const t=e[r.qFA]??[],i=e[r.f7T][r.GpT],o=[];for(const s of t)void 0!==s.data.di?o.push(s):Sh(s,i);e[r.qFA]=o}function u0(e){const{lContainer:t}=e,n=t[r.qFA];if(null===n)return;const o=t[r.f7T][r.GpT];for(const s of n)Sh(s,o)}function Sh(e,t){let n=0,i=e.firstChild;if(i){const o=e.data.r;for(;n<o;){const s=i.nextSibling;Qt(t,i,!1),i=s,n++}}}function Yu(e){Qu(e);const t=e[r.jgP];(0,r.q$2)(t)&&Xu(t);for(let n=r.Y20;n<e.length;n++)Xu(e[n])}function Xu(e){!function s0(e){const t=e[r.tcA];if(t){const{i18nNodes:n,dehydratedIcuData:i}=t;if(n&&i){const o=e[r.GpT];for(const s of i.values())a0(o,n,s)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[r.eDl];for(let n=r.Yw1;n<t.bindingStartIndex;n++)(0,r.A0l)(e[n])?Yu(e[n]):(0,r.q$2)(e[n])&&Xu(e[n])}let m0=class{},Rh=class{};class g0{resolveComponentFactory(t){throw new r.buA(917,!1)}}let Zu=class{static NULL=new g0};class Tl{}let _0=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function y0(){const e=(0,r.OAn)(),t=(0,r.Mx4)(),n=(0,r.KdJ)(t.index,e);return((0,r.q$2)(n)?n:e)[r.GpT]}()})(),v0=(()=>{class e{static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function Al(e){return void 0!==e.ngModule}function Ds(e){return!!(0,r.phH)(e)}function Ju(e){return!!(0,r.oyA)(e)}function kh(e){return!!(0,r.HaV)(e)}function Wa(e){return!!(0,r.xUg)(e)}function D0(e,t){if((0,r.Jzi)(e)&&!(e=(0,r.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,r.PP7)(t)}", to return a standalone entity or NgModule but got "${(0,r.PP7)(e)||e}".`);if(null==(0,r.phH)(e)){const n=(0,r.xUg)(e)||(0,r.HaV)(e)||(0,r.oyA)(e);if(null==n)throw Al(e)?new Error(`A module with providers was imported from "${(0,r.PP7)(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,r.PP7)(e)}" type, imported from "${(0,r.PP7)(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!n.standalone){const i=function E0(e){return(0,r.xUg)(e)?"component":(0,r.HaV)(e)?"directive":(0,r.oyA)(e)?"pipe":"type"}(e);throw new Error(`The "${(0,r.PP7)(e)}" ${i}, imported from "${(0,r.PP7)(t)}", is not standalone. Does the ${i} have the standalone: false flag?`)}}}class b0{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const t of this.ngModulesWithSomeUnresolvedDecls){const n=(0,r.phH)(t);if(n?.declarations)for(const i of Ho(n.declarations))Wa(i)&&this.ownerNgModule.set(i,t)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(t,n){this.resolveNgModulesDecls();const i=(0,r.xUg)(t);if(null===i)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${t}`);if(i.standalone){const o=this.getStandaloneComponentScope(t,n);return o.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...o.compilation.directives,...o.compilation.pipes,...o.compilation.ngModules]}}{if(!this.ownerNgModule.has(t))return{dependencies:[]};const o=this.getNgModuleScope(this.ownerNgModule.get(t));return o.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...o.compilation.directives,...o.compilation.pipes]}}}registerNgModule(t,n){if(!Ds(t))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${t}`);this.ngModulesWithSomeUnresolvedDecls.add(t)}clearScopeCacheFor(t){this.ngModulesScopeCache.delete(t),this.standaloneComponentsScopeCache.delete(t)}getNgModuleScope(t){if(this.ngModulesScopeCache.has(t))return this.ngModulesScopeCache.get(t);const n=this.computeNgModuleScope(t);return this.ngModulesScopeCache.set(t,n),n}computeNgModuleScope(t){const n=(0,r.WbQ)(t),i={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const o of Ho(n.imports))if(Ds(o)){const s=this.getNgModuleScope(o);ss(s.exported.directives,i.compilation.directives),ss(s.exported.pipes,i.compilation.pipes)}else{if(!(0,r.QuC)(o)){i.compilation.isPoisoned=!0;break}if(kh(o)||Wa(o))i.compilation.directives.add(o);else{if(!Ju(o))throw new r.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");i.compilation.pipes.add(o)}}if(!i.compilation.isPoisoned)for(const o of Ho(n.declarations)){if(Ds(o)||(0,r.QuC)(o)){i.compilation.isPoisoned=!0;break}Ju(o)?i.compilation.pipes.add(o):i.compilation.directives.add(o)}for(const o of Ho(n.exports))if(Ds(o)){const s=this.getNgModuleScope(o);ss(s.exported.directives,i.exported.directives),ss(s.exported.pipes,i.exported.pipes),ss(s.exported.directives,i.compilation.directives),ss(s.exported.pipes,i.compilation.pipes)}else Ju(o)?i.exported.pipes.add(o):i.exported.directives.add(o);return i}getStandaloneComponentScope(t,n){if(this.standaloneComponentsScopeCache.has(t))return this.standaloneComponentsScopeCache.get(t);const i=this.computeStandaloneComponentScope(t,n);return this.standaloneComponentsScopeCache.set(t,i),i}computeStandaloneComponentScope(t,n){const i={compilation:{directives:new Set([t]),pipes:new Set,ngModules:new Set}};for(const o of(0,r.Bqz)(n??[])){const s=(0,r.nl4)(o);try{D0(s,t)}catch{return i.compilation.isPoisoned=!0,i}if(Ds(s)){i.compilation.ngModules.add(s);const c=this.getNgModuleScope(s);if(c.exported.isPoisoned)return i.compilation.isPoisoned=!0,i;ss(c.exported.directives,i.compilation.directives),ss(c.exported.pipes,i.compilation.pipes)}else if(Ju(s))i.compilation.pipes.add(s);else{if(!kh(s)&&!Wa(s))return i.compilation.isPoisoned=!0,i;i.compilation.directives.add(s)}}return i}isOrphanComponent(t){const n=(0,r.xUg)(t);return!(!n||n.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(t)))}}function ss(e,t){for(const n of e)t.add(n)}const Va=new b0,Pl={};class Js{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){const o=this.injector.get(t,Pl,i);return o!==Pl||n===Pl?o:this.parentInjector.get(t,n,i)}}function qu(e,t,n){let i=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let c=0;c<t.length;c++){const f=t[c];if("number"==typeof f)s=f;else if(1==s)o=(0,r.n$e)(o,f);else if(2==s){const de=t[++c];i=(0,r.n$e)(i,f+": "+de+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=o:e.classesWithoutHost=o}function qs(e,t=0){const n=(0,r.OAn)();return null===n?(0,r.KVO)(e,t):Tr((0,r.Mx4)(),n,(0,r.nl4)(e),t)}function Nh(){throw new Error("invalid")}function xh(e,t,n,i,o){const s=null===i?null:{"":-1},c=o(e,n);if(null!==c){let f=c,w=null,de=null;for(const ye of c)if(null!==ye.resolveHostDirectives){[f,w,de]=ye.resolveHostDirectives(c);break}!function w0(e,t,n,i,o,s,c){const f=i.length;let w=null;for(let ft=0;ft<f;ft++){const _t=i[ft];null===w&&(0,r.JlV)(_t)&&(w=_t,M0(e,n,ft)),gn(rn(n,t),e,_t.type)}(function P0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t})(n,e.data.length,f),w?.viewProvidersResolver&&w.viewProvidersResolver(w);for(let ft=0;ft<f;ft++){const _t=i[ft];_t.providersResolver&&_t.providersResolver(_t)}let de=!1,ye=!1,Ye=Aa(e,t,f,null);f>0&&(n.directiveToIndex=new Map);for(let ft=0;ft<f;ft++){const _t=i[ft];if(n.mergedAttrs=Yt(n.mergedAttrs,_t.hostAttrs),I0(e,n,t,Ye,_t),A0(Ye,_t,o),null!==c&&c.has(_t)){const[vn,Ln]=c.get(_t);n.directiveToIndex.set(_t.type,[Ye,vn+n.directiveStart,Ln+n.directiveStart])}else(null===s||!s.has(_t))&&n.directiveToIndex.set(_t.type,Ye);null!==_t.contentQueries&&(n.flags|=4),(null!==_t.hostBindings||null!==_t.hostAttrs||0!==_t.hostVars)&&(n.flags|=64);const zt=_t.type.prototype;!de&&(zt.ngOnChanges||zt.ngOnInit||zt.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),de=!0),!ye&&(zt.ngOnChanges||zt.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),ye=!0),Ye++}!function S0(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){const o=e.data[i];if(null!==n&&n.has(o)){const s=n.get(o);Fh(0,t,s,i),Fh(1,t,s,i),Bh(t,i,!0)}else Lh(0,t,o,i),Lh(1,t,o,i),Bh(t,i,!1)}}(e,n,s)}(e,t,n,f,s,w,de)}null!==s&&null!==i&&function C0(e,t,n){const i=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new r.buA(-301,!1);i.push(t[o],s)}}(n,i,s)}function M0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Lh(e,t,n,i){const o=0===e?n.inputs:n.outputs;for(const s in o)if(o.hasOwnProperty(s)){let c;c=0===e?t.inputs??={}:t.outputs??={},c[s]??=[],c[s].push(i),$h(t,s)}}function Fh(e,t,n,i){const o=0===e?n.inputs:n.outputs;for(const s in o)if(o.hasOwnProperty(s)){const c=o[s];let f;f=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},f[c]??=[],f[c].push(i,s),$h(t,c)}}function $h(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function Bh(e,t,n){const{attrs:i,inputs:o,hostDirectiveInputs:s}=e;if(null===i||!n&&null===o||n&&null===s||qc(e))return e.initialInputs??=[],void e.initialInputs.push(null);let c=null,f=0;for(;f<i.length;){const w=i[f];if(0!==w)if(5!==w){if("number"==typeof w)break;if(!n&&o.hasOwnProperty(w)){const de=o[w];for(const ye of de)if(ye===t){c??=[],c.push(w,i[f+1]);break}}else if(n&&s.hasOwnProperty(w)){const de=s[w];for(let ye=0;ye<de.length;ye+=2)if(de[ye]===t){c??=[],c.push(de[ye+1],i[f+1]);break}}f+=2}else f+=2;else f+=4}e.initialInputs??=[],e.initialInputs.push(c)}function I0(e,t,n,i,o){e.data[i]=o;const s=o.factory||(o.factory=(0,r.wGu)(o.type,!0)),c=new ot(s,(0,r.JlV)(o),qs,null);e.blueprint[i]=c,n[i]=c,function O0(e,t,n,i,o){const s=o.hostBindings;if(s){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const f=~t.index;(function T0(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=f&&c.push(f),c.push(n,i,s)}}(e,t,i,Aa(e,n,o.hostVars,ni),o)}function A0(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;(0,r.JlV)(t)&&(n[""]=e)}}function Rl(e,t,n,i,o,s,c,f){const w=t[r.eDl],de=w.consts,Ye=vs(w,e,n,i,(0,r.db4)(de,c));return s&&xh(w,t,Ye,(0,r.db4)(de,f),o),Ye.mergedAttrs=Yt(Ye.mergedAttrs,Ye.attrs),null!==Ye.attrs&&qu(Ye,Ye.attrs,!1),null!==Ye.mergedAttrs&&qu(Ye,Ye.mergedAttrs,!0),null!==w.queries&&w.queries.elementStart(w,Ye),Ye}function kl(e,t){j(e,t),(0,r.srX)(t)&&e.queries.elementEnd(t)}function jh(e,t,n,i,o,s){const c=t.consts,w=vs(t,e,n,i,(0,r.db4)(c,o));if(w.mergedAttrs=Yt(w.mergedAttrs,w.attrs),null!=s){const de=(0,r.db4)(c,s);w.localNames=[];for(let ye=0;ye<de.length;ye+=2)w.localNames.push(de[ye],-1)}return null!==w.attrs&&qu(w,w.attrs,!1),null!==w.mergedAttrs&&qu(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}function Nl(e){return!!Uh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function k0(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}function Uh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zo(e,t,n){return e[t]=n}function Ha(e,t){return e[t]}function bi(e,t,n){return n!==ni&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function bs(e,t,n,i){const o=bi(e,t,n);return bi(e,t+1,i)||o}function ec(e,t,n,i,o){const s=bs(e,t,n,i);return bi(e,t+2,o)||s}function Ro(e,t,n,i,o,s){const c=bs(e,t,n,i);return bs(e,t+2,o,s)||c}const Kh=Symbol("CONTROL");function Yo(e,t,n){return function i(o){Ys((0,r.Qs1)(e)?(0,r.KdJ)(e.index,t):t,5);const c=t[r.SKP];let f=Wh(t,c,n,o),w=i.__ngNextListenerFn__;for(;w;)f=Wh(t,c,w,o)&&f,w=w.__ngNextListenerFn__;return f}}function Wh(e,t,n,i){const o=(0,d.Ht)(null);try{return De(Te.OutputStart,t,n),!1!==n(i)}catch(s){return gl(e,s),!1}finally{De(Te.OutputEnd,t,n),(0,d.Ht)(o)}}function tc(e,t,n,i,o,s,c,f){const w=(0,r.yoD)(e);let de=!1,ye=null;if(!i&&w&&(ye=function L0(e,t,n,i){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const c=o[s];if(c===n&&o[s+1]===i){const f=t[r.VVG],w=o[s+2];return f&&f.length>w?f[w]:null}"string"==typeof c&&(s+=2)}return null}(t,n,s,e.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=c,ye.__ngLastListenerFn__=c,de=!0;else{const Ye=(0,r.d31)(e,n),ft=i?i(Ye):Ye,_t=o.listen(ft,s,f);(function x0(e){return e.startsWith("animation")||e.startsWith("transition")})(s)||Vh(i?vn=>i((0,r.IvY)(vn[e.index])):e.index,t,n,s,f,_t,!1)}return de}function Vh(e,t,n,i,o,s,c){const f=t.firstCreatePass?(0,r.vNG)(t):null,w=(0,r.d_l)(n),de=w.length;w.push(o,s),f&&f.push(i,e,de,(de+1)*(c?-1:1))}function ea(e,t,n,i,o,s){const f=t[r.eDl],Ye=t[n][f.data[n].outputs[i]].subscribe(s);Vh(e.index,f,t,o,s,Ye,!0)}const Xo=Symbol("BINDING");class Gh extends Zu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=(0,r.xUg)(t);return new nc(n,this.ngModule)}}class nc extends Rh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function V0(e){return Object.keys(e).map(t=>{const[n,i,o]=e[t],s={propName:n,templateName:t,isSignal:0!==(i&Iu.SignalBased)};return o&&(s.transform=o),s})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function H0(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Ty(e){return e.map(Oy).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,o,s,c){De(Te.DynamicComponentStart);const f=(0,d.Ht)(null);try{const w=this.componentDef,de=function X0(e,t,n,i){const o=e?["ng-version","21.0.8"]:function Ay(e){const t=[],n=[];let i=1,o=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++i]):8===o&&n.push(s);else{if(!Fo(o))break;o=s}i++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let s=null,c=null,f=0;if(n)for(const ye of n)f+=ye[Xo].requiredVars,ye.create&&(ye.targetIdx=0,(s??=[]).push(ye)),ye.update&&(ye.targetIdx=0,(c??=[]).push(ye));if(i)for(let ye=0;ye<i.length;ye++){const Ye=i[ye];if("function"!=typeof Ye)for(const ft of Ye.bindings){f+=ft[Xo].requiredVars;const _t=ye+1;ft.create&&(ft.targetIdx=_t,(s??=[]).push(ft)),ft.update&&(ft.targetIdx=_t,(c??=[]).push(ft))}}const w=[t];if(i)for(const ye of i){const ft=(0,r.HaV)("function"==typeof ye?ye:ye.type);w.push(ft)}return el(0,null,function Z0(e,t){return e||t?n=>{if(1&n&&e)for(const i of e)i.create();if(2&n&&t)for(const i of t)i.update()}:null}(s,c),1,f,w,null,null,null,[o],null)}(i,w,c,s),ye=function z0(e,t,n){let i=t instanceof r.uvJ?t:t?.injector;return i&&null!==e.getStandaloneInjector&&(i=e.getStandaloneInjector(i)||i),i?new Js(n,i):n}(w,o||this.ngModule,t),Ye=function G0(e){const t=e.get(Tl,null);if(null===t)throw new r.buA(407,!1);return{rendererFactory:t,sanitizer:e.get(v0,null),changeDetectionScheduler:e.get(r.hk6,null),ngReflect:!1}}(ye),ft=Ye.rendererFactory.createRenderer(null,w),_t=i?function Zy(e,t,n,i){const s=i.get(ir,!1)||n===Fe.ShadowDom||n===Fe.ExperimentalIsolatedShadowDom,c=e.selectRootElement(t,s);return function Jy(e){Gf(e)}(c),c}(ft,i,w.encapsulation,ye):function Q0(e,t){const n=function Y0(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return g(t,n,"svg"===n?r.jNX:"math"===n?r.rJ1:null)}(w,ft),zt=c?.some(Qh)||s?.some(Qn=>"function"!=typeof Qn&&Qn.bindings.some(Qh)),vn=Su(null,de,null,512|tl(w),null,null,Ye,ft,ye,null,null);vn[r.Yw1]=_t,(0,r.ID8)(vn);let Ln=null;try{const Qn=Rl(r.Yw1,vn,2,"#host",()=>de.directiveRegistry,!0,0);Rr(ft,_t,Qn),Xt(_t,vn),Nu(de,vn,Qn),re(de,Qn,vn),kl(de,Qn),void 0!==n&&function q0(e,t,n){const i=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];i.push(null!=s&&s.length?Array.from(s):null)}}(Qn,this.ngContentSelectors,n),Ln=(0,r.KdJ)(Qn.index,vn),vn[r.SKP]=Ln[r.SKP],ju(de,vn,null)}catch(Qn){throw null!==Ln&&Gt(Ln),Gt(vn),Qn}finally{De(Te.DynamicComponentEnd),(0,r.bll)()}return new J0(this.componentType,vn,!!zt)}finally{(0,d.Ht)(f)}}}function Qh(e){const t=e[Xo].kind;return"input"===t||"twoWay"===t}class J0 extends m0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=(0,r.XRZ)(n[r.eDl],r.Yw1),this.location=hr(this._tNode,n),this.instance=(0,r.KdJ)(this._tNode.index,n)[r.SKP],this.hostView=this.changeDetectorRef=new Ku(n,void 0),this.componentType=t}setInput(t,n){const i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Bu(i,o[r.eDl],o,t,n),this.previousInputValues.set(t,n),Ys((0,r.KdJ)(i.index,o),1)}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let rc=(()=>class e{static __NG_ELEMENT_ID__=eE})();function eE(){return Zh((0,r.Mx4)(),(0,r.OAn)())}const tE=rc,Yh=class extends tE{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return hr(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=sn(this._hostTNode,this._hostLView);if(Bt(t)){const n=Lt(t,this._hostLView),i=Ut(t);return new yr(n[r.eDl].data[i+8],n)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Xh(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-r.Y20}createEmbeddedView(t,n,i){let o,s;"number"==typeof i?o=i:null!=i&&(o=i.index,s=i.injector);const f=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(f,o,ys(this._hostTNode,null)),f}createComponent(t,n,i,o,s,c,f){const w=t&&!q(t);let de;if(w)de=n;else{const Ln=n||{};de=Ln.index,i=Ln.injector,o=Ln.projectableNodes,s=Ln.environmentInjector||Ln.ngModuleRef,c=Ln.directives,f=Ln.bindings}const ye=w?t:new nc((0,r.xUg)(t)),Ye=i||this.parentInjector;if(!s&&null==ye.ngModule){const Qn=(w?Ye:this.parentInjector).get(r.uvJ,null);Qn&&(s=Qn)}(0,r.xUg)(ye.componentType??{});const vn=ye.create(Ye,o,null,s,c,f);return this.insertImpl(vn.hostView,de,ys(this._hostTNode,null)),vn}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){const o=t._lView;if((0,r.ITl)(o)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const w=o[r.f7T],de=new Yh(w,w[r.qlT],w[r.f7T]);de.detach(de.indexOf(t))}}const s=this._adjustIndex(n),c=this._lContainer;return Xs(c,o,s,i),t.attachToViewContainerRef(),(0,r.EYC)(xl(c),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Xh(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Na(this._lContainer,n);i&&((0,r.E6O)(xl(this._lContainer),n),Ra(i[r.eDl],i))}detach(t){const n=this._adjustIndex(t,-1),i=Na(this._lContainer,n);return i&&null!=(0,r.E6O)(xl(this._lContainer),n)?new Ku(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Xh(e){return e[r.bm_]}function xl(e){return e[r.bm_]||(e[r.bm_]=[])}function Zh(e,t){let n;const i=t[e.index];return(0,r.A0l)(i)?n=i:(n=oh(i,t,null,e),t[e.index]=n,nl(t,n)),Jh(n,t,e,i),new Yh(n,e,t)}let Jh=function ep(e,t,n,i){if(e[r.s6P])return;let o;o=8&n.type?(0,r.IvY)(i):function nE(e,t){const n=e[r.GpT],i=n.createComment(""),o=(0,r.d31)(t,e),s=n.parentNode(o);return fe(n,s,i,n.nextSibling(o),!1),i}(t,n),e[r.s6P]=o};class Fl{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Fl(this.queryList)}setDirty(){this.queryList.setDirty()}}class $l{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let s=0;s<i;s++){const c=n.getByIndex(s);o.push(this.queries[c.indexInDeclarationView].clone())}return new $l(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Wl(t,n).matches&&this.queries[n].setDirty()}}class tp{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,this.predicate="string"==typeof t?function cE(e){return e.split(",").map(t=>t.trim())}(t):t}}class Bl{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const o=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,o);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new Bl(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jl{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new jl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const s=i[o];this.matchTNodeWithReadOption(t,n,oE(n,s)),this.matchTNodeWithReadOption(t,n,Kr(n,t,s,!1,!1))}else i===xa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Kr(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===Or||o===rc||o===xa&&4&n.type)this.addMatch(n.index,-2);else{const s=Kr(n,t,o,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function oE(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function aE(e,t,n,i){return-1===n?function sE(e,t){return 11&e.type?hr(e,t):4&e.type?Wu(e,t):null}(t,e):-2===n?function uE(e,t,n){return n===Or?hr(t,e):n===xa?Wu(t,e):n===rc?Zh(t,e):void 0}(e,t,i):Zr(e,e[r.eDl],n,t)}function np(e,t,n,i){const o=t[r.Ds7].queries[i];if(null===o.matches){const s=e.data,c=n.matches,f=[];for(let w=0;null!==c&&w<c.length;w+=2){const de=c[w];f.push(de<0?null:aE(t,s[de],c[w+1],n.metadata.read))}o.matches=f}return o.matches}function Ul(e,t,n,i){const o=e.queries.getByIndex(n),s=o.matches;if(null!==s){const c=np(e,t,o,n);for(let f=0;f<s.length;f+=2){const w=s[f];if(w>0)i.push(c[f/2]);else{const de=s[f+1],ye=t[-w];for(let Ye=r.Y20;Ye<ye.length;Ye++){const ft=ye[Ye];ft[r.rQE]===ft[r.f7T]&&Ul(ft[r.eDl],ft,de,i)}if(null!==ye[r.nfM]){const Ye=ye[r.nfM];for(let ft=0;ft<Ye.length;ft++){const _t=Ye[ft];Ul(_t[r.eDl],_t,de,i)}}}}}return i}function Kl(e,t){return e[r.Ds7].queries[t].queryList}function rp(e,t,n){const i=new Ci(!(4&~n));return(0,r.B22)(e,t,i,i.destroy),(t[r.Ds7]??=new $l).queries.push(new Fl(i))-1}function ip(e,t,n){const i=(0,r.klJ)();return i.firstCreatePass&&(sp(i,new tp(e,t,n),-1),!(2&~t)&&(i.staticViewQueries=!0)),rp(i,(0,r.OAn)(),t)}function op(e,t,n,i){const o=(0,r.klJ)();if(o.firstCreatePass){const s=(0,r.Mx4)();sp(o,new tp(t,n,i),s.index),function lE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return rp(o,(0,r.OAn)(),n)}function sp(e,t,n){null===e.queries&&(e.queries=new Bl),e.queries.track(new jl(t,n))}function Wl(e,t){return e.queries.getByIndex(t)}function ap(e,t){const n=e[r.eDl],i=Wl(n,t);return i.crossesNgTemplate?Ul(n,e,t,[]):np(n,e,i,t)}function up(e,t){const n=e[d.bh];n._lView=(0,r.OAn)(),n._queryIndex=t,n._queryList=Kl(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}let Cs=new Map;const za=new Set;function fE(e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,u.A)(function*(e){const t=Cs;Cs=new Map;const n=new Map;function i(s){const c=n.get(s);if(c)return c;const f=e(s).then(w=>function mE(e,t){return zl.apply(this,arguments)}(s,w));return n.set(s,f),f}const o=Array.from(t).map(function(){var s=(0,u.A)(function*([c,f]){if(f.styleUrl&&f.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const w=[];f.templateUrl&&w.push(i(f.templateUrl).then(ft=>{f.template=ft}));const de="string"==typeof f.styles?[f.styles]:f.styles??[];f.styles=de;let{styleUrl:ye,styleUrls:Ye}=f;if(ye&&(Ye=[ye],f.styleUrl=void 0),Ye?.length){const ft=Promise.all(Ye.map(_t=>i(_t))).then(_t=>{de.push(..._t),f.styleUrls=void 0});w.push(ft)}yield Promise.all(w),za.delete(c)});return function(c){return s.apply(this,arguments)}}());yield Promise.all(o)}),Hl.apply(this,arguments)}function pE(){return 0===Cs.size}function zl(){return(zl=(0,u.A)(function*(e,t){if("string"==typeof t)return t;if(void 0!==t.status&&200!==t.status)throw new r.buA(918,!1);return t.text()})).apply(this,arguments)}const Gl=new Map;function dp(e,t){(function gE(e,t,n){if(t&&t!==n)throw new r.buA(921,!1)})(0,Gl.get(t)||null,e),Gl.set(t,e)}let Ms=class{},fp=class{};function _E(e,t){return new Ql(e,t??null,[])}class Ql extends Ms{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gh(this);constructor(t,n,i,o=!0){super(),this.ngModuleType=t,this._parent=n;const s=(0,r.phH)(t);this._bootstrapComponents=Ho(s.bootstrap),this._r3Injector=(0,r.Pz9)(t,n,[{provide:Ms,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver},...i],(0,r.AsM)(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class hp extends fp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ql(this.moduleType,t,[])}}function yE(e,t,n){return new Ql(e,t,n,!1)}class vE extends Ms{injector;componentFactoryResolver=new Gh(this);instance=null;constructor(t){super();const n=new r.e5P([...t.providers,{provide:Ms,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver}],t.parent||(0,r.WB9)(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Yl(e,t,n=null){return new vE({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let EE=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=(0,r.jXY)(!1,n.type),o=i.length>0?Yl([i],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,r.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,r.KVO)(r.uvJ))})}return e})();function pp(e){return S(()=>{const t=vp(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===pi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(EE).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fe.Emulated,styles:e.styles||r.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&po("NgStandalone"),Ep(n);const i=e.dependencies;return n.directiveDefs=ic(i,mp),n.pipeDefs=ic(i,r.oyA),n.id=function ME(e){let t=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const s of i.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function mp(e){return(0,r.xUg)(e)||(0,r.HaV)(e)}function gp(e){return S(()=>({type:e.type,bootstrap:e.bootstrap||r.Mlv,declarations:e.declarations||r.Mlv,imports:e.imports||r.Mlv,exports:e.exports||r.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function DE(e,t){if(null==e)return r.MZA;const n={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];let s,c,f,w;Array.isArray(o)?(f=o[0],s=o[1],c=o[2]??s,w=o[3]||null):(s=o,c=o,f=Iu.None,w=null),n[s]=[i,f,w],t[s]=c}return n}function bE(e){if(null==e)return r.MZA;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function _p(e){return S(()=>{const t=vp(e);return Ep(t),t})}function yp(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function vp(e){const t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||r.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||r.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:DE(e.inputs,t),outputs:bE(e.outputs),debugInfo:null}}function Ep(e){e.features?.forEach(t=>t(e))}function ic(e,t){return e?()=>{const n="function"==typeof e?e():e,i=[];for(const o of n){const s=t(o);null!==s&&i.push(s)}return i}:null}function SE(e){const t=[];let n=!1,i=null,o=null;for(let s=0;s<e.length;s++){const c=e[s];if(null!==c.hostDirectives){const f=t.length;i??=new Map,o??=new Map,Dp(c,t,i),o.set(c,[f,t.length-1])}0===s&&(0,r.JlV)(c)&&(n=!0,t.push(c))}for(let s=n?1:0;s<e.length;s++)t.push(e[s]);return[t,i,o]}function Dp(e,t,n){if(null!==e.hostDirectives)for(const i of e.hostDirectives)if("function"==typeof i){const o=i();for(const s of o)bp(Xl(s),t,n)}else bp(i,t,n)}function bp(e,t,n){const i=(0,r.HaV)(e.directive);(function IE(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(i.declaredInputs,e.inputs),Dp(i,t,n),n.set(i,e),t.push(i)}function Xl(e){return"function"==typeof e?{directive:(0,r.nl4)(e),inputs:r.MZA,outputs:r.MZA}:{directive:(0,r.nl4)(e.directive),inputs:Cp(e.inputs),outputs:Cp(e.outputs)}}function Cp(e){if(void 0===e||0===e.length)return r.MZA;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function Zl(e){let t=function OE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let o;if((0,r.JlV)(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new r.buA(903,!1);o=t.\u0275dir}if(o){if(n){i.push(o);const c=e;c.inputs=Jl(e.inputs),c.declaredInputs=Jl(e.declaredInputs),c.outputs=Jl(e.outputs);const f=o.hostBindings;f&&kE(e,f);const w=o.viewQuery,de=o.contentQueries;if(w&&PE(e,w),de&&RE(e,de),TE(e,o),(0,r.dwj)(e.outputs,o.outputs),(0,r.JlV)(o)&&o.data.animation){const ye=e.data;ye.animation=(ye.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let c=0;c<s.length;c++){const f=s[c];f&&f.ngInherit&&f(e),f===Zl&&(n=!1)}}t=Object.getPrototypeOf(t)}!function AE(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const o=e[i];o.hostVars=t+=o.hostVars,o.hostAttrs=Yt(o.hostAttrs,n=Yt(n,o.hostAttrs))}}(i)}function TE(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const i=t.inputs[n];void 0!==i&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function Jl(e){return e===r.MZA?{}:e===r.Mlv?[]:e}function PE(e,t){const n=e.viewQuery;e.viewQuery=n?(i,o)=>{t(i,o),n(i,o)}:t}function RE(e,t){const n=e.contentQueries;e.contentQueries=n?(i,o,s)=>{t(i,o,s),n(i,o,s)}:t}function kE(e,t){const n=e.hostBindings;e.hostBindings=n?(i,o)=>{t(i,o),n(i,o)}:t}function wp(e,t,n,i,o,s,c,f){if(n.firstCreatePass){e.mergedAttrs=Yt(e.mergedAttrs,e.attrs);const ye=e.tView=el(2,e,o,s,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),ye.queries=n.queries.embeddedTView(e))}f&&(e.flags|=f),(0,r.iMd)(e,!1);const w=Ip(n,t,e,i);(0,r.SX7)()&&fl(n,t,w,e),Xt(w,t);const de=oh(w,t,w,e);t[i+r.Yw1]=de,nl(t,de)}function ws(e,t,n,i,o,s,c,f,w,de,ye){const Ye=n+r.Yw1;let ft;if(t.firstCreatePass){if(ft=vs(t,Ye,4,c||null,f||null),null!=de){const _t=(0,r.db4)(t.consts,de);ft.localNames=[];for(let zt=0;zt<_t.length;zt+=2)ft.localNames.push(_t[zt],-1)}}else ft=t.data[Ye];return wp(ft,e,t,n,i,o,s,w),null!=de&&Gs(e,ft,ye),ft}function ql(e,t,n,i,o,s,c,f){const w=(0,r.OAn)(),de=(0,r.klJ)();return function NE(e,t,n,i,o,s,c,f,w,de,ye){const Ye=n+r.Yw1;let ft;t.firstCreatePass?(ft=vs(t,Ye,4,c||null,f||null),(0,r.ckz)()&&xh(t,e,ft,(0,r.db4)(t.consts,de),ml),j(t,ft)):ft=t.data[Ye],wp(ft,e,t,n,i,o,s,w),(0,r.yoD)(ft)&&Nu(t,e,ft),null!=de&&Gs(e,ft,ye)}(w,de,e,t,n,i,o,(0,r.db4)(de.consts,s),void 0,c,f),ql}let Ip=function Op(e,t,n,i){return(0,r.m7n)(!0),t[r.GpT].createComment("")};var Xi=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Xi||{}),li=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(li||{}),ta=function(e){return e[e.Initial=-1]="Initial",e}(ta||{}),Ap=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(Ap||{});function Qa(e,t,n){const i=Rp(e);null===t[i]&&(t[i]=[]),t[i].push(n)}function ac(e,t){const n=Rp(e),i=t[n];if(null!==i){for(const o of i)o();t[n]=null}}function Pp(e){ac(1,e),ac(0,e),ac(2,e)}function Rp(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}function Ya(e){return e+1}function wo(e,t){return e[Ya(t.index)]}function mo(e,t){const n=Ya(t.index);return e.data[n]}function ed(e,t){return t===li.Placeholder?e.placeholderBlockConfig?.[0]??null:t===li.Loading?e.loadingBlockConfig?.[0]??null:null}function kp(e){return e.loadingBlockConfig?.[1]??null}function Np(e,t){if(!e||0===e.length)return t;const n=new Set(e);for(const i of t)n.add(i);return e.length===n.size?e:Array.from(n)}function td(e,t,n,i){const o=n.get(r.SKi);return function Rt(e,t,n,i){const o=dt(i);let s=h.get(e)?.get(o);Ee.has(o)||Ee.set(o,{observer:n(i),count:0});const c=Ee.get(o);if(!s){s=new Be,c.observer.observe(e);let f=h.get(e);f?f.set(o,s):(f=new Map,h.set(e,f)),f.set(o,s),c.count++}return s.callbacks.add(t),()=>{if(h.get(e)?.has(o)){if(s.callbacks.delete(t),0===s.callbacks.size){c.observer.unobserve(e),c.count--;const f=h.get(e);f&&(f.delete(o),0===f.size&&h.delete(e))}0===c.count&&(c.observer.disconnect(),Ee.delete(o))}}}(e,()=>o.run(t),s=>o.runOutsideAngular(()=>function Tt(e){const t=dt(e);return new IntersectionObserver(n=>{for(const i of n)i.isIntersecting&&h.has(i.target)&&h.get(i.target)?.get(t)?.listener()},e)}(s)),i)}function ia(e,t,n,i,o,s,c,f){const w=e[r.YEL],de=w.get(r.SKi);let ye;ye=function By(e,t){const n=t?.injector??(0,r.WQX)(r.zZn);return po("NgAfterRender"),kf(e,n,t,!1)}({read:function Ye(){if((0,r.EPY)(e))return void ye.destroy();const ft=wo(e,t),_t=ft[1];if(_t!==ta.Initial&&_t!==li.Placeholder)return void ye.destroy();const zt=function VE(e,t,n){return null==n?e:n>=0?(0,r.jRZ)(n,e):e[t.index][r.Y20]??null}(e,t,i);if(!zt||(ye.destroy(),(0,r.EPY)(zt)))return;const vn=function HE(e,t){return(0,r.vaC)(r.Yw1+t,e)}(zt,n),Ln=o(vn,()=>{de.run(()=>{e!==zt&&(0,r.DyX)(zt,Ln),s()})},w,f);e!==zt&&(0,r.ik5)(zt,Ln),Qa(c,ft,Ln)}},{injector:w})}function uc(e,t){const n=t.get(QE);return n.add(e),()=>n.remove(e)}let QE=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,r.WQX)(r.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(n){(this.executingCallbacks?this.deferred:this.current).add(n),null===this.idleId&&this.scheduleIdleCallback()}remove(n){const{current:i,deferred:o}=this;i.delete(n),o.delete(n),0===i.size&&0===o.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const i of this.current)i();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const i of this.deferred)this.current.add(i);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function cc(e){return(t,n)=>Lp(e,t,n)}function Lp(e,t,n){const i=n.get(YE),o=n.get(r.SKi);return i.add(e,t,o),()=>i.remove(t)}let YE=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(n,i,o){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+n,i),this.scheduleTimer(o)}remove(n){const{current:i,deferred:o}=this;-1===this.removeFromQueue(i,n)&&this.removeFromQueue(o,n),0===i.length&&0===o.length&&this.clearTimeout()}addToQueue(n,i,o){let s=n.length;for(let c=0;c<n.length;c+=2)if(n[c]>i){s=c;break}(0,r.llW)(n,s,i,o)}removeFromQueue(n,i){let o=-1;for(let s=0;s<n.length;s+=2)if(n[s+1]===i){o=s;break}return o>-1&&(0,r.gsJ)(n,o,2),o}scheduleTimer(n){const i=()=>{this.clearTimeout(),this.executingCallbacks=!0;const s=[...this.current],c=Date.now();for(let w=0;w<s.length;w+=2){const ye=s[w+1];if(!(s[w]<=c))break;ye()}let f=-1;for(let w=0;w<this.current.length&&this.current[w]<=c;w+=2)f=w+1;if(f>=0&&(0,r.gsJ)(this.current,0,f+1),this.executingCallbacks=!1,this.deferred.length>0){for(let w=0;w<this.deferred.length;w+=2)this.addToQueue(this.current,this.deferred[w],this.deferred[w+1]);this.deferred.length=0}this.scheduleTimer(n)};if(this.current.length>0){const s=Date.now(),c=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-c>16){this.clearTimeout();const f=Math.max(c-s,16);this.invokeTimerAt=c,this.timeoutId=n.runOutsideAngular(()=>setTimeout(()=>n.run(i),f))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,r.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),XE=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,i,o,s){if(!this.cachedInjectors.has(n)){const c=o.length>0?Yl(o,i,s):null;this.cachedInjectors.set(n,c)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,r.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const ZE=new r.nKC("");function nd(e,t,n){return e.get(XE).getOrCreateInjector(t,e,n,"")}function as(e,t,n,i=!1){const o=n[r.f7T],s=o[r.eDl];if((0,r.EPY)(o))return;const c=wo(o,t),w=c[7];if(!(null!==w&&e<w)&&Bp(c[1],e)&&Bp(c[0]??-1,e)){const de=mo(s,t),Ye=i||null===kp(de)&&null===ed(de,li.Loading)&&!ed(de,li.Placeholder)?Fp:rd;try{Ye(e,c,n,t,o)}catch(ft){gl(o,ft)}}}function Fp(e,t,n,i,o){De(Te.DeferBlockStateStart);const s=function KE(e,t,n){const o=mo(t[r.eDl],n);switch(e){case li.Complete:return o.primaryTmplIndex;case li.Loading:return o.loadingTmplIndex;case li.Error:return o.errorTmplIndex;case li.Placeholder:return o.placeholderTmplIndex;default:return null}}(e,o,i);if(null!==s){t[1]=e;const c=o[r.eDl],w=(0,r.XRZ)(c,s+r.Yw1),de=0;let ye;if(yl(n,de),e===li.Complete){const zt=mo(c,i),vn=zt.providers;vn&&vn.length>0&&(ye=function JE(e,t,n){if(e instanceof Js){const o=e.injector,c=nd(e.parentInjector,t,n);return new Js(o,c)}const i=e.get(r.uvJ);if(i!==e){const o=nd(i,t,n);return new Js(e,o)}return nd(e,t,n)}(o[r.YEL],zt,vn))}const{dehydratedView:Ye,dehydratedViewIx:ft}=function qE(e,t){const n=e[r.qFA]?.findIndex(o=>o.data.s===t[1])??-1;return{dehydratedView:n>-1?e[r.qFA][n]:null,dehydratedViewIx:n}}(n,t),_t=Qs(o,w,null,{injector:ye,dehydratedView:Ye});if(Xs(n,_t,de,ys(w,Ye)),Ys(_t,2),ft>-1&&n[r.qFA]?.splice(ft,1),(e===li.Complete||e===li.Error)&&Array.isArray(t[8])){for(const zt of t[8])zt();t[8]=null}}De(Te.DeferBlockStateEnd)}function eD(e,t,n,i,o){const s=Date.now(),f=mo(o[r.eDl],i);if(null===t[2]||t[2]<=s){t[2]=null;const w=kp(f),de=null!==t[3];if(e!==li.Loading||null===w||de){e>li.Loading&&de&&(t[3](),t[3]=null,t[0]=null),Fp(e,t,n,i,o);const ye=ed(f,e);null!==ye&&(t[2]=s+ye,$p(ye,t,i,n,o))}else{t[0]=e;const ye=$p(w,t,i,n,o);t[3]=ye}}else t[0]=e}function $p(e,t,n,i,o){return Lp(e,()=>{const c=t[0];t[2]=null,t[0]=null,null!==c&&as(c,n,i)},o[r.YEL])}function Bp(e,t){return e<t}function oa(e,t){as(li.Placeholder,t,e[t.index])}function jp(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Xi.COMPLETE?as(li.Complete,t,n):e.loadingState===Xi.FAILED&&as(li.Error,t,n)})}let rd=null;function nD(e,t,n,i){return S(()=>{const o=e;null!==t&&(o.hasOwnProperty("decorators")&&void 0!==o.decorators?o.decorators.push(...t):o.decorators=t),null!==n&&(o.ctorParameters=n),null!==i&&(o.propDecorators=o.hasOwnProperty("propDecorators")&&void 0!==o.propDecorators?{...o.propDecorators,...i}:i)})}let Up=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Vp(e){return function Wp(e){return"function"==typeof e&&void 0!==e[d.bh]}(e)&&"function"==typeof e.set}const om=new r.nKC(""),sm=new r.nKC("");let sd,KD=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,i,o){this._ngZone=n,this.registry=i,(0,r.M6u)()&&(this._destroyRef=(0,r.WQX)(r.abz,{optional:!0})??void 0),sd||(function VD(e){sd=e}(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{r.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),n()},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,i,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}static \u0275fac=function(i){return new(i||e)((0,r.KVO)(r.SKi),(0,r.KVO)(WD),(0,r.KVO)(sm))};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac})}return e})(),WD=(()=>{class e{_applications=new Map;registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return sd?.findTestabilityInTree(this,n,i)??null}static \u0275fac=function(i){return new(i||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function am(e){return!!e&&"function"==typeof e.then}function um(e){return!!e&&"function"==typeof e.subscribe}const cm=new r.nKC("");function HD(e){return(0,r.EmA)([{provide:cm,multi:!0,useValue:e}])}let lm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=(0,r.WQX)(cm,{optional:!0})??[];injector=(0,r.WQX)(r.zZn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=(0,r.N4e)(this.injector,o);if(am(s))n.push(s);else if(um(s)){const c=new Promise((f,w)=>{s.subscribe({complete:f,error:w})});n.push(c)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),0===n.length&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const dm=new r.nKC("");function zD(){}function GD(){(0,d.KO)(()=>{throw new r.buA(600,"")})}function fm(e,t){return Array.isArray(t)?t.reduce(fm,e):{...e,...t}}let ad=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,r.WQX)(r.ZTf);afterRenderManager=(0,r.WQX)(Af);zonelessEnabled=(0,r.WQX)(r.Evm);rootEffectScheduler=(0,r.WQX)(r.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new D.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,r.WQX)(r.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,P.T)(n=>!n))}constructor(){(0,r.WQX)(Pa,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=(0,r.WQX)(r.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,o=r.zZn.NULL){return this._injector.get(r.SKi).run(()=>{De(Te.BootstrapComponentStart);const c=n instanceof Rh;if(!this._injector.get(lm).done)throw new r.buA(405,"");let w;w=c?n:this._injector.get(Zu).resolveComponentFactory(n),this.componentTypes.push(w.componentType);const de=function QD(e){return e.isBoundToModule}(w)?void 0:this._injector.get(Ms),Ye=w.create(o,[],i||w.selector,de),ft=Ye.location.nativeElement,_t=Ye.injector.get(om,null);return _t?.registerApplication(ft),Ye.onDestroy(()=>{this.detachView(Ye.hostView),fc(this.components,Ye),_t?.unregisterApplication(ft)}),this._loadComponent(Ye),De(Te.BootstrapComponentEnd,Ye),Ye})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(Te.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(ol.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw De(Te.ChangeDetectionEnd),new r.buA(101,!1);const n=(0,d.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,d.Ht)(n),this.afterTick.next(),De(Te.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Tl,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;){De(Te.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{De(Te.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(i||(0,r.dMS)(o))&&(Uu(o,i&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>(0,r.dMS)(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;fc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(dm,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new r.buA(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ud(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}function hm(e){const t=(0,r.OAn)(),n=(0,r.Mx4)();if(oa(t,n),!gm(0,t))return;const i=t[r.YEL];Qa(0,wo(t,n),e(()=>Os(0,t,n),i))}function pm(e){const t=(0,r.OAn)(),n=t[r.YEL],i=(0,r.Mx4)(),s=mo(t[r.eDl],i);s.loadingState===Xi.NOT_STARTED&&Qa(1,wo(t,i),e(()=>Za(s,t,i),n))}function mm(e,t,n){const i=t[r.YEL],o=wo(t,n),s=o[6];Qa(2,o,e(()=>Ts(i,s),i))}function Za(e,t,n){cd(e,t,n)}function cd(e,t,n){const i=t[r.YEL],o=t[r.eDl];if(e.loadingState!==Xi.NOT_STARTED)return e.loadingPromise??Promise.resolve();const s=wo(t,n),c=function WE(e,t){return(0,r.XRZ)(e,t.primaryTmplIndex+r.Yw1)}(o,e);e.loadingState=Xi.IN_PROGRESS,ac(1,s);let f=e.dependencyResolverFn;const w=i.get(r.u5s).add();return f?(e.loadingPromise=Promise.allSettled(f()).then(de=>{let ye=!1;const Ye=[],ft=[];for(const _t of de){if("fulfilled"!==_t.status){ye=!0;break}{const zt=_t.value,vn=(0,r.xUg)(zt)||(0,r.HaV)(zt);if(vn)Ye.push(vn);else{const Ln=(0,r.oyA)(zt);Ln&&ft.push(Ln)}}}if(ye){if(e.loadingState=Xi.FAILED,null===e.errorTmplIndex){const zt=new r.buA(-750,!1);gl(t,zt)}}else{e.loadingState=Xi.COMPLETE;const _t=c.tView;if(Ye.length>0){_t.directiveRegistry=Np(_t.directiveRegistry,Ye);const zt=Ye.map(Ln=>Ln.type),vn=(0,r.jXY)(!1,...zt);e.providers=vn}ft.length>0&&(_t.pipeRegistry=Np(_t.pipeRegistry,ft))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,w()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Xi.COMPLETE,w()}),e.loadingPromise)}function gm(e,t){return t[r.YEL].get(ZE,null,{optional:!0})?.behavior!==Ap.Manual}function Os(e,t,n){const i=t[r.eDl],o=t[n.index];if(!gm(0,t))return;const s=wo(t,n),c=mo(i,n);switch(Pp(s),c.loadingState){case Xi.NOT_STARTED:as(li.Loading,n,o),cd(c,t,n),c.loadingState===Xi.IN_PROGRESS&&jp(c,n,o);break;case Xi.IN_PROGRESS:as(li.Loading,n,o),jp(c,n,o);break;case Xi.COMPLETE:as(li.Complete,n,o);break;case Xi.FAILED:as(li.Error,n,o)}}function Ts(e,t,n){return ld.apply(this,arguments)}function ld(){return(ld=(0,u.A)(function*(e,t,n){const i=e.get(Sn);if(i.hydrating.has(t))return;const{parentBlockPromise:s,hydrationQueue:c}=function bt(e,t){const n=t.get(Sn),o=t.get(cr).get("__nghDeferData__",{});let s=!1,c=e,f=null;const w=[];for(;!s&&c;){s=n.has(c);const de=n.hydrating.get(c);if(null===f&&null!=de){f=de.promise;break}w.unshift(c),c=o[c].p}return{parentBlockPromise:f,hydrationQueue:w}}(t,e);if(0===c.length)return;null!==s&&c.shift(),function JD(e,t){for(let n of t)e.hydrating.set(n,ud())}(i,c),null!==s&&(yield s);const f=c[0];i.has(f)?yield _m(e,c,n):i.awaitParentBlock(f,(0,u.A)(function*(){return yield _m(e,c,n)}))})).apply(this,arguments)}function _m(e,t,n){return dd.apply(this,arguments)}function dd(){return(dd=(0,u.A)(function*(e,t,n){const i=e.get(Sn),o=i.hydrating,s=e.get(r.rev),c=s.add();for(let w=0;w<t.length;w++){const de=t[w],ye=i.get(de);if(null==ye){ZD(w,t,i),ym(t.slice(w),i);break}if(yield eb(ye),yield qD(e),XD(ye)){u0(ye),ym(t.slice(w),i);break}o.get(de).resolve()}const f=t[t.length-1];yield o.get(f)?.promise,s.remove(c),n&&n(t),function l0(e,t,n,i){null!==e&&(n.cleanup(t),Yu(e.lContainer),function c0(e){const t=e._views;for(const n of t){const i=qo(n);null!==i&&null!==i[r.jgP]&&((0,r.q$2)(i)?Xu(i):Yu(i))}}(i))}(i.get(f),t,i,e.get(ad))})).apply(this,arguments)}function XD(e){return wo(e.lView,e.tNode)[1]===li.Error}function ZD(e,t,n){const i=e-1,o=i>-1?n.get(t[i]):null;o&&Yu(o.lContainer)}function ym(e,t){const n=t.hydrating;for(const i in e)n.get(i)?.reject();t.cleanup(e)}function qD(e){return new Promise(t=>sl(t,{injector:e}))}function eb(e){return fd.apply(this,arguments)}function fd(){return(fd=(0,u.A)(function*(e){const{tNode:t,lView:n}=e,i=wo(n,t);return new Promise(o=>{(function tb(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(i,o),Os(0,n,t)})})).apply(this,arguments)}function Hi(e,t,n){return 0===e?vm(t,n):2!==e||!vm(t,n)}function vm(e,t){const n=e[r.YEL],i=mo(e[r.eDl],t),o=Lo(n),s=function nb(e){return null!=e&&!(1&~e)}(i.flags),f=null!==wo(e,t)[6];return!(s&&f&&o)}function us(e,t){const n=mo(e,t);return n.hydrateTriggers??=new Map}function hd(e,t,n,i){const o=(0,r.OAn)();return bi(o,(0,r.xbp)(),t)&&((0,r.klJ)(),function iv(e,t,n,i,o,s){const c=(0,r.d31)(e,t);Lu(t[r.GpT],c,s,e.value,n,i,o)}((0,r.CpD)(),o,e,t,n,i)),hd}const Ab=new r.nKC("",{factory:()=>!1}),Pb=new r.nKC("",{factory:()=>Rb}),Rb=4e3,As=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function hc(e){return e[r.YEL].get(Ab,!1)}function pd(e){const t=aa.get(e);if(t){for(const n of t.cleanupFns)n();aa.delete(e)}Ps.delete(e)}const xb=()=>{},aa=new WeakMap,Ps=new WeakMap,ua=new WeakMap;function md(e,t){const n=ua.get(e);if(n&&n.length>0){const i=n.findIndex(o=>o===t);i>-1&&n.splice(i,1)}0===n?.length&&ua.delete(e)}function pc(e,t){const n=ua.get(e)?.shift(),i=t[r.rQE];if(i){const s=Ru(e.index,i)?.previousSibling;n&&s&&n===s&&n.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function bm(e,t){ua.has(e)?ua.get(e)?.push(t):ua.set(e,[t])}function mc(e){const t=e[r.Isx]??={};return t.enter??=new Map}function Rs(e){const t=e[r.Isx]??={};return t.leave??=new Map}function Cm(e){const t="function"==typeof e?e():e;let n=Array.isArray(t)?t:null;return"string"==typeof t&&(n=t.trim().split(/\s+/).filter(i=>i)),n}function Mm(e,t){const n=Ps.get(t);return void 0===n||t===e.target&&(void 0!==n.animationName&&e.animationName===n.animationName||void 0!==n.propertyName&&e.propertyName===n.propertyName)}function gc(e,t,n){const i=e.get(t.index)??{animateFns:[]};i.animateFns.push(n),e.set(t.index,i)}function gd(e,t){if(e)for(const n of e)n();for(const n of t)n()}function _d(e,t){const n=Rs(e).get(t.index);n&&(n.resolvers=void 0)}function _c(e,t,n,i,o){md(t,n),gd(i,o),_d(e,t)}function wm(){return(0,r.OAn)()[r.b5C][r.SKP]}function Im(e,t){const n=e.fieldIndex;return-1===n?null:t[n]}function Om(e,t){return function Xb(e,t){return t in e.inputs}(e,t)&&Tm(e,t+"Change")}function Tm(e,t){return t in e.outputs}function Am(e,t,n,i){const o=(0,r.klJ)(),s=t.customControlIndex,c=i+"Change";ea(t,e,s,c,c,Yo(t,e,de=>n.state().setControlValue(de)));const w="touchedChange";Tm(o.data[s],w)&&ea(t,e,s,w,w,Yo(t,e,()=>n.state().markAsTouched()))}function Pm(e,t,n,i){const o=(0,r.klJ)(),s=e.customControlIndex,c=t[s],f=o.data[s],w=n.state(),de=bc(t),ye=w.controlValue();ca(de,Dd,ye)&&ms(f,c,i,ye);const Ye=!!(8192&e.flags),ft=Ye?(0,r.d31)(e,t):null,_t=t[r.GpT];for(const zt of bd){const vn=w[zt]?.();if(ca(de,zt,vn)){const Ln=Dc[zt];vd(e,t,Ln,vn),Ye&&!(Ln in f.inputs)&&Ed(e,_t,ft,zt,vn,Ln)}}}function vd(e,t,n,i){const o=e.inputs?.[n];if(o){const s=(0,r.klJ)();for(const c of o)ms(s.data[c],t[c],n,i);return!0}return!1}function Ed(e,t,n,i,o,s){switch(i){case hC:t.setAttribute(n,s,o);break;case Nm:case pC:case mC:!function _C(e,t,n,i){i?e.setAttribute(t,n,""):e.removeAttribute(t,n)}(t,n,s,o);break;case cC:case dC:16384&e.flags&&xm(t,n,s,o);break;case lC:case fC:32768&e.flags&&xm(t,n,s,o)}}function Rm(e){return null===e||e instanceof Date}function km(e,t){isNaN(t)?e.value="":e.valueAsNumber=t}const Nm=(0,r.kLh)({disabled:r.kLh}),cC=(0,r.kLh)({max:r.kLh}),lC=(0,r.kLh)({maxLength:r.kLh}),dC=(0,r.kLh)({min:r.kLh}),fC=(0,r.kLh)({minLength:r.kLh}),hC=(0,r.kLh)({name:r.kLh}),pC=(0,r.kLh)({readonly:r.kLh}),mC=(0,r.kLh)({required:r.kLh}),Dd=(0,r.kLh)({controlValue:r.kLh}),Dc={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},bd=Object.keys(Dc);function bc(e){const t=(0,r.c$7)();let n=e[t];return n===ni&&(n=e[t]={}),n}function ca(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function gC(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xm(e,t,n,i){void 0!==i?e.setAttribute(t,n,i.toString()):e.removeAttribute(t,n)}class yC{destroy(t){}updateValue(t,n){}swap(t,n){const i=Math.min(t,n),o=Math.max(t,n),s=this.detach(o);if(o-i>1){const c=this.detach(i);this.attach(i,s),this.attach(o,c)}else this.attach(i,s)}move(t,n){this.attach(n,this.detach(t))}}function Cd(e,t,n,i,o){return e===n&&Object.is(t,i)?1:Object.is(o(e,t),o(n,i))?-1:0}function Md(e,t,n,i){return!(void 0===t||!t.has(i)||(e.attach(n,t.get(i)),t.delete(i),0))}function Lm(e,t,n,i,o){if(Md(e,t,i,n(i,o)))e.updateValue(i,o);else{const s=e.create(i,o);e.attach(i,s)}}function Fm(e,t,n,i){const o=new Set;for(let s=t;s<=n;s++)o.add(i(s,e.at(s)));return o}class $m{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),void 0!==this._vMap){const o=this._vMap;for(;o.has(i);)i=o.get(i),t(i,n)}}}function Bm(e,t,n,i,o,s,c,f){po("NgControlFlow");const w=(0,r.OAn)(),de=(0,r.klJ)();return ws(w,de,e,t,n,i,o,(0,r.db4)(de.consts,s),256,c,f),wd}function wd(e,t,n,i,o,s,c,f){po("NgControlFlow");const w=(0,r.OAn)(),de=(0,r.klJ)();return ws(w,de,e,t,n,i,o,(0,r.db4)(de.consts,s),512,c,f),wd}function jm(e,t){po("NgControlFlow");const n=(0,r.OAn)(),i=(0,r.xbp)(),o=n[i]!==ni?n[i]:-1,s=-1!==o?Cc(n,r.Yw1+o):void 0;if(bi(n,i,e)){const f=(0,d.Ht)(null);try{if(void 0!==s&&yl(s,0),-1!==e){const w=r.Yw1+e,de=Cc(n,w),ye=Sd(n[r.eDl],w),Ye=null;Xs(de,Qs(n,ye,t,{dehydratedView:Ye}),0,ys(ye,Ye))}}finally{(0,d.Ht)(f)}}else if(void 0!==s){const f=sh(s,0);void 0!==f&&(f[r.SKP]=t)}}class EC{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-r.Y20}}function Um(e,t){return t}class bC{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}}function Km(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft){po("NgControlFlow");const _t=(0,r.OAn)(),zt=(0,r.klJ)(),vn=void 0!==w,Ln=(0,r.OAn)(),Qn=f?c.bind(Ln[r.b5C][r.SKP]):c,wn=new bC(vn,Qn);Ln[r.Yw1+e]=wn,ws(_t,zt,e+1,t,n,i,o,(0,r.db4)(zt.consts,s),256),vn&&ws(_t,zt,e+2,w,de,ye,Ye,(0,r.db4)(zt.consts,ft),512)}class CC extends yC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-r.Y20}at(t){return this.getLView(t)[r.SKP].$implicit}attach(t,n){const i=n[r.tcA];this.needsIndexUpdate||=t!==this.length,Xs(this.lContainer,n,t,ys(this.templateTNode,i)),function MC(e,t){if(e.length<=r.Y20)return;const i=e[r.Y20+t],o=i?i[r.Isx]:void 0;i&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0&&(function Uy(e,t){const n=e.get(Au);if(t.detachedLeaveAnimationFns){for(const i of t.detachedLeaveAnimationFns)n.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}(i[r.YEL],o),gs.delete(i[r.ID]),o.detachedLeaveAnimationFns=void 0)}(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function wC(e,t){if(e.length<=r.Y20)return;const i=e[r.Y20+t],o=i?i[r.Isx]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}(this.lContainer,t),function SC(e,t){return Na(e,t)}(this.lContainer,t)}create(t,n){return Qs(this.hostLView,this.templateTNode,new EC(this.lContainer,n,t),{dehydratedView:null})}destroy(t){Ra(t[r.eDl],t)}updateValue(t,n){this.getLView(t)[r.SKP].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[r.SKP].$index=t}getLView(t){return function IC(e,t){return sh(e,t)}(this.lContainer,t)}}function Wm(e){const t=(0,d.Ht)(null),n=(0,r._px)();try{const i=(0,r.OAn)(),o=i[r.eDl],s=i[n],c=n+1,f=Cc(i,c);if(void 0===s.liveCollection){const de=Sd(o,c);s.liveCollection=new CC(f,i,de)}else s.liveCollection.reset();const w=s.liveCollection;if(function vC(e,t,n,i){let o,s,c=0,f=e.length-1;if(Array.isArray(t)){(0,d.Ht)(i);let de=t.length-1;for((0,d.Ht)(null);c<=f&&c<=de;){const ye=e.at(c),Ye=t[c],ft=Cd(c,ye,c,Ye,n);if(0!==ft){ft<0&&e.updateValue(c,Ye),c++;continue}const _t=e.at(f),zt=t[de],vn=Cd(f,_t,de,zt,n);if(0!==vn){vn<0&&e.updateValue(f,zt),f--,de--;continue}const Ln=n(c,ye),Qn=n(f,_t),wn=n(c,Ye);if(Object.is(wn,Qn)){const Br=n(de,zt);Object.is(Br,Ln)?(e.swap(c,f),e.updateValue(f,zt),de--,f--):e.move(f,c),e.updateValue(c,Ye),c++;continue}if(o??=new $m,s??=Fm(e,c,f,n),Md(e,o,c,wn))e.updateValue(c,Ye),c++,f++;else if(s.has(wn))o.set(Ln,e.detach(c)),f--;else{const Br=e.create(c,t[c]);e.attach(c,Br),c++,f++}}for(;c<=de;)Lm(e,o,n,c,t[c]),c++}else if(null!=t){(0,d.Ht)(i);const de=t[Symbol.iterator]();(0,d.Ht)(null);let ye=de.next();for(;!ye.done&&c<=f;){const Ye=e.at(c),ft=ye.value,_t=Cd(c,Ye,c,ft,n);if(0!==_t)_t<0&&e.updateValue(c,ft),c++,ye=de.next();else{o??=new $m,s??=Fm(e,c,f,n);const zt=n(c,ft);if(Md(e,o,c,zt))e.updateValue(c,ft),c++,f++,ye=de.next();else if(s.has(zt)){const vn=n(c,Ye);o.set(vn,e.detach(c)),f--}else e.attach(c,e.create(c,ft)),c++,f++,ye=de.next()}}for(;!ye.done;)Lm(e,o,n,e.length,ye.value),ye=de.next()}for(;c<=f;)e.destroy(e.detach(f--));o?.forEach(de=>{e.destroy(de)})}(w,e,s.trackByFn,t),w.updateIndexes(),s.hasEmptyBlock){const de=(0,r.xbp)(),ye=0===w.length;if(bi(i,de,ye)){const Ye=n+2,ft=Cc(i,Ye);if(ye){const _t=Sd(o,Ye),zt=null;Xs(ft,Qs(i,_t,void 0,{dehydratedView:zt}),0,ys(_t,zt))}else o.firstUpdatePass&&Qu(ft),yl(ft,0)}}}finally{(0,d.Ht)(t)}}function Cc(e,t){return e[t]}function Sd(e,t){return(0,r.XRZ)(e,t)}function Id(e,t,n){const i=(0,r.OAn)();return bi(i,(0,r.xbp)(),t)&&((0,r.klJ)(),xu((0,r.CpD)(),i,e,t,i[r.GpT],n)),Id}function Od(e,t,n,i,o){Bu(t,e,n,o?"class":"style",i)}function Mc(e,t,n,i){const o=(0,r.OAn)(),s=o[r.eDl],c=e+r.Yw1,f=s.firstCreatePass?Rl(c,o,2,t,ml,(0,r.ckz)(),n,i):s.data[c];if(Fu(f,o,e,t,Rd),(0,r.yoD)(f)){const w=o[r.eDl];Nu(w,o,f),re(w,f,o)}return null!=i&&Gs(o,f),Mc}function wc(){const e=(0,r.klJ)(),n=$u((0,r.Mx4)());return e.firstCreatePass&&kl(e,n),(0,r.UhH)(n)&&(0,r.krE)(),(0,r.N79)(),null!=n.classesWithoutHost&&function ze(e){return!!(8&e.flags)}(n)&&Od(e,n,(0,r.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ge(e){return!!(16&e.flags)}(n)&&Od(e,n,(0,r.OAn)(),n.stylesWithoutHost,!1),wc}function Td(e,t,n,i){return Mc(e,t,n,i),wc(),Td}function Ad(e,t,n,i){const o=(0,r.OAn)(),s=o[r.eDl],c=e+r.Yw1,f=s.firstCreatePass?jh(c,s,2,t,n,i):s.data[c];return Fu(f,o,e,t,Rd),null!=i&&Gs(o,f),Ad}function Pd(){const t=$u((0,r.Mx4)());return(0,r.UhH)(t)&&(0,r.krE)(),(0,r.N79)(),Pd}let Rd=(e,t,n,i,o)=>((0,r.m7n)(!0),g(t[r.GpT],i,(0,r.UaU)()));function kd(e,t,n){const i=(0,r.OAn)(),o=i[r.eDl],s=e+r.Yw1,c=o.firstCreatePass?Rl(s,i,8,"ng-container",ml,(0,r.ckz)(),t,n):o.data[s];if(Fu(c,i,e,"ng-container",xd),(0,r.yoD)(c)){const f=i[r.eDl];Nu(f,i,c),re(f,c,i)}return null!=n&&Gs(i,c),kd}function Sc(){const e=(0,r.klJ)(),n=$u((0,r.Mx4)());return e.firstCreatePass&&kl(e,n),Sc}function Nd(e,t,n){const i=(0,r.OAn)(),o=i[r.eDl],s=e+r.Yw1,c=o.firstCreatePass?jh(s,o,8,"ng-container",t,n):o.data[s];return Fu(c,i,e,"ng-container",xd),null!=n&&Gs(i,c),Nd}function zm(){return $u((0,r.Mx4)()),Sc}let xd=(e,t,n,i,o)=>((0,r.m7n)(!0),Oa(t[r.GpT],""));function Qm(){return(0,r.OAn)()}const Ja=void 0;var PC=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",Ja,Ja,Ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AC(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let la={};function Ld(e){const t=function RC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Jm(t);if(n)return n;const i=t.split("-")[0];if(n=Jm(i),n)return n;if("en"===i)return PC;throw new r.buA(701,!1)}function Zm(e){return Ld(e)[da.PluralCase]}function Jm(e){return e in la||(la[e]=r.laP.ng&&r.laP.ng.common&&r.laP.ng.common.locales&&r.laP.ng.common.locales[e]),la[e]}var da=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(da||{});const kC=["zero","one","two","few","many"],Fd="en-US",Ic={marker:"element"},Oc={marker:"ICU"};var Io=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Io||{});let qm=Fd;function LC(e){"string"==typeof e&&(qm=e.toLowerCase().replace(/_/g,"-"))}let qa=0,eu=0;let tu=(e,t,n,i)=>((0,r.m7n)(!0),function eg(e,t,n){const i=e[r.GpT];switch(n){case Node.COMMENT_NODE:return Oa(i,t);case Node.TEXT_NODE:return Sa(i,t);case Node.ELEMENT_NODE:return g(i,t,null)}}(e,n,i));function tg(e,t,n,i){const o=n[r.GpT];let c,s=null;for(let f=0;f<t.length;f++){const w=t[f];if("string"==typeof w){const de=t[++f];null===n[de]&&(n[de]=tu(n,0,w,Node.TEXT_NODE))}else if("number"==typeof w)switch(1&w){case 0:const de=ph(w);let ye,Ye;if(null===s&&(s=de,c=o.parentNode(i)),de===s?(ye=i,Ye=c):(ye=null,Ye=(0,r.IvY)(n[de])),null!==Ye){const vn=mh(w);fe(o,Ye,n[vn],ye,!1);const Qn=Ba(e,vn);if(null!==Qn&&"object"==typeof Qn){const wn=Hu(Qn,n);null!==wn&&tg(e,Qn.create[wn],n,n[Qn.anchorIdx])}}break;case 1:const _t=t[++f],zt=t[++f];Lu(o,(0,r.vaC)(w>>>1,n),null,null,_t,zt,null)}else switch(w){case Oc:const de=t[++f],ye=t[++f];null===n[ye]&&Xt(n[ye]=tu(n,0,de,Node.COMMENT_NODE),n);break;case Ic:const Ye=t[++f],ft=t[++f];null===n[ft]&&Xt(n[ft]=tu(n,0,Ye,Node.ELEMENT_NODE),n)}}}function ng(e,t,n,i,o){for(let s=0;s<n.length;s++){const c=n[s],f=n[++s];if(c&o){let w="";for(let de=s+1;de<=s+f;de++){const ye=n[de];if("string"==typeof ye)w+=ye;else if("number"==typeof ye)if(ye<0)w+=(0,r.eFE)(t[i-ye]);else{const Ye=ye>>>2;switch(3&ye){case 1:const ft=n[++de],_t=n[++de],zt=e.data[Ye];"string"==typeof zt?Lu(t[r.GpT],t[Ye],null,zt,ft,w,_t):xu(zt,t,ft,w,t[r.GpT],_t);break;case 0:const vn=t[Ye];null!==vn&&Ia(t[r.GpT],vn,w);break;case 2:KC(e,Ba(e,Ye),t,w);break;case 3:rg(e,Ba(e,Ye),i,t)}}}}else{const w=n[s+1];if(w>0&&!(3&~w)){const ye=Ba(e,w>>>2);t[ye.currentCaseLViewIndex]<0&&rg(e,ye,i,t)}}s+=f}}function rg(e,t,n,i){let o=i[t.currentCaseLViewIndex];if(null!==o){let s=qa;o<0&&(o=i[t.currentCaseLViewIndex]=~o,s=-1),ng(e,i,t.update[o],n,s)}}function KC(e,t,n,i){const o=function WC(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const i=function NC(e,t){const n=Zm(t)(parseInt(e,10)),i=kC[n];return void 0!==i?i:"other"}(t,function FC(){return qm}());n=e.cases.indexOf(i),-1===n&&"other"!==i&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,i);if(Hu(t,n)!==o&&(ig(e,t,n),n[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const c=n[t.anchorIdx];c&&tg(e,t.create[o],n,c)}}function ig(e,t,n){let i=Hu(t,n);if(null!==i){const o=t.remove[i];for(let s=0;s<o.length;s++){const c=o[s];if(c>0){const f=(0,r.vaC)(c,n);null!==f&&Qt(n[r.GpT],f)}else ig(e,Ba(e,~c),n)}}}const Tc=/\ufffd(\d+):?\d*\ufffd/gi,VC=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,HC=/\ufffd(\d+)\ufffd/,sg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,zC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,GC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QC=/\uE500/g;function ag(e,t,n,i,o,s,c){const f=Aa(e,i,1,null);let w=f<<Io.SHIFT,de=(0,r.Ab)();t===de&&(de=null),null===de&&(w|=Io.APPEND_EAGERLY),c&&(w|=Io.COMMENT,function ky(e){void 0===rl&&(rl=e())}(jv)),o.push(w,null===s?"":s);const ye=bl(e,f,c?32:1,null===s?"":s,null);fh(n,ye);const Ye=ye.index;return(0,r.iMd)(ye,!1),null!==de&&t!==de&&function Fv(e,t){let n=e.insertBeforeIndex;null===n?(Wf(lh,dh),n=e.insertBeforeIndex=[null,t]):((0,r.Xln)(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(de,Ye),ye}function ZC(e,t,n,i,o,s,c,f){const w=f.match(Tc),ye=ag(t,n,i,c,o,w?null:f,!1).index;w&&ru(s,f,ye,null,0,null),e.push({kind:0,index:ye})}function ru(e,t,n,i,o,s){const c=e.length,f=c+1;e.push(null,null);const w=c+2,de=t.split(Tc);let ye=0;for(let Ye=0;Ye<de.length;Ye++){const ft=de[Ye];if(1&Ye){const _t=o+parseInt(ft,10);e.push(-1-_t),ye|=ug(_t)}else""!==ft&&e.push(ft)}return e.push(n<<2|(i?1:0)),i&&e.push(i,s),e[c]=ye,e[f]=e.length-w,ye}function qC(e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i&&i<0&&t++}return t}function ug(e){return 1<<Math.min(e,31)}function cg(e){let t,s,n="",i=0,o=!1;for(;null!==(t=zC.exec(e));)o?t[0]===`\ufffd/*${s}\ufffd`&&(i=t.index,o=!1):(n+=e.substring(i,t.index+t[0].length),s=t[1],o=!0);return n+=e.slice(i),n}function lg(e,t,n,i,o,s,c){let f=0;const w={type:s.type,currentCaseLViewIndex:Aa(t,n,1,null),anchorIdx:c,cases:[],create:[],remove:[],update:[]};(function iM(e,t,n){e.push(ug(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(i,s,c),function Lv(e,t,n){const i=e.data[t];null===i?e.data[t]=n:i.value=n}(t,c,w);const de=s.values,ye=[];for(let Ye=0;Ye<de.length;Ye++){const ft=de[Ye],_t=[];for(let vn=0;vn<ft.length;vn++){const Ln=ft[vn];if("string"!=typeof Ln){const Qn=_t.push(Ln)-1;ft[vn]=`\x3c!--\ufffd${Qn}\ufffd--\x3e`}}const zt=[];ye.push(zt),f=nM(zt,t,w,n,i,o,s.cases[Ye],ft.join(""),_t)|f}f&&function oM(e,t,n){e.push(t,1,n<<2|3)}(i,f,c),e.push({kind:3,index:c,cases:ye,currentCaseLViewIndex:w.currentCaseLViewIndex})}function tM(e){const t=[],n=[];let i=1,o=0;const s=$d(e=e.replace(sg,function(c,f,w){return i="select"===w?0:1,o=parseInt(f.slice(1),10),""}));for(let c=0;c<s.length;){let f=s[c++].trim();1===i&&(f=f.replace(/\s*(?:=)?(\w+)\s*/,"$1")),f.length&&t.push(f);const w=$d(s[c++]);t.length>n.length&&n.push(w)}return{type:i,mainBinding:o,cases:t,values:n}}function $d(e){if(!e)return[];let t=0;const n=[],i=[],o=/[{}]/g;let s;for(o.lastIndex=0;s=o.exec(e);){const f=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const w=e.substring(t,f);sg.test(w)?i.push(tM(w)):i.push(w),t=f+1}}else{if(0==n.length){const w=e.substring(t,f);i.push(w),t=f+1}n.push("{")}}const c=e.substring(t);return i.push(c),i}function nM(e,t,n,i,o,s,c,f,w){const de=[],ye=[],Ye=[];n.cases.push(c),n.create.push(de),n.remove.push(ye),n.update.push(Ye);const _t=gu(ui()).getInertBodyElement(f),zt=Ws(_t)||_t;return zt?dg(e,t,n,i,o,de,ye,Ye,zt,s,w,0):0}function dg(e,t,n,i,o,s,c,f,w,de,ye,Ye){let ft=0,_t=w.firstChild;for(;_t;){const zt=Aa(t,i,1,null);switch(_t.nodeType){case Node.ELEMENT_NODE:const vn=_t,Ln=vn.tagName.toLowerCase();if(hs.hasOwnProperty(Ln)){Bd(s,Ic,Ln,de,zt),t.data[zt]=Ln;const go=vn.attributes;for(let Jo=0;Jo<go.length;Jo++){const xs=go.item(Jo),X_=xs.name.toLowerCase();xs.value.match(Tc)?Wc.hasOwnProperty(X_)&&ru(f,xs.value,zt,xs.name,0,Ma[X_]?ba:null):sM(s,zt,xs)}const Ai={kind:1,index:zt,children:[]};e.push(Ai),ft=dg(Ai.children,t,n,i,o,s,c,f,_t,zt,ye,Ye+1)|ft,fg(c,zt,Ye)}break;case Node.TEXT_NODE:const Qn=_t.textContent||"",wn=Qn.match(Tc);Bd(s,null,wn?"":Qn,de,zt),fg(c,zt,Ye),wn&&(ft=ru(f,Qn,zt,null,0,null)|ft),e.push({kind:0,index:zt});break;case Node.COMMENT_NODE:const Br=HC.exec(_t.textContent||"");if(Br){const Ai=ye[parseInt(Br[1],10)];Bd(s,Oc,"",de,zt),lg(e,t,i,o,de,Ai,zt),rM(c,zt,Ye)}}_t=_t.nextSibling}return ft}function fg(e,t,n){0===n&&e.push(t)}function rM(e,t,n){0===n&&(e.push(~t),e.push(t))}function Bd(e,t,n,i,o){null!==t&&e.push(t),e.push(n,o,function Bv(e,t,n){return e|t<<17|n<<1}(0,i,o))}function sM(e,t,n){e.push(t<<1|1,n.name,n.value)}const aM=/\[(\ufffd.+?\ufffd?)\]/,uM=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,cM=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,lM=/{([A-Z0-9_]+)}/g,dM=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,fM=/\/\*/,hM=/\d+\:(\d+)/;function pg(e,t,n=-1){const i=(0,r.klJ)(),o=(0,r.OAn)(),s=r.Yw1+e,c=(0,r.db4)(i.consts,t),f=(0,r.Ab)();i.firstCreatePass&&function XC(e,t,n,i,o,s){const c=(0,r.Ab)(),f=[],w=[],de=[[]],ye=[[]];o=function eM(e,t){if(function _h(e){return-1===e}(t))return cg(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,i=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return cg(e.substring(n,i))}}(o,s);const Ye=function YC(e){return e.replace(QC," ")}(o).split(GC);for(let ft=0;ft<Ye.length;ft++){let _t=Ye[ft];if(1&ft){const zt=47===_t.charCodeAt(0),vn=_t.charCodeAt(zt?1:0),Ln=r.Yw1+Number.parseInt(_t.substring(zt?2:1));if(zt)de.shift(),ye.shift(),(0,r.iMd)((0,r.Ab)(),!1);else{const Qn=$v(e,de[0],Ln);de.unshift([]),(0,r.iMd)(Qn,!0);const wn={kind:2,index:Ln,children:[],type:35===vn?0:1};ye[0].push(wn),ye.unshift(wn.children)}}else{const zt=$d(_t);for(let vn=0;vn<zt.length;vn++){let Ln=zt[vn];if(1&vn){const Qn=Ln;if("object"!=typeof Qn)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const Br=ag(e,c,de[0],n,f,"",!0).index;lg(ye[0],e,n,w,t,Qn,Br)}else""!==Ln&&ZC(ye[0],e,c,de[0],f,w,n,Ln)}}}e.data[i]={create:f,update:w,ast:ye[0],parentTNodeIndex:t}}(i,null===f?0:f.index,o,s,c,n),2===i.type?o[r.b5C][r.Wg1]|=32:o[r.Wg1]|=32;const w=i.data[s],ye=Bf(i,f===o[r.qlT]?null:f,o);(function UC(e,t,n,i){const o=e[r.GpT];for(let s=0;s<t.length;s++){const c=t[s++],de=(c&Io.APPEND_EAGERLY)===Io.APPEND_EAGERLY,ye=c>>>Io.SHIFT;let Ye=e[ye],ft=!1;null===Ye&&(Ye=e[ye]=tu(e,0,t[s],(c&Io.COMMENT)===Io.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ft=(0,r.SX7)()),de&&null!==n&&ft&&fe(o,n,Ye,i,!1)}})(o,w.create,ye,f&&8&f.type?o[f.index]:null),(0,r.xyx)(!0)}function mg(){(0,r.xyx)(!1)}function jd(e,t,n){const i=(0,r.OAn)(),o=(0,r.klJ)(),s=(0,r.Mx4)();return Ud(o,i,i[r.GpT],s,e,t,n),jd}function Ud(e,t,n,i,o,s,c){let f=!0,w=null;if((3&i.type||c)&&(w??=Yo(i,t,s),tc(i,e,t,c,n,o,s,w)&&(f=!1)),f){const de=i.outputs?.[o],ye=i.hostDirectiveOutputs?.[o];if(ye&&ye.length)for(let Ye=0;Ye<ye.length;Ye+=2){const ft=ye[Ye],_t=ye[Ye+1];w??=Yo(i,t,s),ea(i,t,ft,_t,o,w)}if(de&&de.length)for(const Ye of de)w??=Yo(i,t,s),ea(i,t,Ye,o,o,w)}}function vg(e=1){return(0,r.jvu)(e)}function vM(e,t){let n=null;const i=function My(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const s=t[o];if("*"!==s){if(null===i?Df(e,s,!0):Iy(i,s))return o}else n=o}return n}function Kd(e,t,n,i){return op(e,t,n,i),Kd}function Dg(e){const t=(0,r.OAn)(),n=(0,r.klJ)(),i=(0,r.w7Z)();(0,r.GA0)(i+1);const o=Wl(n,i);if(e.dirty&&(0,r.vOT)(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const s=ap(t,i);e.reset(s,Wr),e.notifyOnChanges()}return!0}return!1}function bg(){return Kl((0,r.OAn)(),(0,r.w7Z)())}function wg(e){const t=(0,r.VPL)();return(0,r.Hh6)(t,r.Yw1+e)}function Ac(e,t){return e<<17|t<<2}function ks(e){return e>>17&32767}function Wd(e){return 2|e}function fa(e){return(131068&e)>>2}function Vd(e,t){return-131069&e|t<<2}function Hd(e){return 1|e}function Sg(e,t,n,i){const o=e[n+1],s=null===t;let c=i?ks(o):fa(o),f=!1;for(;0!==c&&(!1===f||s);){const de=e[c+1];TM(e[c],t)&&(f=!0,e[c+1]=i?Hd(de):Wd(de)),c=i?ks(de):fa(de)}f&&(e[n+1]=i?Wd(o):Hd(o))}function TM(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&(0,r.FRF)(e,t)>=0}const ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ig(e){return e.substring(ro.key,ro.keyEnd)}function AM(e){return e.substring(ro.value,ro.valueEnd)}function Og(e,t){const n=ro.textEnd;return n===t?-1:(t=ro.keyEnd=function kM(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ro.key=t,n),ha(e,t,n))}function Tg(e,t){const n=ro.textEnd;let i=ro.key=ha(e,t,n);return n===i?-1:(i=ro.keyEnd=function NM(e,t,n){let i;for(;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(e,i,n),i=Pg(e,i,n),i=ro.value=ha(e,i,n),i=ro.valueEnd=function xM(e,t,n){let i=-1,o=-1,s=-1,c=t,f=c;for(;c<n;){const w=e.charCodeAt(c++);if(59===w)return f;34===w||39===w?f=c=Rg(e,w,c,n):t===c-4&&85===s&&82===o&&76===i&&40===w?f=c=Rg(e,41,c,n):w>32&&(f=c),s=o,o=i,i=-33&w}return f}(e,i,n),Pg(e,i,n))}function Ag(e){ro.key=0,ro.keyEnd=0,ro.value=0,ro.valueEnd=0,ro.textEnd=e.length}function ha(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Pg(e,t,n,i){return(t=ha(e,t,n))<n&&t++,t}function Rg(e,t,n,i){let o=-1,s=n;for(;s<i;){const c=e.charCodeAt(s++);if(c==t&&92!==o)return s;o=92==c&&92===o?0:c}throw new Error}function zd(e,t){return Ng(e,t,null,!0),zd}function FM(e,t){for(let n=function RM(e){return Ag(e),Tg(e,ha(e,0,ro.textEnd))}(t);n>=0;n=Tg(t,n))$g(e,Ig(t),AM(t))}function BM(e,t){for(let n=function PM(e){return Ag(e),Og(e,ha(e,0,ro.textEnd))}(t);n>=0;n=Og(t,n))(0,r.ezK)(e,Ig(t),!0)}function Ng(e,t,n,i){const o=(0,r.OAn)(),s=(0,r.klJ)(),c=(0,r.b$O)(2);s.firstUpdatePass&&Fg(s,e,c,i),t!==ni&&bi(o,c,t)&&Bg(s,s.data[(0,r._px)()],o,o[r.GpT],e,o[c+1]=function GM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=(0,r.AsM)(Vo(e)))),e}(t,n),i,c)}function xg(e,t,n,i){const o=(0,r.klJ)(),s=(0,r.b$O)(2);o.firstUpdatePass&&Fg(o,null,s,i);const c=(0,r.OAn)();if(n!==ni&&bi(c,s,n)){const f=o.data[(0,r._px)()];if(Ug(f,i)&&!Lg(o,s)){let w=i?f.classesWithoutHost:f.stylesWithoutHost;null!==w&&(n=(0,r.n$e)(w,n||"")),Od(o,f,c,n,i)}else!function zM(e,t,n,i,o,s,c,f){o===ni&&(o=r.Mlv);let w=0,de=0,ye=0<o.length?o[0]:null,Ye=0<s.length?s[0]:null;for(;null!==ye||null!==Ye;){const ft=w<o.length?o[w+1]:void 0,_t=de<s.length?s[de+1]:void 0;let vn,zt=null;ye===Ye?(w+=2,de+=2,ft!==_t&&(zt=Ye,vn=_t)):null===Ye||null!==ye&&ye<Ye?(w+=2,zt=ye):(de+=2,zt=Ye,vn=_t),null!==zt&&Bg(e,t,n,i,zt,vn,c,f),ye=w<o.length?o[w]:null,Ye=de<s.length?s[de]:null}}(o,f,c,c[r.GpT],c[s+1],c[s+1]=function VM(e,t,n){if(null==n||""===n)return r.Mlv;const i=[],o=Vo(n);if(Array.isArray(o))for(let s=0;s<o.length;s++)e(i,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&e(i,s,o[s]);else"string"==typeof o&&t(i,o);return i}(e,t,n),i,s)}}function Lg(e,t){return t>=e.expandoStartIndex}function Fg(e,t,n,i){const o=e.data;if(null===o[n+1]){const s=o[(0,r._px)()],c=Lg(e,n);Ug(s,i)&&null===t&&!c&&(t=!1),t=function jM(e,t,n,i){const o=(0,r.MT)(e);let s=i?t.residualClasses:t.residualStyles;if(null===o)0===(i?t.classBindings:t.styleBindings)&&(n=iu(n=Gd(null,e,t,n,i),t.attrs,i),s=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==o)if(n=Gd(o,e,t,n,i),null===s){let w=function UM(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==fa(i))return e[ks(i)]}(e,t,i);void 0!==w&&Array.isArray(w)&&(w=Gd(null,e,t,w[1],i),w=iu(w,t.attrs,i),function KM(e,t,n,i){e[ks(n?t.classBindings:t.styleBindings)]=i}(e,t,i,w))}else s=function WM(e,t,n){let i;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)i=iu(i,e[s].hostAttrs,n);return iu(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,i),function IM(e,t,n,i,o,s){let c=s?t.classBindings:t.styleBindings,f=ks(c),w=fa(c);e[i]=n;let ye,de=!1;if(Array.isArray(n)?(ye=n[1],(null===ye||(0,r.FRF)(n,ye)>0)&&(de=!0)):ye=n,o)if(0!==w){const ft=ks(e[f+1]);e[i+1]=Ac(ft,f),0!==ft&&(e[ft+1]=Vd(e[ft+1],i)),e[f+1]=function wM(e,t){return 131071&e|t<<17}(e[f+1],i)}else e[i+1]=Ac(f,0),0!==f&&(e[f+1]=Vd(e[f+1],i)),f=i;else e[i+1]=Ac(w,0),0===f?f=i:e[w+1]=Vd(e[w+1],i),w=i;de&&(e[i+1]=Wd(e[i+1])),Sg(e,ye,i,!0),Sg(e,ye,i,!1),function OM(e,t,n,i,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&(0,r.FRF)(s,t)>=0&&(n[i+1]=Hd(n[i+1]))}(t,ye,e,i,s),c=Ac(f,w),s?t.classBindings=c:t.styleBindings=c}(o,s,t,n,c,i)}}function Gd(e,t,n,i,o){let s=null;const c=n.directiveEnd;let f=n.directiveStylingLast;for(-1===f?f=n.directiveStart:f++;f<c&&(s=t[f],i=iu(i,s.hostAttrs,o),s!==e);)f++;return null!==e&&(n.directiveStylingLast=f),i}function iu(e,t,n){const i=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const c=t[s];"number"==typeof c?o=c:o===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,r.ezK)(e,c,!!n||t[++s]))}return void 0===e?null:e}function $g(e,t,n){(0,r.ezK)(e,t,Vo(n))}function HM(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&(0,r.ezK)(e,i,n)}function Bg(e,t,n,i,o,s,c,f){if(!(3&t.type))return;const w=e.data,de=w[f+1],ye=function SM(e){return!(1&~e)}(de)?jg(w,t,n,o,fa(de),c):void 0;Pc(ye)||(Pc(s)||function MM(e){return!(2&~e)}(de)&&(s=jg(w,null,n,o,f,c)),function Xy(e,t,n,i,o){if(t)o?e.addClass(n,i):e.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:Ou.DashCase;null==o?e.removeStyle(n,i,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Ou.Important),e.setStyle(n,i,o,s))}}(i,c,(0,r.vaC)((0,r._px)(),n),o,s))}function jg(e,t,n,i,o,s){const c=null===t;let f;for(;o>0;){const w=e[o],de=Array.isArray(w),ye=de?w[1]:w,Ye=null===ye;let ft=n[o+1];ft===ni&&(ft=Ye?r.Mlv:void 0);let _t=Ye?(0,r.K7h)(ft,i):ye===i?ft:void 0;if(de&&!Pc(_t)&&(_t=(0,r.K7h)(w,i)),Pc(_t)&&(f=_t,c))return f;const zt=e[o+1];o=c?ks(zt):fa(zt)}if(null!==t){let w=s?t.residualClasses:t.residualStyles;null!=w&&(f=(0,r.K7h)(w,i))}return f}function Pc(e){return void 0!==e}function Ug(e,t){return!!(e.flags&(t?8:16))}function Kg(e,t=""){const n=(0,r.OAn)(),i=(0,r.klJ)(),o=e+r.Yw1,s=i.firstCreatePass?vs(i,o,1,t,null):i.data[o],c=Wg(i,n,s,t,e);n[o]=c,(0,r.SX7)()&&fl(i,n,c,s),(0,r.iMd)(s,!1)}let Wg=(e,t,n,i,o)=>((0,r.m7n)(!0),Sa(t[r.GpT],i));function Vg(e,t){let n=!1,i=(0,r.c$7)();for(let s=1;s<t.length;s+=2)n=bi(e,i++,t[s])||n;if((0,r.Kw3)(i),!n)return ni;let o=t[0];for(let s=1;s<t.length;s+=2)o+=(0,r.eFE)(t[s])+(s+1!==t.length?t[s+1]:"");return o}function Hg(e,t,n,i=""){return bi(e,(0,r.xbp)(),n)?t+(0,r.eFE)(n)+i:ni}function zg(e,t,n,i,o,s=""){const f=bs(e,(0,r.c$7)(),n,o);return(0,r.b$O)(2),f?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s:ni}function Gg(e,t,n,i,o,s,c,f=""){const de=ec(e,(0,r.c$7)(),n,o,c);return(0,r.b$O)(3),de?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s+(0,r.eFE)(c)+f:ni}function Qg(e,t,n,i,o,s,c,f,w,de=""){const Ye=Ro(e,(0,r.c$7)(),n,o,c,w);return(0,r.b$O)(4),Ye?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s+(0,r.eFE)(c)+f+(0,r.eFE)(w)+de:ni}function Yg(e,t,n,i,o,s,c,f,w,de,ye,Ye=""){const ft=(0,r.c$7)();let _t=Ro(e,ft,n,o,c,w);return _t=bi(e,ft+4,ye)||_t,(0,r.b$O)(5),_t?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s+(0,r.eFE)(c)+f+(0,r.eFE)(w)+de+(0,r.eFE)(ye)+Ye:ni}function Xg(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t=""){const zt=(0,r.c$7)();let vn=Ro(e,zt,n,o,c,w);return vn=bs(e,zt+4,ye,ft)||vn,(0,r.b$O)(6),vn?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s+(0,r.eFE)(c)+f+(0,r.eFE)(w)+de+(0,r.eFE)(ye)+Ye+(0,r.eFE)(ft)+_t:ni}function Zg(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt,vn=""){const Ln=(0,r.c$7)();let Qn=Ro(e,Ln,n,o,c,w);return Qn=ec(e,Ln+4,ye,ft,zt)||Qn,(0,r.b$O)(7),Qn?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s+(0,r.eFE)(c)+f+(0,r.eFE)(w)+de+(0,r.eFE)(ye)+Ye+(0,r.eFE)(ft)+_t+(0,r.eFE)(zt)+vn:ni}function Jg(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt,vn,Ln,Qn=""){const wn=(0,r.c$7)();let Br=Ro(e,wn,n,o,c,w);return Br=Ro(e,wn+4,ye,ft,zt,Ln)||Br,(0,r.b$O)(8),Br?t+(0,r.eFE)(n)+i+(0,r.eFE)(o)+s+(0,r.eFE)(c)+f+(0,r.eFE)(w)+de+(0,r.eFE)(ye)+Ye+(0,r.eFE)(ft)+_t+(0,r.eFE)(zt)+vn+(0,r.eFE)(Ln)+Qn:ni}function Rc(e,t,n){const i=(0,r.OAn)(),o=Hg(i,e,t,n);return o!==ni&&Zo(i,(0,r._px)(),o),Rc}function Qd(e,t,n,i,o){const s=(0,r.OAn)(),c=zg(s,e,t,n,i,o);return c!==ni&&Zo(s,(0,r._px)(),c),Qd}function Zo(e,t,n){const i=(0,r.vaC)(t,e);Ia(e[r.GpT],i,n)}function Yd(e,t,n){Vp(t)&&(t=t());const i=(0,r.OAn)();return bi(i,(0,r.xbp)(),t)&&((0,r.klJ)(),xu((0,r.CpD)(),i,e,t,i[r.GpT],n)),Yd}function a_(e,t){const n=Vp(e);return n&&e.set(t),n}function Xd(e,t){const n=(0,r.OAn)(),i=(0,r.klJ)(),o=(0,r.Mx4)();return Ud(i,n,n[r.GpT],o,e,t),Xd}const u_={};function l_(e,t,n){const i=(0,r.klJ)();i.firstCreatePass&&d_(t,i.data,i.blueprint,(0,r.JlV)(e),n)}function d_(e,t,n,i,o){if(e=(0,r.nl4)(e),Array.isArray(e))for(let s=0;s<e.length;s++)d_(e[s],t,n,i,o);else{const s=(0,r.klJ)(),c=(0,r.OAn)(),f=(0,r.Mx4)();let w=(0,r.Y3W)(e)?e:(0,r.nl4)(e.provide);const de=(0,r.Rc9)(e),ye=1048575&f.providerIndexes,Ye=f.directiveStart,ft=f.providerIndexes>>20;if((0,r.Y3W)(e)||!e.multi){const _t=new ot(de,o,qs,null),zt=Jd(w,t,o?ye:ye+ft,Ye);-1===zt?(gn(rn(f,c),s,w),Zd(s,e,t.length),t.push(w),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),n.push(_t),c.push(_t)):(n[zt]=_t,c[zt]=_t)}else{const _t=Jd(w,t,ye+ft,Ye),zt=Jd(w,t,ye,ye+ft),Ln=zt>=0&&n[zt];if(o&&!Ln||!o&&!(_t>=0&&n[_t])){gn(rn(f,c),s,w);const Qn=function lw(e,t,n,i,o){const c=new ot(e,n,qs,null);return c.multi=[],c.index=t,c.componentProviders=0,f_(c,o,i&&!n),c}(o?cw:uw,n.length,o,i,de);!o&&Ln&&(n[zt].providerFactory=Qn),Zd(s,e,t.length,0),t.push(w),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),n.push(Qn),c.push(Qn)}else Zd(s,e,_t>-1?_t:zt,f_(n[o?zt:_t],de,!o&&i));!o&&i&&Ln&&n[zt].componentProviders++}}}function Zd(e,t,n,i){const o=(0,r.Y3W)(t),s=(0,r.MME)(t);if(o||s){const w=(s?(0,r.nl4)(t.useClass):t).prototype.ngOnDestroy;if(w){const de=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const ye=de.indexOf(n);-1===ye?de.push(n,[i,w]):de[ye+1].push(i,w)}else de.push(n,w)}}}function f_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Jd(e,t,n,i){for(let o=n;o<i;o++)if(t[o]===e)return o;return-1}function uw(e,t,n,i,o){return qd(this.multi,[])}function cw(e,t,n,i,o){const s=this.multi;let c;if(this.providerFactory){const f=this.providerFactory.componentProviders,w=Zr(i,i[r.eDl],this.providerFactory.index,o);c=w.slice(0,f),qd(s,c);for(let de=f;de<w.length;de++)c.push(w[de])}else c=[],qd(s,c);return c}function qd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function h_(e,t){return n=>{n.providersResolver=(i,o)=>l_(i,o?o(e):e,!1),t&&(n.viewProvidersResolver=(i,o)=>l_(i,o?o(t):t,!0))}}function kc(e){if("function"==typeof e)return e;const t=(0,r.Bqz)(e);return t.some(r.Jzi)?()=>t.map(r.nl4).map(p_):t.map(p_)}function p_(e){return Al(e)?e.ngModule:e}function m_(e,t,n){return __((0,r.OAn)(),(0,r.gxQ)(),e,t,n)}function g_(e,t,n,i,o){return v_((0,r.OAn)(),(0,r.gxQ)(),e,t,n,i,o)}function ou(e,t){const n=e[t];return n===ni?void 0:n}function __(e,t,n,i,o,s){const c=t+n;return bi(e,c,o)?zo(e,c+1,s?i.call(s,o):i(o)):ou(e,c+1)}function y_(e,t,n,i,o,s,c){const f=t+n;return bs(e,f,o,s)?zo(e,f+2,c?i.call(c,o,s):i(o,s)):ou(e,f+2)}function v_(e,t,n,i,o,s,c,f){const w=t+n;return ec(e,w,o,s,c)?zo(e,w+3,f?i.call(f,o,s,c):i(o,s,c)):ou(e,w+3)}function E_(e,t,n,i,o,s,c,f,w){const de=t+n;return Ro(e,de,o,s,c,f)?zo(e,de+4,w?i.call(w,o,s,c,f):i(o,s,c,f)):ou(e,de+4)}function D_(e,t,n,i,o,s){let c=t+n,f=!1;for(let w=0;w<o.length;w++)bi(e,c++,o[w])&&(f=!0);return f?zo(e,c,i.apply(s,o)):ou(e,c)}function b_(e,t){const n=(0,r.klJ)();let i;const o=e+r.Yw1;n.firstCreatePass?(i=function bw(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}}(t,n.pipeRegistry),n.data[o]=i,i.onDestroy&&(n.destroyHooks??=[]).push(o,i.onDestroy)):i=n.data[o];const s=i.factory||(i.factory=(0,r.wGu)(i.type,!0)),f=(0,r.a2B)(qs);try{const w=On(!1),de=s();return On(w),(0,r.M_e)(n,(0,r.OAn)(),o,de),de}finally{(0,r.a2B)(f)}}function C_(e,t,n){const i=e+r.Yw1,o=(0,r.OAn)(),s=(0,r.Hh6)(o,i);return su(o,i)?__(o,(0,r.gxQ)(),t,s.transform,n,s):s.transform(n)}function M_(e,t,n,i){const o=e+r.Yw1,s=(0,r.OAn)(),c=(0,r.Hh6)(s,o);return su(s,o)?y_(s,(0,r.gxQ)(),t,c.transform,n,i,c):c.transform(n,i)}function w_(e,t,n,i,o){const s=e+r.Yw1,c=(0,r.OAn)(),f=(0,r.Hh6)(c,s);return su(c,s)?v_(c,(0,r.gxQ)(),t,f.transform,n,i,o,f):f.transform(n,i,o)}function su(e,t){return e[r.eDl].data[t].pure}function Nc(e,t,n,i,o){const s=o[r.eDl];if(s!==i.tView)for(let c=r.Yw1;c<s.bindingStartIndex;c++){const f=o[c];if((0,r.A0l)(f)){(0,r.q$2)(f[r.jgP])&&Nc(e,t,n,i,f[r.jgP]);for(let w=r.Y20;w<f.length;w++)Nc(e,t,n,i,f[w])}else(0,r.q$2)(f)&&Nc(e,t,n,i,f)}else!function Rw(e,t,n,i,o){const s=o[r.SKP];let c=o[r.jgP];const f=o[r.f7T],w=o[r.qlT],de=o[r.YEL].get(r.SKi,null),ye=()=>{if(i.encapsulation===Fe.ShadowDom||i.encapsulation===Fe.ExperimentalIsolatedShadowDom){const zt=c.cloneNode(!1);c.replaceWith(zt),c=zt}const Ye=Cf(n),ft=Su(f,Ye,s,tl(n),c,w,null,null,null,null,null);(function kw(e,t,n,i){for(let o=r.Yw1;o<e[r.eDl].bindingStartIndex;o++){const s=e[o];if(((0,r.q$2)(s)||(0,r.A0l)(s))&&s[r.K29]===t){s[r.K29]=n;break}}e[r.EJG]===t&&(e[r.EJG]=n),e[r.Yrj]===t&&(e[r.Yrj]=n),n[r.K29]=t[r.K29],t[r.K29]=null,e[i]=n})(f,o,ft,w.index),Ra(o[r.eDl],o);const _t=o[r.M0L].rendererFactory;(function Pw(e,t){e.componentReplaced?.(t.id)})(_t,i),ft[r.GpT]=_t.createRenderer(c,n),Lf(o[r.eDl],o),function Nw(e){if(null!==e.projection){for(const t of e.projection)J(t)&&(t.projectionNext=null,t.flags&=-3);e.projection=null}}(w),ju(Ye,ft,s),th(Ye,ft,Ye.template,s)};null===de?S_(e,t,ye):de.run(()=>S_(e,t,ye))}(e,t,n,i,o)}function S_(e,t,n){try{n()}catch(i){if(null!==t&&i.message){const s=i.message+(i.stack?"\n"+i.stack:"");e?.hot?.send?.("angular:invalidate",{id:t,message:s,error:!0})}throw i}}const cs={\u0275\u0275animateEnter:function yc(e){if(po("NgAnimateEnter"),!As)return yc;const t=(0,r.OAn)();if(hc(t))return yc;const n=(0,r.Mx4)();return pc(n,t),gc(mc(t),n,()=>function $b(e,t,n){const i=(0,r.d31)(t,e),o=e[r.GpT],s=e[r.YEL].get(r.SKi),c=Cm(n),f=[],w=ye=>{if(ye.target!==i)return;const Ye=ye instanceof AnimationEvent?"animationend":"transitionend";s.runOutsideAngular(()=>{o.listen(i,Ye,de)})},de=ye=>{ye.target===i&&function Bb(e,t,n){const i=aa.get(t);if(e.target===t&&i&&Mm(e,t)){e.stopImmediatePropagation();for(const o of i.classList)n.removeClass(t,o);pd(t)}}(ye,i,o)};if(c&&c.length>0){s.runOutsideAngular(()=>{f.push(o.listen(i,"animationstart",w)),f.push(o.listen(i,"transitionstart",w))}),function Nb(e,t,n){const i=aa.get(e);if(i){for(const o of t)i.classList.push(o);for(const o of n)i.cleanupFns.push(o)}else aa.set(e,{classList:t,cleanupFns:n})}(i,c,f);for(const ye of c)o.addClass(i,ye);s.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(Of(i,Ps,As),!Ps.has(i)){for(const ye of c)o.removeClass(i,ye);pd(i)}})})}}(t,n,e)),Pu(t[r.YEL]),al(t[r.YEL],mc(t)),yc},\u0275\u0275animateEnterListener:function vc(e){if(po("NgAnimateEnter"),!As)return vc;const t=(0,r.OAn)();if(hc(t))return vc;const n=(0,r.Mx4)();return pc(n,t),gc(mc(t),n,()=>function jb(e,t,n){const i=(0,r.d31)(t,e);n.call(e[r.SKP],{target:i,animationComplete:xb})}(t,n,e)),Pu(t[r.YEL]),al(t[r.YEL],mc(t)),vc},\u0275\u0275animateLeave:function Ec(e){if(po("NgAnimateLeave"),!As)return Ec;const t=(0,r.OAn)();if(hc(t))return Ec;const i=(0,r.Mx4)();return pc(i,t),gc(Rs(t),i,()=>function Ub(e,t,n){const{promise:i,resolve:o}=ud(),s=(0,r.d31)(t,e),c=e[r.GpT],f=e[r.YEL].get(r.SKi);gs.add(e[r.ID]),(Rs(e).get(t.index).resolvers??=[]).push(o);const w=Cm(n);return w&&w.length>0?function Kb(e,t,n,i,o,s){!function Lb(e,t){if(!As)return;const n=aa.get(e);if(n&&n.classList.length>0&&function Fb(e,t){for(const n of t)if(e.classList.contains(n))return!0;return!1}(e,n.classList))for(const i of n.classList)t.removeClass(e,i);pd(e)}(e,o);const c=[],f=Rs(n).get(t.index)?.resolvers,w=de=>{if(de.target===e&&(de instanceof CustomEvent||Mm(de,e))){if(de.stopImmediatePropagation(),Ps.delete(e),md(t,e),Array.isArray(t.projection))for(const ye of i)o.removeClass(e,ye);gd(f,c),_d(n,t)}};s.runOutsideAngular(()=>{c.push(o.listen(e,"animationend",w)),c.push(o.listen(e,"transitionend",w))}),bm(t,e);for(const de of i)o.addClass(e,de);s.runOutsideAngular(()=>{requestAnimationFrame(()=>{Of(e,Ps,As),Ps.has(e)||(md(t,e),gd(f,c),_d(n,t))})})}(s,t,e,w,c,f):o(),{promise:i,resolve:o}}(t,i,e)),Pu(t[r.YEL]),Ec},\u0275\u0275animateLeaveListener:function yd(e){if(po("NgAnimateLeave"),!As)return yd;const t=(0,r.OAn)(),n=(0,r.Mx4)();return pc(n,t),gs.add(t[r.ID]),gc(Rs(t),n,()=>function Wb(e,t,n){const{promise:i,resolve:o}=ud(),s=(0,r.d31)(t,e),c=[],f=e[r.GpT],w=hc(e),de=e[r.YEL].get(r.SKi),ye=e[r.YEL].get(Pb);(Rs(e).get(t.index).resolvers??=[]).push(o);const Ye=Rs(e).get(t.index)?.resolvers;if(w)_c(e,t,s,Ye,c);else{const ft=setTimeout(()=>_c(e,t,s,Ye,c),ye),_t={target:s,animationComplete:()=>{_c(e,t,s,Ye,c),clearTimeout(ft)}};bm(t,s),de.runOutsideAngular(()=>{c.push(f.listen(s,"animationend",()=>{_c(e,t,s,Ye,c),clearTimeout(ft)},{once:!0}))}),n.call(e[r.SKP],_t)}return{promise:i,resolve:o}}(t,n,e)),Pu(t[r.YEL]),yd},\u0275\u0275attribute:hd,\u0275\u0275defineComponent:pp,\u0275\u0275defineDirective:_p,\u0275\u0275defineInjectable:r.jDH,\u0275\u0275defineInjector:r.G2t,\u0275\u0275defineNgModule:gp,\u0275\u0275definePipe:yp,\u0275\u0275directiveInject:qs,\u0275\u0275getInheritedFactory:ri,\u0275\u0275inject:r.KVO,\u0275\u0275injectAttribute:hi,\u0275\u0275invalidFactory:Nh,\u0275\u0275invalidFactoryDep:r.dmw,\u0275\u0275templateRefExtractor:function ww(e,t){return Wu(e,t)},\u0275\u0275resetView:r.Njj,\u0275\u0275HostDirectivesFeature:function wE(e){const t=n=>{const i=Array.isArray(e);null===n.hostDirectives?(n.resolveHostDirectives=SE,n.hostDirectives=i?e.map(Xl):[e]):i?n.hostDirectives.unshift(...e.map(Xl)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t},\u0275\u0275NgOnChangesFeature:et,\u0275\u0275ProvidersFeature:h_,\u0275\u0275InheritDefinitionFeature:Zl,\u0275\u0275ExternalStylesFeature:function dw(e){return t=>{e.length<1||(t.getExternalStyles=n=>e.map(o=>o+"?ngcomp"+(n?"="+encodeURIComponent(n):"")+"&e="+t.encapsulation))}},\u0275\u0275nextContext:vg,\u0275\u0275namespaceHTML:r.joV,\u0275\u0275namespaceMathML:r.By9,\u0275\u0275namespaceSVG:r.qSk,\u0275\u0275enableBindings:r.cSN,\u0275\u0275disableBindings:r.fuf,\u0275\u0275elementStart:Mc,\u0275\u0275elementEnd:wc,\u0275\u0275element:Td,\u0275\u0275elementContainerStart:kd,\u0275\u0275elementContainerEnd:Sc,\u0275\u0275domElement:function Vm(e,t,n,i){return Ad(e,t,n,i),Pd(),Vm},\u0275\u0275domElementStart:Ad,\u0275\u0275domElementEnd:Pd,\u0275\u0275domElementContainer:function Gm(e,t,n){return Nd(e,t,n),zm(),Gm},\u0275\u0275domElementContainerStart:Nd,\u0275\u0275domElementContainerEnd:zm,\u0275\u0275domTemplate:function Sp(e,t,n,i,o,s,c,f){const w=(0,r.OAn)(),de=(0,r.klJ)();return ws(w,de,e,t,n,i,o,(0,r.db4)(de.consts,s),void 0,c,f),Sp},\u0275\u0275domListener:function yg(e,t,n){const i=(0,r.OAn)(),o=(0,r.klJ)(),s=(0,r.Mx4)();return(3&s.type||n)&&tc(s,o,i,n,i[r.GpT],e,t,Yo(s,i,t)),yg},\u0275\u0275elementContainer:function Hm(e,t,n){return kd(e,t,n),Sc(),Hm},\u0275\u0275pureFunction0:function pw(e,t){const n=(0,r.gxQ)()+e,i=(0,r.OAn)();return i[n]===ni?zo(i,n,t()):Ha(i,n)},\u0275\u0275pureFunction1:m_,\u0275\u0275pureFunction2:function mw(e,t,n,i){return y_((0,r.OAn)(),(0,r.gxQ)(),e,t,n,i)},\u0275\u0275pureFunction3:g_,\u0275\u0275pureFunction4:function gw(e,t,n,i,o,s,c){return E_((0,r.OAn)(),(0,r.gxQ)(),e,t,n,i,o,s)},\u0275\u0275pureFunction5:function _w(e,t,n,i,o,s,c){const f=(0,r.gxQ)()+e,w=(0,r.OAn)(),de=Ro(w,f,n,i,o,s);return bi(w,f+4,c)||de?zo(w,f+5,t(n,i,o,s,c)):Ha(w,f+5)},\u0275\u0275pureFunction6:function yw(e,t,n,i,o,s,c,f){const w=(0,r.gxQ)()+e,de=(0,r.OAn)(),ye=Ro(de,w,n,i,o,s);return bs(de,w+4,c,f)||ye?zo(de,w+6,t(n,i,o,s,c,f)):Ha(de,w+6)},\u0275\u0275pureFunction7:function vw(e,t,n,i,o,s,c,f,w){const de=(0,r.gxQ)()+e,ye=(0,r.OAn)();let Ye=Ro(ye,de,n,i,o,s);return ec(ye,de+4,c,f,w)||Ye?zo(ye,de+7,t(n,i,o,s,c,f,w)):Ha(ye,de+7)},\u0275\u0275pureFunction8:function Ew(e,t,n,i,o,s,c,f,w,de){const ye=(0,r.gxQ)()+e,Ye=(0,r.OAn)(),ft=Ro(Ye,ye,n,i,o,s);return Ro(Ye,ye+4,c,f,w,de)||ft?zo(Ye,ye+8,t(n,i,o,s,c,f,w,de)):Ha(Ye,ye+8)},\u0275\u0275pureFunctionV:function Dw(e,t,n){return D_((0,r.OAn)(),(0,r.gxQ)(),e,t,n)},\u0275\u0275getCurrentView:Qm,\u0275\u0275restoreView:r.eBV,\u0275\u0275listener:jd,\u0275\u0275projection:function DM(e,t=0,n,i,o,s){const c=(0,r.OAn)(),f=(0,r.klJ)(),w=i?e+1:null;null!==w&&ws(c,f,w,i,o,s,null,n);const de=vs(f,r.Yw1+e,16,null,n||null);null===de.projection&&(de.projection=t),(0,r.Pfq)();const Ye=!c[r.tcA]||(0,r.KtD)();null===c[r.b5C][r.qlT].projection[de.projection]&&null!==w?function bM(e,t,n){const i=r.Yw1+n,o=t.data[i],s=e[i];Xs(s,Qs(e,o,void 0,{dehydratedView:null}),0,ys(o,null))}(c,f,w):Ye&&!$n(de)&&function Qy(e,t,n){Hf(t[r.GpT],0,t,n,ll(e,n,t),jf(n.parent||t[r.qlT],n,t))}(f,c,de)},\u0275\u0275syntheticHostProperty:function Xm(e,t,n){const i=(0,r.OAn)();if(bi(i,(0,r.xbp)(),t)){const s=(0,r.klJ)(),c=(0,r.CpD)();pl(c,i,e,t,Xf((0,r.MT)(s.data),c,i),n)}return Xm},\u0275\u0275syntheticHostListener:function _g(e,t){const n=(0,r.Mx4)(),i=(0,r.OAn)(),o=(0,r.klJ)();return Ud(o,i,Xf((0,r.MT)(o.data),n,i),n,e,t),_g},\u0275\u0275pipeBind1:C_,\u0275\u0275pipeBind2:M_,\u0275\u0275pipeBind3:w_,\u0275\u0275pipeBind4:function Cw(e,t,n,i,o,s){const c=e+r.Yw1,f=(0,r.OAn)(),w=(0,r.Hh6)(f,c);return su(f,c)?E_(f,(0,r.gxQ)(),t,w.transform,n,i,o,s,w):w.transform(n,i,o,s)},\u0275\u0275pipeBindV:function Mw(e,t,n){const i=e+r.Yw1,o=(0,r.OAn)(),s=(0,r.Hh6)(o,i);return su(o,i)?D_(o,(0,r.gxQ)(),t,s.transform,n,s):s.transform.apply(s,n)},\u0275\u0275projectionDef:function EM(e){const t=(0,r.OAn)()[r.b5C][r.qlT];if(!t.projection){const i=t.projection=(0,r.WfI)(e?e.length:1,null),o=i.slice();let s=t.child;for(;null!==s;){if(128!==s.type){const c=e?vM(s,e):0;null!==c&&(o[c]?o[c].projectionNext=s:i[c]=s,o[c]=s)}s=s.next}}},\u0275\u0275domProperty:function Ym(e,t,n){const i=(0,r.OAn)();return bi(i,(0,r.xbp)(),t)&&((0,r.klJ)(),pl((0,r.CpD)(),i,e,t,i[r.GpT],n)),Ym},\u0275\u0275ariaProperty:function Dm(e,t){const n=(0,r.OAn)();if(bi(n,(0,r.xbp)(),t)){const o=(0,r.klJ)(),s=(0,r.CpD)();if(Bu(s,o,n,e,t))(0,r.Qs1)(s)&&Qf(n,s.index);else{const f=(0,r.d31)(s,n);Lu(n[r.GpT],f,null,s.value,e,t,null)}}return Dm},\u0275\u0275property:Id,\u0275\u0275control:function Hb(e,t,n){const i=(0,r.OAn)(),o=(0,r.CpD)();bi(i,(0,r.xbp)(),e)&&((0,r.klJ)(),xu(o,i,t,e,i[r.GpT],n)),function Sm(e,t){const n=Im(t,e);n&&(function nC(e,t,n){if(n.classes){const i=bc(e);i.classes??={},n.state();const o=e[r.GpT],s=(0,r.d31)(t,e);for(const[c,f]of n.classes){const w=f();gC(i.classes,c,w)&&(w?o.addClass(s,c):o.removeClass(s,c))}}}(e,t,n),1024&t.flags?Pm(t,e,n,"value"):2048&t.flags?Pm(t,e,n,"checked"):4096&t.flags?function rC(e,t,n){const i=n.\u0275interopControl,o=bc(t),s=n.state(),c=!!(8192&e.flags),f=c?(0,r.d31)(e,t):null,w=t[r.GpT],de=s.value();ca(o,Dd,de)&&(0,r.O8t)(()=>i.writeValue(de));for(const ye of bd){const Ye=s[ye]?.();if(ca(o,ye,Ye)){const ft=Dc[ye],_t=vd(e,t,ft,Ye);ye===Nm?i.setDisabledState&&(0,r.O8t)(()=>i.setDisabledState(Ye)):c&&!_t&&Ed(e,w,f,ye,Ye,ft)}}}(t,e,n):function iC(e,t,n){const i=(0,r.d31)(e,t),o=t[r.GpT],s=n.state(),c=bc(t),f=s.controlValue();ca(c,Dd,f)&&function uC(e,t){switch(e.type){case"checkbox":return void(e.checked=t);case"radio":return void(e.checked=t===e.value);case"number":case"range":case"datetime-local":if("number"==typeof t)return void km(e,t);break;case"date":case"month":case"time":case"week":if(Rm(t))return void(e.valueAsDate=t);if("number"==typeof t)return void km(e,t)}e.value=t}(i,f);for(const w of bd){const de=s[w]?.();if(ca(c,w,de)){const ye=Dc[w];Ed(e,o,i,w,de,ye),vd(e,t,ye,de)}}}(t,e,n)),(0,r.xbp)()}(i,o)},\u0275\u0275controlCreate:function Vb(){const e=(0,r.OAn)(),t=(0,r.klJ)(),n=(0,r.Mx4)();t.firstCreatePass&&function zb(e,t,n){const i=t.inputs?.field??t.inputs?.formField;if(!i||(0,r.Qs1)(t)&&i.includes(t.directiveStart+t.componentOffset))return;const o=i.find(c=>Kh in n[c]);if(void 0===o)return;t.fieldIndex=o;const s=function Gb(e,t){return!!t[e.fieldIndex].\u0275interopControl&&(e.flags|=4096,!0)}(t,n)||function Qb(e,t){for(let n=t.directiveStart;n<t.directiveEnd;n++){const i=e.data[n];if(Om(i,"value"))return t.flags|=1024,t.customControlIndex=n,!0;if(Om(i,"checked"))return t.flags|=2048,t.customControlIndex=n,!0}return!1}(e,t);if(!function Yb(e){return!!function Jb(e){if(2!==e.type)return!1;const t=e.value;return"input"===t||"textarea"===t||"select"===t}(e)&&(e.flags|=8192,function oC(e){if(!e.attrs||"input"!==e.value)return!1;for(let t=0;t<e.attrs.length;t+=2){const n=e.attrs[t];if(Et(n))break;if("type"===n){const i=e.attrs[t+1];return"date"===i||"datetime-local"===i||"month"===i||"number"===i||"range"===i||"time"===i||"week"===i}}return!1}(e)&&(e.flags|=16384),function sC(e){return"select"!==e.value}(e)&&(e.flags|=32768),!0)}(t)&&!s)throw new r.buA(318,!1)}(t,n,e);const i=Im(n,e);i&&(po("NgSignalForms"),1024&n.flags?Am(e,n,i,"value"):2048&n.flags?Am(e,n,i,"checked"):4096&n.flags?function Zb(e){const t=e.\u0275interopControl;t.registerOnChange(n=>e.state().setControlValue(n)),t.registerOnTouched(()=>e.state().markAsTouched())}(i):function qb(e,t,n){const i=(0,r.klJ)(),o=e[r.GpT],s=(0,r.d31)(t,e),c=()=>{const w=n.state();w.setControlValue(function aC(e,t){switch(e.type){case"checkbox":return e.checked;case"number":case"range":case"datetime-local":if("number"==typeof t())return e.valueAsNumber;break;case"date":case"month":case"time":case"week":const n=t();if(Rm(n))return e.valueAsDate;if("number"==typeof n)return e.valueAsNumber}return e.value}(s,w.value))};tc(t,i,e,void 0,o,"input",c,Yo(t,e,c));const f=()=>{n.state().markAsTouched()};if(tc(t,i,e,void 0,o,"blur",f,Yo(t,e,f)),2===t.type&&"select"===t.value&&"function"==typeof MutationObserver){const w=function eC(e,t){const n=new MutationObserver(i=>{i.some(o=>function tC(e){if("childList"===e.type||"characterData"===e.type){if(e.target instanceof Comment)return!1;for(const t of e.addedNodes)if(!(t instanceof Comment))return!0;for(const t of e.removedNodes)if(!(t instanceof Comment))return!0;return!1}return"attributes"===e.type&&e.target instanceof HTMLOptionElement}(o))&&(e.value=t.state().value())});return n.observe(e,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),n}(s,n);(0,r.B22)(i,e,w,w.disconnect)}}(e,n,i),i.\u0275register())},\u0275\u0275pipe:b_,\u0275\u0275queryRefresh:Dg,\u0275\u0275queryAdvance:function CM(e=1){(0,r.GA0)((0,r.w7Z)()+e)},\u0275\u0275viewQuery:function Eg(e,t,n){return ip(e,t,n),Eg},\u0275\u0275viewQuerySignal:function Mg(e,t,n,i){return up(e,ip(t,n,i)),Mg},\u0275\u0275loadQuery:bg,\u0275\u0275contentQuery:Kd,\u0275\u0275contentQuerySignal:function Cg(e,t,n,i,o){return up(t,op(e,n,i,o)),Cg},\u0275\u0275reference:wg,\u0275\u0275classMap:function $M(e){xg(HM,BM,e,!0)},\u0275\u0275styleMap:function LM(e){xg($g,FM,e,!1)},\u0275\u0275styleProp:function kg(e,t,n){return Ng(e,t,n,!1),kg},\u0275\u0275classProp:zd,\u0275\u0275advance:Mf,\u0275\u0275template:ql,\u0275\u0275conditional:jm,\u0275\u0275conditionalCreate:Bm,\u0275\u0275conditionalBranchCreate:wd,\u0275\u0275defer:function ab(e,t,n,i,o,s,c,f,w,de){const ye=(0,r.OAn)(),Ye=(0,r.klJ)(),ft=e+r.Yw1,_t=ws(ye,Ye,e,null,0,0),zt=ye[r.YEL],vn=Lo(zt);if(Ye.firstCreatePass){po("NgDefer");const Jo={primaryTmplIndex:t,loadingTmplIndex:i??null,placeholderTmplIndex:o??null,errorTmplIndex:s??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:Xi.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:de??0};w?.(Ye,Jo,f,c),function UE(e,t,n){const i=Ya(t);e.data[i]=n}(Ye,ft,Jo)}const Ln=ye[ft];let Qn=null,wn=null;if(Ln[r.qFA]?.length>0){const Jo=Ln[r.qFA][0].data;wn=Jo.di??null,Qn=Jo.s}const Br=[null,ta.Initial,null,null,null,null,wn,Qn,null,null];!function jE(e,t,n){e[Ya(t)]=n}(ye,ft,Br);let go=null;null!==wn&&vn&&(go=zt.get(Sn),go.add(wn,{lView:ye,tNode:_t,lContainer:Ln}));const Ai=()=>{Pp(Br),null!==wn&&go?.cleanup([wn])};Qa(0,Br,()=>(0,r.DyX)(ye,Ai)),(0,r.ik5)(ye,Ai)},\u0275\u0275deferWhen:function ub(e){const t=(0,r.OAn)(),n=(0,r.CpD)();if(Hi(0,t,n)&&bi(t,(0,r.xbp)(),e)){const o=(0,d.Ht)(null);try{const s=!!e,f=wo(t,n)[1];!1===s&&f===ta.Initial?oa(t,n):!0===s&&(f===ta.Initial||f===li.Placeholder)&&Os(0,t,n)}finally{(0,d.Ht)(o)}}},\u0275\u0275deferOnIdle:function fb(){Hi(0,(0,r.OAn)(),(0,r.Mx4)())&&hm(uc)},\u0275\u0275deferOnImmediate:function mb(){const e=(0,r.OAn)(),t=(0,r.Mx4)();Hi(0,e,t)&&(null===mo(e[r.eDl],t).loadingTmplIndex&&oa(e,t),Os(0,e,t))},\u0275\u0275deferOnTimer:function yb(e){Hi(0,(0,r.OAn)(),(0,r.Mx4)())&&hm(cc(e))},\u0275\u0275deferOnHover:function Db(e,t){const n=(0,r.OAn)(),i=(0,r.Mx4)();Hi(0,n,i)&&(oa(n,i),ia(n,i,e,t,ht,()=>Os(0,n,i),0))},\u0275\u0275deferOnInteraction:function Mb(e,t){const n=(0,r.OAn)(),i=(0,r.Mx4)();Hi(0,n,i)&&(oa(n,i),ia(n,i,e,t,tt,()=>Os(0,n,i),0))},\u0275\u0275deferOnViewport:function Ib(e,t,n){const i=(0,r.OAn)(),o=(0,r.Mx4)();Hi(0,i,o)&&(oa(i,o),ia(i,o,e,t,td,()=>Os(0,i,o),0,n))},\u0275\u0275deferPrefetchWhen:function cb(e){const t=(0,r.OAn)(),n=(0,r.CpD)();if(Hi(1,t,n)&&bi(t,(0,r.xbp)(),e)){const o=(0,d.Ht)(null);try{const s=!!e,f=mo(t[r.eDl],n);!0===s&&f.loadingState===Xi.NOT_STARTED&&Za(f,t,n)}finally{(0,d.Ht)(o)}}},\u0275\u0275deferPrefetchOnIdle:function hb(){Hi(1,(0,r.OAn)(),(0,r.Mx4)())&&pm(uc)},\u0275\u0275deferPrefetchOnImmediate:function gb(){const e=(0,r.OAn)(),t=(0,r.Mx4)();if(!Hi(1,e,t))return;const i=mo(e[r.eDl],t);i.loadingState===Xi.NOT_STARTED&&cd(i,e,t)},\u0275\u0275deferPrefetchOnTimer:function vb(e){Hi(1,(0,r.OAn)(),(0,r.Mx4)())&&pm(cc(e))},\u0275\u0275deferPrefetchOnHover:function bb(e,t){const n=(0,r.OAn)(),i=(0,r.Mx4)();if(!Hi(1,n,i))return;const s=mo(n[r.eDl],i);s.loadingState===Xi.NOT_STARTED&&ia(n,i,e,t,ht,()=>Za(s,n,i),1)},\u0275\u0275deferPrefetchOnInteraction:function wb(e,t){const n=(0,r.OAn)(),i=(0,r.Mx4)();if(!Hi(1,n,i))return;const s=mo(n[r.eDl],i);s.loadingState===Xi.NOT_STARTED&&ia(n,i,e,t,tt,()=>Za(s,n,i),1)},\u0275\u0275deferPrefetchOnViewport:function Ob(e,t,n){const i=(0,r.OAn)(),o=(0,r.Mx4)();if(!Hi(1,i,o))return;const c=mo(i[r.eDl],o);c.loadingState===Xi.NOT_STARTED&&ia(i,o,e,t,td,()=>Za(c,i,o),1,n)},\u0275\u0275deferHydrateWhen:function lb(e){const t=(0,r.OAn)(),n=(0,r.CpD)();if(!Hi(2,t,n))return;const i=(0,r.xbp)();if(us((0,r.klJ)(),n).set(6,null),bi(t,i,e)){const c=t[r.YEL],f=(0,d.Ht)(null);try{1==!!e&&Ts(c,wo(t,n)[6])}finally{(0,d.Ht)(f)}}},\u0275\u0275deferHydrateNever:function db(){const e=(0,r.OAn)(),t=(0,r.Mx4)();Hi(2,e,t)&&us((0,r.klJ)(),t).set(7,null)},\u0275\u0275deferHydrateOnIdle:function pb(){const e=(0,r.OAn)(),t=(0,r.Mx4)();Hi(2,e,t)&&(us((0,r.klJ)(),t).set(0,null),mm(uc,e,t))},\u0275\u0275deferHydrateOnImmediate:function _b(){const e=(0,r.OAn)(),t=(0,r.Mx4)();Hi(2,e,t)&&(us((0,r.klJ)(),t).set(1,null),Ts(e[r.YEL],wo(e,t)[6]))},\u0275\u0275deferHydrateOnTimer:function Eb(e){const t=(0,r.OAn)(),n=(0,r.Mx4)();Hi(2,t,n)&&(us((0,r.klJ)(),n).set(5,{type:5,delay:e}),mm(cc(e),t,n))},\u0275\u0275deferHydrateOnHover:function Cb(){const e=(0,r.OAn)(),t=(0,r.Mx4)();Hi(2,e,t)&&us((0,r.klJ)(),t).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function Sb(){const e=(0,r.OAn)(),t=(0,r.Mx4)();Hi(2,e,t)&&us((0,r.klJ)(),t).set(3,null)},\u0275\u0275deferHydrateOnViewport:function Tb(e){const t=(0,r.OAn)(),n=(0,r.Mx4)();Hi(2,t,n)&&us((0,r.klJ)(),n).set(2,e?{type:2,intersectionObserverOptions:e}:null)},\u0275\u0275deferEnableTimerScheduling:function tD(e,t,n,i){const o=e.consts;null!=n&&(t.placeholderBlockConfig=(0,r.db4)(o,n)),null!=i&&(t.loadingBlockConfig=(0,r.db4)(o,i)),null===rd&&(rd=eD)},\u0275\u0275repeater:Wm,\u0275\u0275repeaterCreate:Km,\u0275\u0275repeaterTrackByIndex:function DC(e){return e},\u0275\u0275repeaterTrackByIdentity:Um,\u0275\u0275componentInstance:wm,\u0275\u0275text:Kg,\u0275\u0275textInterpolate:function qg(e){return Rc("",e),qg},\u0275\u0275textInterpolate1:Rc,\u0275\u0275textInterpolate2:Qd,\u0275\u0275textInterpolate3:function e_(e,t,n,i,o,s,c){const f=(0,r.OAn)(),w=Gg(f,e,t,n,i,o,s,c);return w!==ni&&Zo(f,(0,r._px)(),w),e_},\u0275\u0275textInterpolate4:function t_(e,t,n,i,o,s,c,f,w){const de=(0,r.OAn)(),ye=Qg(de,e,t,n,i,o,s,c,f,w);return ye!==ni&&Zo(de,(0,r._px)(),ye),t_},\u0275\u0275textInterpolate5:function n_(e,t,n,i,o,s,c,f,w,de,ye){const Ye=(0,r.OAn)(),ft=Yg(Ye,e,t,n,i,o,s,c,f,w,de,ye);return ft!==ni&&Zo(Ye,(0,r._px)(),ft),n_},\u0275\u0275textInterpolate6:function r_(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft){const _t=(0,r.OAn)(),zt=Xg(_t,e,t,n,i,o,s,c,f,w,de,ye,Ye,ft);return zt!==ni&&Zo(_t,(0,r._px)(),zt),r_},\u0275\u0275textInterpolate7:function i_(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt){const vn=(0,r.OAn)(),Ln=Zg(vn,e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt);return Ln!==ni&&Zo(vn,(0,r._px)(),Ln),i_},\u0275\u0275textInterpolate8:function o_(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt,vn,Ln){const Qn=(0,r.OAn)(),wn=Jg(Qn,e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt,vn,Ln);return wn!==ni&&Zo(Qn,(0,r._px)(),wn),o_},\u0275\u0275textInterpolateV:function s_(e){const t=(0,r.OAn)(),n=Vg(t,e);return n!==ni&&Zo(t,(0,r._px)(),n),s_},\u0275\u0275i18n:function mM(e,t,n){pg(e,t,n),mg()},\u0275\u0275i18nAttributes:function gM(e,t){const n=(0,r.klJ)(),i=(0,r.db4)(n.consts,t);!function JC(e,t,n){const o=(0,r.Mx4)().index,s=[];if(e.firstCreatePass&&null===e.data[t]){for(let c=0;c<n.length;c+=2){const f=n[c],w=n[c+1];if(""!==w){if(VC.test(w))throw new Error(`ICU expressions are not supported in attributes. Message: "${w}".`);ru(s,w,o,f,qC(s),null)}}e.data[t]=s}}(n,e+r.Yw1,i)},\u0275\u0275i18nExp:function gg(e){return function $C(e){e&&(qa|=1<<Math.min(eu,31)),eu++}(bi((0,r.OAn)(),(0,r.xbp)(),e)),gg},\u0275\u0275i18nStart:pg,\u0275\u0275i18nEnd:mg,\u0275\u0275i18nApply:function _M(e){!function BC(e,t,n){if(eu>0){const i=e.data[n];ng(e,t,Array.isArray(i)?i:i.update,(0,r.c$7)()-eu-1,qa)}qa=0,eu=0}((0,r.klJ)(),(0,r.OAn)(),e+r.Yw1)},\u0275\u0275i18nPostprocess:function yM(e,t={}){return function pM(e,t={}){let n=e;if(aM.test(e)){const i={},o=[0];n=n.replace(uM,(s,c,f)=>{const w=c||f,de=i[w]||[];if(de.length||(w.split("|").forEach(vn=>{const Ln=vn.match(hM),Qn=Ln?parseInt(Ln[1],10):0,wn=fM.test(vn);de.push([Qn,wn,vn])}),i[w]=de),!de.length)throw new Error(`i18n postprocess: unmatched placeholder - ${w}`);const ye=o[o.length-1];let Ye=0;for(let vn=0;vn<de.length;vn++)if(de[vn][0]===ye){Ye=vn;break}const[ft,_t,zt]=de[Ye];return _t?o.pop():ye!==ft&&o.push(ft),de.splice(Ye,1),zt})}return Object.keys(t).length&&(n=n.replace(cM,(i,o,s,c,f,w)=>t.hasOwnProperty(s)?`${o}${t[s]}${w}`:i),n=n.replace(lM,(i,o)=>t.hasOwnProperty(o)?t[o]:i),n=n.replace(dM,(i,o)=>{if(t.hasOwnProperty(o)){const s=t[o];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${i} with key: ${o}`);return s.shift()}return i})),n}(e,t)},\u0275\u0275resolveWindow:function gy(e){return e.ownerDocument.defaultView},\u0275\u0275resolveDocument:function _y(e){return e.ownerDocument},\u0275\u0275resolveBody:function gf(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function fw(e,t,n){const i=e.\u0275cmp;i.directiveDefs=ic(t,mp),i.pipeDefs=ic(n,r.oyA)},\u0275\u0275setNgModuleScope:function hw(e,t){return S(()=>{const n=(0,r.WbQ)(e);n.declarations=kc(t.declarations||r.Mlv),n.imports=kc(t.imports||r.Mlv),n.exports=kc(t.exports||r.Mlv),t.bootstrap&&(n.bootstrap=kc(t.bootstrap)),Va.registerNgModule(e,t)})},\u0275\u0275registerNgModuleType:dp,\u0275\u0275getComponentDepsFactory:function Sw(e,t){return()=>{try{return Va.getComponentDependencies(e,t).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}},\u0275setClassDebugInfo:function Iw(e,t){const n=(0,r.xUg)(e);null!==n&&(n.debugInfo=t)},\u0275\u0275declareLet:function c_(e){po("NgLet");const t=(0,r.klJ)(),n=(0,r.OAn)(),i=e+r.Yw1,o=vs(t,i,128,null,null);return(0,r.iMd)(o,!1),(0,r.M_e)(t,n,i,u_),c_},\u0275\u0275storeLet:function YM(e){const t=(0,r.klJ)(),n=(0,r.OAn)(),i=(0,r._px)();return(0,r.M_e)(t,n,i,e),e},\u0275\u0275readContextLet:function XM(e){const t=(0,r.VPL)(),n=(0,r.Hh6)(t,r.Yw1+e);if(n===u_)throw new r.buA(314,!1);return n},\u0275\u0275attachSourceLocations:function ZM(e,t){const n=(0,r.klJ)(),i=(0,r.OAn)(),o=i[r.GpT],s="data-ng-source-location";for(const[c,f,w,de]of t){(0,r.XRZ)(n,c+r.Yw1);const Ye=(0,r.vaC)(c+r.Yw1,i);Ye.hasAttribute(s)||o.setAttribute(Ye,s,`${e}@o:${f},l:${w},c:${de}`)}},\u0275\u0275interpolate:function JM(e){return bi((0,r.OAn)(),(0,r.xbp)(),e)?(0,r.eFE)(e):ni},\u0275\u0275interpolate1:function qM(e,t,n=""){return Hg((0,r.OAn)(),e,t,n)},\u0275\u0275interpolate2:function ew(e,t,n,i,o=""){return zg((0,r.OAn)(),e,t,n,i,o)},\u0275\u0275interpolate3:function tw(e,t,n,i,o,s,c=""){return Gg((0,r.OAn)(),e,t,n,i,o,s,c)},\u0275\u0275interpolate4:function nw(e,t,n,i,o,s,c,f,w=""){return Qg((0,r.OAn)(),e,t,n,i,o,s,c,f,w)},\u0275\u0275interpolate5:function rw(e,t,n,i,o,s,c,f,w,de,ye=""){return Yg((0,r.OAn)(),e,t,n,i,o,s,c,f,w,de,ye)},\u0275\u0275interpolate6:function iw(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft=""){return Xg((0,r.OAn)(),e,t,n,i,o,s,c,f,w,de,ye,Ye,ft)},\u0275\u0275interpolate7:function ow(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt=""){return Zg((0,r.OAn)(),e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt)},\u0275\u0275interpolate8:function sw(e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt,vn,Ln=""){return Jg((0,r.OAn)(),e,t,n,i,o,s,c,f,w,de,ye,Ye,ft,_t,zt,vn,Ln)},\u0275\u0275interpolateV:function aw(e){return Vg((0,r.OAn)(),e)},\u0275\u0275sanitizeHtml:function ty(e){const t=Ta();return t?_a(t.sanitize(Mo.HTML,e)||""):Do(e,"HTML")?_a(Vo(e)):function Yc(e,t){let n=null;try{ps=ps||gu(e);let i=t?String(t):"";n=ps.getInertBodyElement(i);let o=5,s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=s,s=n.innerHTML,n=ps.getInertBodyElement(i)}while(i!==s);return is((new Eu).sanitizeChildren(Ws(n)||n))}finally{if(n){const i=Ws(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}(ui(),(0,r.eFE)(e))},\u0275\u0275sanitizeStyle:function ny(e){const t=Ta();return t?t.sanitize(Mo.STYLE,e)||"":Do(e,"Style")?Vo(e):(0,r.eFE)(e)},\u0275\u0275sanitizeResourceUrl:pf,\u0275\u0275sanitizeScript:function ry(e){const t=Ta();if(t)return ya(t.sanitize(Mo.SCRIPT,e)||"");if(Do(e,"Script"))return ya(Vo(e));throw new r.buA(905,!1)},\u0275\u0275validateAttribute:function ly(e,t,n){const i=t.toLowerCase(),o=n.toLowerCase();if(!cy[i]?.has(o))return e;const s=(0,r.CpD)();if(2!==s.type)return e;const c=(0,r.OAn)();throw"iframe"===i&&function Di(e){const t=(0,r.OAn)();e.src="",e.srcdoc=is(""),Qt(t[r.GpT],e)}((0,r.d31)(s,c)),new r.buA(-910,!1)},\u0275\u0275sanitizeUrl:hf,\u0275\u0275sanitizeUrlOrResourceUrl:mf,\u0275\u0275trustConstantHtml:function iy(e){return is(e[0])},\u0275\u0275trustConstantResourceUrl:function oy(e){return function du(e){return lu()?.createScriptURL(e)||e}(e[0])},forwardRef:r.Rfq,resolveForwardRef:r.nl4,\u0275\u0275twoWayProperty:Yd,\u0275\u0275twoWayBindingSet:a_,\u0275\u0275twoWayListener:Xd,\u0275\u0275replaceMetadata:function Tw(e,t,n,i,o=null,s=null){const c=(0,r.xUg)(e);t.apply(null,[e,n,...i]);const{newDef:f,oldDef:w}=function Aw(e,t){const n={...e};return{newDef:Object.assign(e,t,{directiveDefs:n.directiveDefs,pipeDefs:n.pipeDefs,setInput:n.setInput,type:n.type}),oldDef:n}}(c,(0,r.xUg)(e));if(e[r.CQl]=f,w.tView){const de=function ln(){return Qr}().values();for(const ye of de)(0,r.EFk)(ye)&&null===ye[r.f7T]&&Nc(o,s,f,w,ye)}},\u0275\u0275getReplaceMetadataURL:function Ow(e,t,n){const i=`./@ng/component?c=${e}&t=${encodeURIComponent(t)}`;return new URL(i,n).href}};let pa=null;function xw(e){null!==pa&&(e.defaultEncapsulation!==pa.defaultEncapsulation||e.preserveWhitespaces!==pa.preserveWhitespaces)||(pa=e)}const au=[];function R_(e){return Al(e)?e.ngModule:e}const qw=C("NgModule",e=>e,void 0,0,(e,t)=>function Bw(e,t={}){(function jw(e,t){const i=(0,r.Bqz)(t.declarations||r.Mlv);let o=null;Object.defineProperty(e,r.hmW,{configurable:!0,get:()=>(null===o&&(o=M().compileNgModule(cs,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,r.Bqz)(t.bootstrap||r.Mlv).map(r.nl4),declarations:i.map(r.nl4),imports:(0,r.Bqz)(t.imports||r.Mlv).map(r.nl4).map(R_),exports:(0,r.Bqz)(t.exports||r.Mlv).map(r.nl4).map(R_),schemas:t.schemas?(0,r.Bqz)(t.schemas):null,id:t.id||null}),o.schemas||(o.schemas=[])),o)});let s=null;Object.defineProperty(e,r.zSs,{get:()=>{if(null===s){const f=M();s=f.compileFactory(cs,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:vt(e),target:f.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let c=null;Object.defineProperty(e,r.ONQ,{get:()=>{if(null===c){const f={name:e.name,type:e,providers:t.providers||r.Mlv,imports:[(t.imports||r.Mlv).map(r.nl4),(t.exports||r.Mlv).map(r.nl4)]};c=M().compileInjector(cs,`ng:///${e.name}/\u0275inj.js`,f)}return c},configurable:!1})})(e,t),void 0!==t.id&&dp(e,t.id),function Fw(e,t){au.push({moduleType:e,ngModule:t})}(e,t)}(e,t));class eS{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let tS=(()=>{class e{compileModuleSync(n){return new hp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=Ho((0,r.phH)(n).declarations).reduce((c,f)=>{const w=(0,r.xUg)(f);return w&&c.push(new nc(w)),c},[]);return new eS(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nS=new r.nKC("");let rS=(()=>{class e{applicationErrorHandler=(0,r.WQX)(r.ZTf);appRef=(0,r.WQX)(ad);taskService=(0,r.WQX)(r.rev);ngZone=(0,r.WQX)(r.SKi);zonelessEnabled=(0,r.WQX)(r.Evm);tracing=(0,r.WQX)(Pa,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(r.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,r.WQX)(r.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?r.uiq:r.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(r.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,(0,r.uiq)(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=(0,r.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function H_(){return[{provide:r.hk6,useExisting:rS},{provide:r.SKi,useClass:r.myG},{provide:r.Evm,useValue:!0}]}const z_=new r.nKC("",{factory:()=>(0,r.WQX)(z_,{optional:!0,skipSelf:!0})||function iS(){return typeof $localize<"u"&&$localize.locale||Fd}()}),oS=new r.nKC("",{factory:()=>"USD"})},5558(ct,E,a){"use strict";a.d(E,{n:()=>D});var u=a(8750),r=a(9974),d=a(4360);function D($,P){return(0,r.N)((S,_)=>{let b=null,W=0,C=!1;const L=()=>C&&!b&&_.complete();S.subscribe((0,d._)(_,I=>{b?.unsubscribe();let A=0;const U=W++;(0,u.Tg)($(I,U)).subscribe(b=(0,d._)(_,O=>_.next(P?P(I,O,U,A++):O),()=>{b=null,L()}))},()=>{C=!0,L()}))})}},5824(ct,E,a){"use strict";a.d(E,{Ag:()=>xe,Bg:()=>F,EF:()=>et,H8:()=>nt,Ht:()=>P,JC:()=>I,KE:()=>_,KO:()=>ce,KZ:()=>ge,Ny:()=>He,O8:()=>te,TO:()=>p,Wu:()=>M,XR:()=>q,a7:()=>ue,bh:()=>$,j2:()=>K,lh:()=>pe,mC:()=>De,mK:()=>C,n5:()=>_e,nR:()=>S,pL:()=>W,s0:()=>me,si:()=>B,vX:()=>Me});let u=null,r=!1,d=1;const $=Symbol("SIGNAL");function P(ae){const Ne=u;return u=ae,Ne}function S(){return u}function _(){return r}const W={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function C(ae){if(r)throw new Error("");if(null===u)return;u.consumerOnSignalRead(ae);const Ne=u.producersTail;if(void 0!==Ne&&Ne.producer===ae)return;let Ce;const Ze=u.recomputing;if(Ze&&(Ce=void 0!==Ne?Ne.nextProducer:u.producers,void 0!==Ce&&Ce.producer===ae))return u.producersTail=Ce,void(Ce.lastReadVersion=ae.version);const ot=ae.consumersTail;if(void 0!==ot&&ot.consumer===u&&(!Ze||function Oe(ae,Ne){const Ce=Ne.producersTail;if(void 0!==Ce){let Ze=Ne.producers;do{if(Ze===ae)return!0;if(Ze===Ce)break;Ze=Ze.nextProducer}while(void 0!==Ze)}return!1}(ot,u)))return;const k=ne(u),J={producer:ae,consumer:u,nextProducer:Ce,prevConsumer:ot,lastReadVersion:ae.version,nextConsumer:void 0};u.producersTail=J,void 0!==Ne?Ne.nextProducer=J:u.producers=J,k&&G(ae,J)}function I(ae){if((!ne(ae)||ae.dirty)&&(ae.dirty||ae.lastCleanEpoch!==d)){if(!ae.producerMustRecompute(ae)&&!B(ae))return void p(ae);ae.producerRecomputeValue(ae),p(ae)}}function A(ae){if(void 0===ae.consumers)return;const Ne=r;r=!0;try{for(let Ce=ae.consumers;void 0!==Ce;Ce=Ce.nextConsumer){const Ze=Ce.consumer;Ze.dirty||O(Ze)}}finally{r=Ne}}function U(){return!1!==u?.consumerAllowSignalWrites}function O(ae){ae.dirty=!0,A(ae),ae.consumerMarkedDirty?.(ae)}function p(ae){ae.dirty=!1,ae.lastCleanEpoch=d}function F(ae){return ae&&function T(ae){ae.producersTail=void 0,ae.recomputing=!0}(ae),P(ae)}function M(ae,Ne){P(Ne),ae&&function V(ae){ae.recomputing=!1;const Ne=ae.producersTail;let Ce=void 0!==Ne?Ne.nextProducer:ae.producers;if(void 0!==Ce){if(ne(ae))do{Ce=Q(Ce)}while(void 0!==Ce);void 0!==Ne?Ne.nextProducer=void 0:ae.producers=void 0}}(ae)}function B(ae){for(let Ne=ae.producers;void 0!==Ne;Ne=Ne.nextProducer){const Ce=Ne.producer,Ze=Ne.lastReadVersion;if(Ze!==Ce.version||(I(Ce),Ze!==Ce.version))return!0}return!1}function q(ae){if(ne(ae)){let Ne=ae.producers;for(;void 0!==Ne;)Ne=Q(Ne)}ae.producers=void 0,ae.producersTail=void 0,ae.consumers=void 0,ae.consumersTail=void 0}function G(ae,Ne){const Ce=ae.consumersTail,Ze=ne(ae);if(void 0!==Ce?(Ne.nextConsumer=Ce.nextConsumer,Ce.nextConsumer=Ne):(Ne.nextConsumer=void 0,ae.consumers=Ne),Ne.prevConsumer=Ce,ae.consumersTail=Ne,!Ze)for(let ot=ae.producers;void 0!==ot;ot=ot.nextProducer)G(ot.producer,ot)}function Q(ae){const Ne=ae.producer,Ce=ae.nextProducer,Ze=ae.nextConsumer,ot=ae.prevConsumer;if(ae.nextConsumer=void 0,ae.prevConsumer=void 0,void 0!==Ze?Ze.prevConsumer=ot:Ne.consumersTail=ot,void 0!==ot)ot.nextConsumer=Ze;else if(Ne.consumers=Ze,!ne(Ne)){let k=Ne.producers;for(;void 0!==k;)k=Q(k)}return Ce}function ne(ae){return ae.consumerIsAlwaysLive||void 0!==ae.consumers}function ue(ae){}function nt(ae,Ne){return Object.is(ae,Ne)}function ge(ae,Ne){const Ce=Object.create(Ke);Ce.computation=ae,void 0!==Ne&&(Ce.equal=Ne);const Ze=()=>{if(I(Ce),C(Ce),Ce.value===et)throw Ce.error;return Ce.value};return Ze[$]=Ce,Ze}const xe=Symbol("UNSET"),He=Symbol("COMPUTING"),et=Symbol("ERRORED"),Ke={...W,value:xe,dirty:!0,error:null,equal:nt,kind:"computed",producerMustRecompute:ae=>ae.value===xe||ae.value===He,producerRecomputeValue(ae){if(ae.value===He)throw new Error("");const Ne=ae.value;ae.value=He;const Ce=F(ae);let Ze,ot=!1;try{Ze=ae.computation(),P(null),ot=Ne!==xe&&Ne!==et&&Ze!==et&&ae.equal(Ne,Ze)}catch(k){Ze=et,ae.error=k}finally{M(ae,Ce)}ot?ae.value=Ne:(ae.value=Ze,ae.version++)}};let Ie=function Xe(){throw new Error};function se(ae){Ie(ae)}function ce(ae){Ie=ae}function _e(ae,Ne){const Ce=Object.create(me);Ce.value=ae,void 0!==Ne&&(Ce.equal=Ne);const Ze=()=>function st(ae){return C(ae),ae.value}(Ce);return Ze[$]=Ce,[Ze,J=>K(Ce,J),J=>De(Ce,J)]}function K(ae,Ne){U()||se(ae),ae.equal(ae.value,Ne)||(ae.value=Ne,function j(ae){ae.version++,function L(){d++}(),A(ae)}(ae))}function De(ae,Ne){U()||se(ae),K(ae,Ne(ae.value))}const me={...W,equal:nt,value:void 0,kind:"signal"};function te(ae){const Ne=P(null);try{return ae()}finally{P(Ne)}}const Me={...W,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function pe(ae){if(ae.dirty=!1,ae.version>0&&!B(ae))return;ae.version++;const Ne=F(ae);try{ae.cleanup(),ae.fn()}finally{M(ae,Ne)}}},5852(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(2240),r=a(5432),d=a(7868),D=a(7868);E.default={keyword:"patternProperties",type:"object",schemaType:"object",code(P){const{gen:S,schema:_,data:b,parentSchema:W,it:C}=P,{opts:L}=C,I=(0,u.allSchemaProperties)(_),A=I.filter(V=>(0,d.alwaysValidSchema)(C,_[V]));if(0===I.length||A.length===I.length&&(!C.opts.unevaluated||!0===C.props))return;const U=L.strictSchema&&!L.allowMatchingProperties&&W.properties,O=S.name("valid");!0!==C.props&&!(C.props instanceof r.Name)&&(C.props=(0,D.evaluatedPropsToName)(S,C.props));const{props:p}=C;function T(V){for(const B in U)new RegExp(V).test(B)&&(0,d.checkStrictMode)(C,`property ${B} matches pattern ${V} (use allowMatchingProperties)`)}function M(V){S.forIn("key",b,B=>{S.if(r._`${(0,u.usePattern)(P,V)}.test(${B})`,()=>{const q=A.includes(V);q||P.subschema({keyword:"patternProperties",schemaProp:V,dataProp:B,dataPropType:D.Type.Str},O),C.opts.unevaluated&&!0!==p?S.assign(r._`${p}[${B}]`,!0):!q&&!C.allErrors&&S.if((0,r.not)(O),()=>S.break())})})}!function F(){for(const V of I)U&&T(V),C.allErrors?M(V):(S.var(O,!0),M(V),S.if(O))}()}}},5854(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868),d=a(1506);E.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:P,schemaCode:S})=>u.str`must NOT have ${"maxLength"===P?"more":"fewer"} than ${S} characters`,params:({schemaCode:P})=>u._`{limit: ${P}}`},code(P){const{keyword:S,data:_,schemaCode:b,it:W}=P,C="maxLength"===S?u.operators.GT:u.operators.LT,L=!1===W.opts.unicode?u._`${_}.length`:u._`${(0,r.useFunc)(P.gen,d.default)}(${_})`;P.fail$data(u._`${L} ${C} ${b}`)}}},5908(ct,E,a){"use strict";a.d(E,{Lt:()=>Q,Zb:()=>q,cM:()=>B,ky:()=>V});var u=a(467),r=a(3294),d=a(5964),D=a(6354),$=a(9568),P=a(9172),S=a(5520),_=a(720),b=a(1744),W=a(6434),C=a(9403),L=a(203),I=a(8663),A=a(4740),U=a(2284),O=a(312),p=a(3896),F=a(1885),T=a(6893),M=a(6706),V={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,D.T)(ve=>ve._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var ue=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(ue)},get $(){var ve=this.primary;return this.collection.eventBulks$.pipe((0,d.p)(Oe=>!Oe.isLocal),(0,D.T)(Oe=>Oe.events.find(nt=>nt.documentId===ve)),(0,d.p)(Oe=>!!Oe),(0,D.T)(Oe=>(0,O.vk)((0,I.ZN)(Oe))),(0,P.Z)(this.collection._docCache.getLatestDocumentData(ve)),(0,r.F)((Oe,nt)=>Oe._rev===nt._rev),(0,D.T)(Oe=>this.collection._docCache.getCachedRxDocument(Oe)),(0,$.t)(I.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(ue){if(p.h.isDevMode()){if(ue.includes(".item."))throw(0,A.Br)("DOC1",{path:ue});if(ue===this.primaryPath)throw(0,A.Br)("DOC2");if(this.collection.schema.finalFields.includes(ue))throw(0,A.Br)("DOC3",{path:ue});if(!(0,F.nT)(this.collection.schema.jsonSchema,ue))throw(0,A.Br)("DOC4",{path:ue})}return this.$.pipe((0,D.T)(Oe=>(0,b.UU)(Oe,ue)),(0,r.F)())},get$$(ue){var ve=this.get$(ue);return this.collection.database.getReactivityFactory().fromObservable(ve,this.getLatest().get(ue),this.collection.database)},populate(ue){var ve=(0,F.nT)(this.collection.schema.jsonSchema,ue),Oe=this.get(ue);if(!Oe)return S.$A;if(!ve)throw(0,A.Br)("DOC5",{path:ue});if(!ve.ref)throw(0,A.Br)("DOC6",{path:ue,schemaObj:ve});var nt=this.collection.database.collections[ve.ref];if(!nt)throw(0,A.Br)("DOC7",{ref:ve.ref,path:ue,schemaObj:ve});return"array"===ve.type?nt.findByIds(Oe).exec().then(ge=>{var xe=ge.values();return Array.from(xe)}):nt.findOne(Oe).exec()},get(ue){return ne(this,ue)},toJSON(ue=!1){if(ue)return p.h.deepFreezeWhenDevMode(this._data);var ve=(0,W.FD)(this._data);return delete ve._rev,delete ve._attachments,delete ve._deleted,delete ve._meta,p.h.deepFreezeWhenDevMode(ve)},toMutableJSON(ue=!1){return(0,W.o8)(this.toJSON(ue))},update(ue){throw(0,L.u)("update")},incrementalUpdate(ue){throw(0,L.u)("update")},updateCRDT(ue){throw(0,L.u)("crdt")},putAttachment(){throw(0,L.u)("attachments")},putAttachmentBase64(){throw(0,L.u)("attachments")},getAttachment(){throw(0,L.u)("attachments")},allAttachments(){throw(0,L.u)("attachments")},get allAttachments$(){throw(0,L.u)("attachments")},modify(ue,ve){var Oe=this;return(0,u.A)(function*(){var nt=Oe._data,ge=yield(0,M.Hl)(ue)(nt);return Oe._saveData(ge,nt)})()},incrementalModify(ue,ve){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,M.Hl)(ue)).then(Oe=>this.collection._docCache.getCachedRxDocument(Oe))},patch(ue){var ve=this._data,Oe=(0,W.o8)(ve);return Object.entries(ue).forEach(([nt,ge])=>{Oe[nt]=ge}),this._saveData(Oe,ve)},incrementalPatch(ue){return this.incrementalModify(ve=>(Object.entries(ue).forEach(([Oe,nt])=>{ve[Oe]=nt}),ve))},_saveData(ue,ve){var Oe=this;return(0,u.A)(function*(){if(ue=(0,W.FD)(ue),Oe._data._deleted)throw(0,A.Br)("DOC11",{id:Oe.primary,document:Oe});yield Q(Oe.collection,ue,ve);var nt=[{previous:ve,document:ue}],ge=yield Oe.collection.storageInstance.bulkWrite(nt,"rx-document-save-data");return(0,T.WX)(Oe.collection,Oe.primary,ue,ge.error[0]),yield Oe.collection._runHooks("post","save",ue,Oe),Oe.collection._docCache.getCachedRxDocument((0,T.YN)(Oe.collection.schema.primaryPath,nt,ge)[0])})()},remove(){var ue=this;return(0,u.A)(function*(){if(ue.deleted)return Promise.reject((0,A.Br)("DOC13",{document:ue,id:ue.primary}));var ve=yield ue.collection.bulkRemove([ue]);return ve.error.length>0&&(0,T.WX)(ue.collection,ue.primary,ue._data,ve.error[0]),ve.success[0]})()},incrementalRemove(){var ue=this;return this.incrementalModify(function(){var ve=(0,u.A)(function*(Oe){return yield ue.collection._runHooks("pre","remove",Oe,ue),Oe._deleted=!0,Oe});return function(Oe){return ve.apply(this,arguments)}}()).then(function(){var ve=(0,u.A)(function*(Oe){return yield ue.collection._runHooks("post","remove",Oe._data,Oe),Oe});return function(Oe){return ve.apply(this,arguments)}}())},close(){throw(0,A.Br)("DOC14")}};function B(ue=V){var ve=function(nt,ge){this.collection=nt,this._data=ge,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return ve.prototype=ue,ve}function q(ue,ve,Oe){var nt=new ue(ve,Oe);return(0,U.Xi)("createRxDocument",nt),nt}function Q(ue,ve,Oe){return ve._meta=Object.assign({},Oe._meta,ve._meta),p.h.isDevMode()&&ue.schema.validateChange(Oe,ve),ue._runHooks("pre","save",ve,Oe)}function ne(ue,ve){return(0,C.q)(ue._propertyCache,ve,()=>{var Oe=(0,b.UU)(ue._data,ve);return"object"!=typeof Oe||null===Oe||Array.isArray(Oe)?p.h.deepFreezeWhenDevMode(Oe):new Proxy((0,W.FD)(Oe),{get(ge,xe){if("string"!=typeof xe)return ge[xe];var He=xe.charAt(xe.length-1);if("$"===He){if(xe.endsWith("$$")){var et=xe.slice(0,-2);return ue.get$$((0,_.L$)(ve+"."+et))}var Ke=xe.slice(0,-1);return ue.get$((0,_.L$)(ve+"."+Ke))}if("_"===He){var Xe=xe.slice(0,-1);return ue.populate((0,_.L$)(ve+"."+Xe))}var Ie=ge[xe];return"number"==typeof Ie||"string"==typeof Ie||"boolean"==typeof Ie?Ie:ne(ue,(0,_.L$)(ve+"."+xe))}})})}},5924(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.extendSubschemaMode=E.extendSubschemaData=E.getSubschema=void 0;const u=a(5432),r=a(7868);E.getSubschema=function d(P,{keyword:S,schemaProp:_,schema:b,schemaPath:W,errSchemaPath:C,topSchemaRef:L}){if(void 0!==S&&void 0!==b)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==S){const I=P.schema[S];return void 0===_?{schema:I,schemaPath:u._`${P.schemaPath}${(0,u.getProperty)(S)}`,errSchemaPath:`${P.errSchemaPath}/${S}`}:{schema:I[_],schemaPath:u._`${P.schemaPath}${(0,u.getProperty)(S)}${(0,u.getProperty)(_)}`,errSchemaPath:`${P.errSchemaPath}/${S}/${(0,r.escapeFragment)(_)}`}}if(void 0!==b){if(void 0===W||void 0===C||void 0===L)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:b,schemaPath:W,topSchemaRef:L,errSchemaPath:C}}throw new Error('either "keyword" or "schema" must be passed')},E.extendSubschemaData=function D(P,S,{dataProp:_,dataPropType:b,data:W,dataTypes:C,propertyName:L}){if(void 0!==W&&void 0!==_)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:I}=S;if(void 0!==_){const{errorPath:U,dataPathArr:O,opts:p}=S;A(I.let("data",u._`${S.data}${(0,u.getProperty)(_)}`,!0)),P.errorPath=u.str`${U}${(0,r.getErrorPath)(_,b,p.jsPropertySyntax)}`,P.parentDataProperty=u._`${_}`,P.dataPathArr=[...O,P.parentDataProperty]}function A(U){P.data=U,P.dataLevel=S.dataLevel+1,P.dataTypes=[],S.definedProperties=new Set,P.parentData=S.data,P.dataNames=[...S.dataNames,U]}void 0!==W&&(A(W instanceof u.Name?W:I.let("data",W,!0)),void 0!==L&&(P.propertyName=L)),C&&(P.dataTypes=C)},E.extendSubschemaMode=function $(P,{jtdDiscriminator:S,jtdMetadata:_,compositeRule:b,createErrors:W,allErrors:C}){void 0!==b&&(P.compositeRule=b),void 0!==W&&(P.createErrors=W),void 0!==C&&(P.allErrors=C),P.jtdDiscriminator=S,P.jtdMetadata=_}},5964(ct,E,a){"use strict";a.d(E,{p:()=>d});var u=a(9974),r=a(4360);function d(D,$){return(0,u.N)((P,S)=>{let _=0;P.subscribe((0,r._)(S,b=>D.call($,b,_++)&&S.next(b)))})}},5984(ct,E,a){"use strict";a.d(E,{Q:()=>P,Sm:()=>b,aZ:()=>W,hb:()=>S,kB:()=>_,om:()=>D});var u=a(375),r=a(1413),d=a(6494);function D(U,O){return U?O?U.endsWith("/")?O.startsWith("/")?U+O.slice(1):U+O:O.startsWith("/")?U+O:`${U}/${O}`:U:O}function $(U){const O=U.search(/#|\?|$/);return"/"===U[O-1]?U.slice(0,O-1)+U.slice(O):U}function P(U){return U&&"?"!==U[0]?`?${U}`:U}let S=(()=>{class U{historyGo(p){throw new Error("")}static \u0275fac=function(F){return new(F||U)};static \u0275prov=u.jDH({token:U,factory:()=>(0,u.WQX)(b),providedIn:"root"})}return U})();const _=new u.nKC("");let b=(()=>{class U extends S{_platformLocation;_baseHref;_removeListenerFns=[];constructor(p,F){super(),this._platformLocation=p,this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,u.WQX)(u.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(p){this._removeListenerFns.push(this._platformLocation.onPopState(p),this._platformLocation.onHashChange(p))}getBaseHref(){return this._baseHref}prepareExternalUrl(p){return D(this._baseHref,p)}path(p=!1){const F=this._platformLocation.pathname+P(this._platformLocation.search),T=this._platformLocation.hash;return T&&p?`${F}${T}`:F}pushState(p,F,T,M){const V=this.prepareExternalUrl(T+P(M));this._platformLocation.pushState(p,F,V)}replaceState(p,F,T,M){const V=this.prepareExternalUrl(T+P(M));this._platformLocation.replaceState(p,F,V)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(p=0){this._platformLocation.historyGo?.(p)}static \u0275fac=function(F){return new(F||U)(u.KVO(d.Vw),u.KVO(_,8))};static \u0275prov=u.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),W=(()=>{class U{_subject=new r.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(p){this._locationStrategy=p;const F=this._locationStrategy.getBaseHref();this._basePath=function A(U){if(new RegExp("^(https?:)?//").test(U)){const[,p]=U.split(/\/\/[^\/]+/);return p}return U}($(I(F))),this._locationStrategy.onPopState(T=>{this._subject.next({url:this.path(!0),pop:!0,state:T.state,type:T.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(p=!1){return this.normalize(this._locationStrategy.path(p))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(p,F=""){return this.path()==this.normalize(p+P(F))}normalize(p){return U.stripTrailingSlash(function L(U,O){if(!U||!O.startsWith(U))return O;const p=O.substring(U.length);return""===p||["/",";","?","#"].includes(p[0])?p:O}(this._basePath,I(p)))}prepareExternalUrl(p){return p&&"/"!==p[0]&&(p="/"+p),this._locationStrategy.prepareExternalUrl(p)}go(p,F="",T=null){this._locationStrategy.pushState(T,"",p,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(p+P(F)),T)}replaceState(p,F="",T=null){this._locationStrategy.replaceState(T,"",p,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(p+P(F)),T)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(p=0){this._locationStrategy.historyGo?.(p)}onUrlChange(p){return this._urlChangeListeners.push(p),this._urlChangeSubscription??=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)}),()=>{const F=this._urlChangeListeners.indexOf(p);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(p="",F){this._urlChangeListeners.forEach(T=>T(p,F))}subscribe(p,F,T){return this._subject.subscribe({next:p,error:F??void 0,complete:T??void 0})}static normalizeQueryParams=P;static joinWithSlash=D;static stripTrailingSlash=$;static \u0275fac=function(F){return new(F||U)(u.KVO(S))};static \u0275prov=u.jDH({token:U,factory:()=>function C(){return new W((0,u.KVO)(S))}(),providedIn:"root"})}return U})();function I(U){return U.replace(/\/index.html$/,"")}},6052(ct,E,a){"use strict";a.d(E,{o:()=>u});var u="16.21.1"},6066(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868);E.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:$,max:P}})=>void 0===P?u.str`must contain at least ${$} valid item(s)`:u.str`must contain at least ${$} and no more than ${P} valid item(s)`,params:({params:{min:$,max:P}})=>void 0===P?u._`{minContains: ${$}}`:u._`{minContains: ${$}, maxContains: ${P}}`},code($){const{gen:P,schema:S,parentSchema:_,data:b,it:W}=$;let C,L;const{minContains:I,maxContains:A}=_;W.opts.next?(C=void 0===I?1:I,L=A):C=1;const U=P.const("len",u._`${b}.length`);if($.setParams({min:C,max:L}),void 0===L&&0===C)return void(0,r.checkStrictMode)(W,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==L&&C>L)return(0,r.checkStrictMode)(W,'"minContains" > "maxContains" is always invalid'),void $.fail();if((0,r.alwaysValidSchema)(W,S)){let M=u._`${U} >= ${C}`;return void 0!==L&&(M=u._`${M} && ${U} <= ${L}`),void $.pass(M)}W.items=!0;const O=P.name("valid");function p(){const M=P.name("_valid"),V=P.let("count",0);F(M,()=>P.if(M,()=>function T(M){P.code(u._`${M}++`),void 0===L?P.if(u._`${M} >= ${C}`,()=>P.assign(O,!0).break()):(P.if(u._`${M} > ${L}`,()=>P.assign(O,!1).break()),1===C?P.assign(O,!0):P.if(u._`${M} >= ${C}`,()=>P.assign(O,!0)))}(V)))}function F(M,V){P.forRange("i",0,U,B=>{$.subschema({keyword:"contains",dataProp:B,dataPropType:r.Type.Num,compositeRule:!0},M),V()})}void 0===L&&1===C?F(O,()=>P.if(O,()=>P.break())):0===C?(P.let(O,!0),void 0!==L&&P.if(u._`${b}.length > 0`,p)):(P.let(O,!1),p()),$.result(O,()=>$.reset())}}},6093(ct,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getRules=E.isJSONType=void 0;const u=new Set(["string","number","integer","boolean","null","object","array"]);E.isJSONType=function r(D){return"string"==typeof D&&u.has(D)},E.getRules=function d(){const D={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...D,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},D.number,D.string,D.array,D.object],post:{rules:[]},all:{},keywords:{}}}},6094(ct,E,a){"use strict";a.d(E,{$d:()=>me});var u=a(467),r=a(2060),d=a(9172),D=a(1397),$=a(5964),P=a(6354),S=a(4740),_=a(1885),b=a(720),W=a(3896),C=new WeakMap,L=new WeakMap;function I(j){var te=C.get(j);if(!te)throw(0,S.Br)("LD8",{database:(j.database?j.database:j).name,collection:j.database?j.name:""});return te}function A(j,te,Me,pe,ae,Ne){return te.createStorageInstance({databaseInstanceToken:j,databaseName:Me,collectionName:F(pe),schema:T,options:ae,multiInstance:Ne,devMode:W.h.isDevMode()})}function U(j){var te=C.get(j);if(te)return C.delete(j),te.then(Me=>Me.storageInstance.close())}function O(j,te,Me){return p.apply(this,arguments)}function p(){return(p=(0,u.A)(function*(j,te,Me){var pe=(0,b.zs)(10),ae=yield A(pe,j,te,Me,{},!1);yield ae.remove()})).apply(this,arguments)}function F(j){return"plugin-local-documents-"+j}var T=(0,_.Ud)({title:"RxLocalDocument",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:128},data:{type:"object",additionalProperties:!0}},required:["id","data"]}),M=a(6893);function V(j,te){return B.apply(this,arguments)}function B(){return(B=(0,u.A)(function*(j,te){var Me=yield I(this),pe={id:j,data:te,_deleted:!1,_meta:(0,r.o4)(),_rev:(0,r.Fq)(),_attachments:{}};return(0,M.mQ)(Me.storageInstance,{document:pe},"local-document-insert").then(ae=>Me.docCache.getCachedRxDocument(ae))})).apply(this,arguments)}function q(j,te){return this.getLocal(j).then(Me=>Me?Me.incrementalModify(()=>te):this.insertLocal(j,te))}function G(j){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.A)(function*(j){var te=yield I(this),Me=te.docCache,pe=Me.getLatestDocumentDataIfExists(j);return pe?Promise.resolve(Me.getCachedRxDocument(pe)):(0,M.O5)(te.storageInstance,j).then(ae=>ae?te.docCache.getCachedRxDocument(ae):null)})).apply(this,arguments)}function ne(j){var te=this;return this.$.pipe((0,d.Z)(null),(0,D.Z)(function(){var Me=(0,u.A)(function*(pe){return pe?{changeEvent:pe}:{doc:yield te.getLocal(j)}});return function(pe){return Me.apply(this,arguments)}}()),(0,D.Z)(function(){var Me=(0,u.A)(function*(pe){if(pe.changeEvent){var ae=pe.changeEvent;return ae.isLocal&&ae.documentId===j?{use:!0,doc:yield te.getLocal(j)}:{use:!1}}return{use:!0,doc:pe.doc}});return function(pe){return Me.apply(this,arguments)}}()),(0,$.p)(Me=>Me.use),(0,P.T)(Me=>Me.doc))}var ue=a(7387),ve=a(3294),Oe=a(9568),nt=a(312),ge=a(5908),xe=a(9403),He=a(8663),et=a(1744),Ke=a(6434),Xe=a(1277),Ie=a(9825),se=a(6706),Y=function(j){function te(Me,pe,ae){var Ne;return(Ne=j.call(this,null,pe)||this).id=Me,Ne.parent=ae,Ne}return(0,ue.A)(te,j),te}((0,ge.cM)()),_e={get isLocal(){return!0},get allAttachments$(){throw(0,S.Br)("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){var te=(0,xe.m)(L,this.parent),Me=this.primary;return this.parent.eventBulks$.pipe((0,$.p)(pe=>!!pe.isLocal),(0,P.T)(pe=>pe.events.find(ae=>ae.documentId===Me)),(0,$.p)(pe=>!!pe),(0,P.T)(pe=>(0,nt.vk)((0,He.ZN)(pe))),(0,d.Z)(te.docCache.getLatestDocumentData(this.primary)),(0,ve.F)((pe,ae)=>pe._rev===ae._rev),(0,P.T)(pe=>te.docCache.getCachedRxDocument(pe)),(0,Oe.t)(He.bz))},get $$(){var j=this,te=De(j);return te.getReactivityFactory().fromObservable(j.$,j.getLatest()._data,te)},get deleted$$(){var j=this,te=De(j);return te.getReactivityFactory().fromObservable(j.deleted$,j.getLatest().deleted,te)},getLatest(){var j=(0,xe.m)(L,this.parent),te=j.docCache.getLatestDocumentData(this.primary);return j.docCache.getCachedRxDocument(te)},get(j){if(j="data."+j,this._data){if("string"!=typeof j)throw(0,S.JX)("LD2",{objPath:j});var te=(0,et.UU)(this._data,j);return W.h.deepFreezeWhenDevMode(te)}},get$(j){if(j="data."+j,W.h.isDevMode()){if(j.includes(".item."))throw(0,S.Br)("LD3",{objPath:j});if(j===this.primaryPath)throw(0,S.Br)("LD4")}return this.$.pipe((0,P.T)(te=>te._data),(0,P.T)(te=>(0,et.UU)(te,j)),(0,ve.F)())},get$$(j){var te=De(this);return te.getReactivityFactory().fromObservable(this.get$(j),this.getLatest().get(j),te)},incrementalModify(j){var te=this;return(0,u.A)(function*(){var Me=yield I(te.parent);return Me.incrementalWriteQueue.addWrite(te._data,function(){var pe=(0,u.A)(function*(ae){return ae.data=yield j(ae.data,te),ae});return function(ae){return pe.apply(this,arguments)}}()).then(pe=>Me.docCache.getCachedRxDocument(pe))})()},incrementalPatch(j){return this.incrementalModify(te=>(Object.entries(j).forEach(([Me,pe])=>{te[Me]=pe}),te))},_saveData(j){var te=this;return(0,u.A)(function*(){var Me=yield I(te.parent),pe=te._data;j.id=te.id;var ae=[{previous:pe,document:j}];return Me.storageInstance.bulkWrite(ae,"local-document-save-data").then(Ne=>{if(Ne.error[0])throw Ne.error[0];var Ce=(0,M.YN)(te.collection.schema.primaryPath,ae,Ne)[0];(j=(0,Ke.FD)(j))._rev=Ce._rev})})()},remove(){var j=this;return(0,u.A)(function*(){var te=yield I(j.parent),Me=(0,Ke.FD)(j._data);return Me._deleted=!0,(0,M.mQ)(te.storageInstance,{previous:j._data,document:Me},"local-document-remove").then(pe=>te.docCache.getCachedRxDocument(pe))})()}},Le=!1;function De(j){var te=j.parent;return(0,Xe.U0)(te)?te:te.database}function Te(j){var te=j.database?j.database:j,Me=j.database?j.name:"",pe=(0,u.A)(function*(){var ae=yield A(te.token,te.storage,te.name,Me,te.instanceCreationOptions,te.multiInstance);ae=(0,M.AM)(te,ae,T);var Ne=new Ie.K("id",te.eventBulks$.pipe((0,$.p)(J=>{var ke=!1;return(""===Me&&!J.collectionName||""!==Me&&J.collectionName===Me)&&(ke=!0),ke&&J.isLocal}),(0,P.T)(J=>J.events)),J=>function K(j,te){(()=>{if(!Le){Le=!0;var j=ge.ky;Object.getOwnPropertyNames(j).forEach(pe=>{if(!Object.getOwnPropertyDescriptor(_e,pe)){var Ne=Object.getOwnPropertyDescriptor(j,pe);Object.defineProperty(_e,pe,Ne)}}),["populate","update","putAttachment","putAttachmentBase64","getAttachment","allAttachments"].forEach(pe=>_e[pe]=(pe=>()=>{throw(0,S.Br)("LD6",{functionName:pe})})(pe))}})();var Me=new Y(j.id,j,te);return Object.setPrototypeOf(Me,_e),Me.prototype=_e,Me}(J,j)),Ce=new se.N6(ae,"id",()=>{},()=>{}),Ze=yield te.storageToken,ot=ae.changeStream().subscribe(J=>{for(var ke=new Array(J.events.length),ze=J.events,Ge=j.database?j.name:void 0,Re=0;Re<ze.length;Re++){var Dt=ze[Re];ke[Re]={documentId:Dt.documentId,collectionName:Ge,isLocal:!0,operation:Dt.operation,documentData:W.h.deepFreezeWhenDevMode(Dt.documentData),previousDocumentData:W.h.deepFreezeWhenDevMode(Dt.previousDocumentData)}}te.$emit({id:J.id,isLocal:!0,internal:!1,collectionName:j.database?j.name:void 0,storageToken:Ze,events:ke,databaseToken:te.token,checkpoint:J.checkpoint,context:J.context})});j._subs.push(ot);var k={database:te,parent:j,storageInstance:ae,docCache:Ne,incrementalWriteQueue:Ce};return L.set(j,k),k})();C.set(j,pe)}var me={name:"local-documents",rxdb:!0,prototypes:{RxCollection:j=>{j.insertLocal=V,j.upsertLocal=q,j.getLocal=G,j.getLocal$=ne},RxDatabase:j=>{j.insertLocal=V,j.upsertLocal=q,j.getLocal=G,j.getLocal$=ne}},hooks:{createRxDatabase:{before:j=>{j.creator.localDocuments&&Te(j.database)}},createRxCollection:{before:j=>{j.creator.localDocuments&&Te(j.collection)}},preCloseRxDatabase:{after:j=>U(j)},postCloseRxCollection:{after:j=>U(j)},postRemoveRxDatabase:{after:j=>O(j.storage,j.databaseName,"")},postRemoveRxCollection:{after:j=>O(j.storage,j.databaseName,j.collectionName)}},overwritable:{}}},6129(ct,E,a){"use strict";a.d(E,{U:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},6161(ct,E,a){"use strict";a.d(E,{a6:()=>d,q3:()=>$,En:()=>P,sU:()=>D});var u=a(9820),r=a(4671);const d=(S,_,b)=>{(0,r.vA)((0,r.cy)(_),"Invalid expression: $and expects value to be an Array.");const W=_.map(C=>new u.X(C,b));return C=>W.every(L=>L.test(C))},D=(S,_,b)=>{(0,r.vA)((0,r.cy)(_),"Invalid expression. $or expects value to be an Array");const W=_.map(C=>new u.X(C,b));return C=>W.some(L=>L.test(C))},$=(S,_,b)=>{(0,r.vA)((0,r.cy)(_),"Invalid expression. $nor expects value to be an array.");const W=D("$or",_,b);return C=>!W(C)},P=(S,_,b)=>{const W={};W[S]=(0,r.S8)(_);const C=new u.X(W,b);return L=>!C.test(L)}},6259(ct,E,a){"use strict";a.d(E,{Cx:()=>C,XA:()=>$,n9:()=>I});var u=a(5520),r=a(9403),d=a(4552),D=function(){function A(){this._map=new Map}return A.prototype.getByQuery=function(p){var F=p.toString();return(0,r.q)(this._map,F,()=>p)},A}();function $(){return new D}function P(A,U){U.uncached=!0;var O=U.toString();A._map.delete(O)}function S(A){return A.refCount$.observers.length}var C=(O,p)=>{if(!(p._map.size<100)){var F=(0,d.t)()-3e4,T=[],M=Array.from(p._map.values());for(var V of M)if(!(S(V)>0)){if(0===V._lastEnsureEqual&&V._creationTime<F){P(p,V);continue}T.push(V)}var B=T.length-100;B<=0||T.sort((Q,ne)=>Q._lastEnsureEqual-ne._lastEnsureEqual).slice(0,B).forEach(Q=>P(p,Q))}},L=new WeakSet;function I(A){L.has(A)||(L.add(A),(0,u.dY)().then(()=>(0,u.Ve)(200)).then(()=>{A.closed||A.cacheReplacementPolicy(A,A._queryCache),L.delete(A)}))}},6281(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(3260),r=a(1680);E.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",u.default,r.default]},6354(ct,E,a){"use strict";a.d(E,{T:()=>d});var u=a(9974),r=a(4360);function d(D,$){return(0,u.N)((P,S)=>{let _=0;P.subscribe((0,r._)(S,b=>{S.next(D.call($,b,_++))}))})}},6362(ct,E,a){"use strict";a.d(E,{Lr:()=>Fs,Xw:()=>ns,_V:()=>Ls,Ib:()=>Ko,dx:()=>rs});var u=a(467),r=a(997),d=a(1885),D=a(6434),$=a(7176),P=a(4671),S=a(4740),_=a(7624),b=a(9820);a(4337),Object.freeze({R5:[10,16,25,40,63],R10:[100,125,160,200,250,315,400,500,630,800],R20:[100,112,125,140,160,180,200,224,250,280,315,355,400,450,500,560,630,710,800,900],R40:[100,106,112,118,125,132,140,150,160,170,180,190,200,212,224,236,250,265,280,300,315,355,375,400,425,450,475,500,530,560,600,630,670,710,750,800,850,900,950],R80:[103,109,115,122,128,136,145,155,165,175,185,195,206,218,230,243,258,272,290,307,325,345,365,387,412,437,462,487,515,545,575,615,650,690,730,775,825,875,925,975],"1-2-5":[10,20,50],E6:[10,15,22,33,47,68],E12:[10,12,15,18,22,27,33,39,47,56,68,82],E24:[10,11,12,13,15,16,18,20,22,24,27,30,33,36,39,43,47,51,56,62,68,75,82,91],E48:[100,105,110,115,121,127,133,140,147,154,162,169,178,187,196,205,215,226,237,249,261,274,287,301,316,332,348,365,383,402,422,442,464,487,511,536,562,590,619,649,681,715,750,787,825,866,909,953],E96:[100,102,105,107,110,113,115,118,121,124,127,130,133,137,140,143,147,150,154,158,162,165,169,174,178,182,187,191,196,200,205,210,215,221,226,232,237,243,249,255,261,267,274,280,287,294,301,309,316,324,332,340,348,357,365,374,383,392,402,412,422,432,442,453,464,475,487,499,511,523,536,549,562,576,590,604,619,634,649,665,681,698,715,732,750,768,787,806,825,845,866,887,909,931,953,976],E192:[100,101,102,104,105,106,107,109,110,111,113,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,137,138,140,142,143,145,147,149,150,152,154,156,158,160,162,164,165,167,169,172,174,176,178,180,182,184,187,189,191,193,196,198,200,203,205,208,210,213,215,218,221,223,226,229,232,234,237,240,243,246,249,252,255,258,261,264,267,271,274,277,280,284,287,291,294,298,301,305,309,312,316,320,324,328,332,336,340,344,348,352,357,361,365,370,374,379,383,388,392,397,402,407,412,417,422,427,432,437,442,448,453,459,464,470,475,481,487,493,499,505,511,517,523,530,536,542,549,556,562,569,576,583,590,597,604,612,619,626,634,642,649,657,665,673,681,690,698,706,715,723,732,741,750,759,768,777,787,796,806,816,825,835,845,856,866,876,887,898,909,920,931,942,953,965,976,988]}),new Set(["monday","mon","tuesday","tue","wednesday","wed","thursday","thu","friday","fri","saturday","sat","sunday","sun"]),Object.freeze({mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:7}),Object.freeze({"%Y":{name:"year",padding:4,re:/([0-9]{4})/},"%G":{name:"year",padding:4,re:/([0-9]{4})/},"%m":{name:"month",padding:2,re:/(0[1-9]|1[012])/},"%d":{name:"day",padding:2,re:/(0[1-9]|[12][0-9]|3[01])/},"%H":{name:"hour",padding:2,re:/([01][0-9]|2[0-3])/},"%M":{name:"minute",padding:2,re:/([0-5][0-9])/},"%S":{name:"second",padding:2,re:/([0-5][0-9]|60)/},"%L":{name:"millisecond",padding:3,re:/([0-9]{3})/},"%u":{name:"weekday",padding:1,re:/([1-7])/},"%U":{name:"week",padding:2,re:/([1-4][0-9]?|5[0-3]?)/},"%V":{name:"isoWeek",padding:2,re:/([1-4][0-9]?|5[0-3]?)/},"%z":{name:"timezone",padding:2,re:/(([+-][01][0-9]|2[0-3]):?([0-5][0-9])?)/},"%Z":{name:"minuteOffset",padding:3,re:/([+-][0-9]{3})/}});var ze=a(722);Object.freeze({});var $t=a(570);(0,$t.fw)($t.GU);const nn=(X,Z)=>(le,z,Ae)=>{(0,P.vA)((0,P.cy)(z),`${X}: expression must be an array.`);const Qe=(0,_.px)(le,z,null,Ae);return Qe.some(P.gD)?null:((0,P.vA)(Qe.every(P.Et),`${X}: expression must evalue to array of numbers.`),Z(Qe))};nn("$bitAnd",X=>X.reduce((Z,le)=>Z&le,-1)),nn("$bitOr",X=>X.reduce((Z,le)=>Z|le,0)),nn("$bitXor",X=>X.reduce((Z,le)=>Z^le,0)),a(3336),a(2489);const vi=(X,Z)=>{const le={};return X.split("").forEach((z,Ae)=>le[z]=Z*(Ae+1)),le};vi("ABCDEFGHIKLM",1),vi("NOPQRSTUVWXY",-1);const H={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function oe(X,Z=H){const le=Object.assign({},H,Z),z=new Set(Object.keys(le));return(Ae,Qe,bt)=>{const Pt=(0,_.px)(Ae,Qe,null,bt);if(z.has(`${Pt}`)){const St=le[`${Pt}`];if(St instanceof Error)throw new P.d8(`cannot apply $${X.name} to -inf, value must in (-inf,inf)`);return St}return X(Pt)}}oe(Math.acos,{Infinity:1/0,0:new Error}),oe(Math.acosh,{Infinity:1/0,0:new Error}),oe(Math.asin),oe(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),oe(Math.atan),oe(Math.atanh,{1:1/0,"-1":-1/0}),oe(Math.cos),oe(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const yt=Math.PI/180,Nt=(oe(X=>X*yt,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);oe(X=>X*Nt,{Infinity:1/0,"-Infinity":-1/0}),oe(Math.sin),oe(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),oe(Math.tan),Error;var qo=a(9377),Po=a(6161),Vi=a(131),No=a(8542),xo=a(738),Oo=a(8982),Lo=!1;function Ls(X,Z){var le=(0,d.xQ)(X.primaryKey);Z=(0,D.FD)(Z);var z=(0,D.o8)(Z);if("number"!=typeof z.skip&&(z.skip=0),z.selector?(z.selector=z.selector,Object.entries(z.selector).forEach(([yn,Dn])=>{("object"!=typeof Dn||null===Dn)&&(z.selector[yn]={$eq:Dn})})):z.selector={},z.index){var Ae=(0,$.$r)(z.index);Ae.includes(le)||Ae.push(le),z.index=Ae}if(z.sort)z.sort.find(yn=>(0,D.Ln)(yn)===le)||(z.sort=z.sort.slice(0),z.sort.push({[le]:"asc"}));else if(z.index)z.sort=z.index.map(yn=>({[yn]:"asc"}));else{if(X.indexes){var Qe=new Set;Object.entries(z.selector).forEach(([yn,Dn])=>{("object"!=typeof Dn||null===Dn||Object.keys(Dn).find(ur=>r.Cf.has(ur)))&&Qe.add(yn)});var Pt,bt=-1;X.indexes.forEach(yn=>{var Dn=(0,$.k_)(yn)?yn:[yn],Bn=Dn.findIndex(ur=>!Qe.has(ur));Bn>0&&Bn>bt&&(bt=Bn,Pt=Dn)}),Pt&&(z.sort=Pt.map(yn=>({[yn]:"asc"})))}if(!z.sort)if(X.indexes&&X.indexes.length>0){var St=X.indexes[0],cn=(0,$.k_)(St)?St:[St];z.sort=cn.map(yn=>({[yn]:"asc"}))}else z.sort=[{[le]:"asc"}]}return z}function ns(X,Z){if(!Z.sort)throw(0,S.Br)("SNH",{query:Z});var le=[];return Z.sort.forEach(Ae=>{var Qe=Object.keys(Ae)[0],bt=Object.values(Ae)[0];le.push({key:Qe,direction:bt,getValueFn:(0,D.SQ)(Qe)})}),(Ae,Qe)=>{for(var bt=0;bt<le.length;++bt){var Pt=le[bt],St=Pt.getValueFn(Ae),cn=Pt.getValueFn(Qe);if(St!==cn)return"asc"===Pt.direction?(0,P.UD)(St,cn):(0,P.UD)(cn,St)}}}function Fs(X,Z){if(!Z.sort)throw(0,S.Br)("SNH",{query:Z});var le=function jo(X){return Lo||((0,_.DZ)("pipeline",{$sort:ze.x,$project:qo.C}),(0,_.DZ)("query",{$and:Po.a6,$eq:Vi.XV,$elemMatch:xo.Jy,$exists:Oo.P,$gt:Vi.MR,$gte:Vi.fy,$in:Vi.oZ,$lt:Vi.NV,$lte:Vi.Q_,$ne:Vi.C5,$nin:Vi.GU,$mod:No.Pp,$nor:Po.q3,$not:Po.En,$or:Po.sU,$regex:No.WP,$size:xo.Ig,$type:Oo.T}),Lo=!0),new b.X(X)}(Z.selector);return Ae=>le.test(Ae)}function rs(X,Z){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.A)(function*(X,Z){var le=yield X.exec();return le?Array.isArray(le)?Promise.all(le.map(Ae=>Z(Ae))):le instanceof Map?Promise.all([...le.values()].map(Ae=>Z(Ae))):yield Z(le):null})).apply(this,arguments)}function Ko(X,Z){if(!Z.sort)throw(0,S.Br)("SNH",{query:Z});return{query:Z,queryPlan:(0,r.sk)(X,Z)}}},6365(ct,E,a){"use strict";a.d(E,{U:()=>d});var u=a(1397),r=a(3669);function d(D=1/0){return(0,u.Z)(r.D,D)}},6434(ct,E,a){"use strict";function u(A){return Object.freeze(A),Object.getOwnPropertyNames(A).forEach(function(U){Object.prototype.hasOwnProperty.call(A,U)&&null!==A[U]&&("object"==typeof A[U]||"function"==typeof A[U])&&!Object.isFrozen(A[U])&&u(A[U])}),A}function r(A){var U=A.split("."),O=U.length;return 1===O?p=>p[A]:p=>{for(var F=p,T=0;T<O;++T)if(typeof(F=F[U[T]])>"u")return F;return F}}function D(A){var U={};for(var O in A)if(Object.prototype.hasOwnProperty.call(A,O))if("object"==typeof A[O]){var p=D(A[O]);for(var F in p)Object.prototype.hasOwnProperty.call(p,F)&&(U[O+"."+F]=p[F])}else U[O]=A[O];return U}function $(A){return Object.assign({},A)}function P(A){return Object.keys(A)[0]}function _(A,U=!1){if(!A)return A;if(!U&&Array.isArray(A))return A.sort((p,F)=>"string"==typeof p&&"string"==typeof F?p.localeCompare(F):"object"==typeof p?1:-1).map(p=>_(p,U));if("object"==typeof A&&!Array.isArray(A)){var O={};return Object.keys(A).sort((p,F)=>p.localeCompare(F)).forEach(p=>{O[p]=_(A[p],U)}),O}return A}a.d(E,{FD:()=>$,Ln:()=>P,Ns:()=>C,SQ:()=>r,YO:()=>D,hS:()=>I,mf:()=>_,o8:()=>W,ol:()=>u});var W=function b(A){if(!A||null===A||"object"!=typeof A)return A;if(Array.isArray(A)){for(var U=new Array(A.length),O=U.length;O--;)U[O]=b(A[O]);return U}var p={};for(var F in A)p[F]=b(A[F]);return p};function C(A,U,O){return Object.defineProperty(A,U,{get:function(){return O}}),O}function I(A,U=""){if("object"!=typeof A||null===A)return!1;for(var O of Object.keys(A)){var p=A[O],F=U?U+"."+O:O;if(typeof p>"u")return F;if("object"==typeof p&&null!==p){var T=I(p,F);if(T)return T}}return!1}},6450(ct,E,a){"use strict";a.d(E,{I:()=>D});var u=a(6354);const{isArray:r}=Array;function D($){return(0,u.T)(P=>function d($,P){return r(P)?$(...P):$(P)}($,P))}},6486(ct,E,a){"use strict";a.d(E,{uQ:()=>ot});var I,U,T,u=a(467),r=a(1311),d={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",UT8:"crypto.subtle.digest is not available in your runtime. For expo/react-native see https://discord.com/channels/969553741705539624/1341392686267109458/1343639513850843217 ",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",QU18:"Malformed query result data. This likely happens because you create a OPFS-storage RxDatabase inside of a worker but did not set the usesRxDatabaseInWorker setting. https://rxdb.info/rx-storage-opfs.html?console=opfs#setting-usesrxdatabaseinworker-when-a-rxdatabase-is-also-used-inside-of-the-worker ",QU19:"Queries must not contain fields or properties with the value `undefined`: https://github.com/pubkey/rxdb/issues/6792#issuecomment-2624555824 ",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read thishttps://rxdb.info/rx-schema.html?console=qa#faq ",DB8:'createRxDatabase(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination of storage+databaseName only once\nIf you have the duplicate database on purpose to simulate multi-tab behavior in unit tests, set "ignoreDuplicate: true".\nAs alternative you can set "closeDuplicates: true" like if this happens in your react projects with hot reload that reloads the code without reloading the process.',DB9:"ignoreDuplicate is only allowed in dev-mode and must never be used in production",DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string. Notice that in RxDB, primary keys must be strings and cannot be numbers.",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is closed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",COL22:".bulkInsert() and .bulkUpsert() cannot be run with multiple documents that have the same primary key",COL23:"In the open-source version of RxDB, the amount of collections that can exist in parallel is limited to "+r.Vx+". If you already purchased the premium access, you can remove this limit: https://rxdb.info/rx-collection.html?console=limit#faq",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.close() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed. See https://rxdb.info/rx-schema.html?console=toplevel#non-allowed-properties ",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set. Ensure you use the dev-mode plugin when developing with RxDB.",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",DVM1:"When dev-mode is enabled, your storage must use one of the schema validators at the top level. This is because most problems people have with RxDB is because they store data that is not valid to the schema which causes strange bugs and problems.",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",DXE1:"non-required index fields are not possible with the dexie.js RxStorage: https://github.com/pubkey/rxdb/pull/6643#issuecomment-2505310082",SQL1:"The trial version of the SQLite storage does not support attachments.",SQL2:"The trial version of the SQLite storage is limited to contain 300 documents",SQL3:"The trial version of the SQLite storage is limited to running 110 operations",RM1:"Cannot communicate with a remote that was build on a different RxDB version. Did you forget to rebuild your workers when updating RxDB?",MG1:"If _id is used as primaryKey, all documents in the MongoDB instance must have a string-value as _id, not an ObjectId or number",SNH:"This should never happen"},D=a(4740),$=a(1885),P=a(720),S=a(7176),_=a(6434),b=a(1744),W=a(4395),C=a(1277),L=a(5908),F=new((0,L.cM)(L.ky));function M(){if(!T){var J=Object.getOwnPropertyNames(F),ke=Object.getOwnPropertyNames(L.ky);T=[...J,...ke,"deleted","synced"]}return T}function B(k){var J=(0,$.xQ)(k.primaryKey);return function ze(Ge,Re){!Ge||"object"!=typeof Ge||Object.keys(Ge).forEach(Dt=>{var at=Ge[Dt];!Ge.properties&&at&&"object"==typeof at&&!Array.isArray(Ge)&&function ke(Ge,Re,Dt){if("string"==typeof Ge&&"object"==typeof Re&&!Array.isArray(Re)&&"patternProperties"!==Dt.split(".").pop()&&function V(k){if("_deleted"!==k){if(["properties"].includes(k))throw(0,D.Br)("SC23",{fieldName:k});var J="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",ke=new RegExp(J);if("_id"!==k&&!k.match(ke))throw(0,D.Br)("SC1",{regex:J,fieldName:k})}}(Ge),Object.prototype.hasOwnProperty.call(Re,"item")&&"array"!==Re.type)throw(0,D.Br)("SC2",{fieldName:Ge});if(Object.prototype.hasOwnProperty.call(Re,"required")&&"boolean"==typeof Re.required)throw(0,D.Br)("SC24",{fieldName:Ge});if(Object.prototype.hasOwnProperty.call(Re,"$ref"))throw(0,D.Br)("SC40",{fieldName:Ge});if(Object.prototype.hasOwnProperty.call(Re,"ref"))if(Array.isArray(Re.type)){if(Re.type.length>2||!Re.type.includes("string")||!Re.type.includes("null"))throw(0,D.Br)("SC4",{fieldName:Ge})}else switch(Re.type){case"string":break;case"array":if(!Re.items||!Re.items.type||"string"!==Re.items.type)throw(0,D.Br)("SC3",{fieldName:Ge});break;default:throw(0,D.Br)("SC4",{fieldName:Ge})}var at=Dt.split(".").length>=2;if(at&&Re.default)throw(0,D.Br)("SC7",{path:Dt});if(!at){if("_id"===Ge&&"_id"!==J)throw(0,D.Br)("COL2",{fieldName:Ge});if("_"===Ge.charAt(0)){if("_id"===Ge||"_deleted"===Ge)return;throw(0,D.Br)("SC8",{fieldName:Ge})}}}(Dt,at,Re);var Et=Re;"properties"!==Dt&&(Et=Et+"."+Dt),ze(at,Et)})}(k,""),!0}function G(k){for(var J=k.split("."),ke="",ze=0;ze<J.length;ze+=1)ke=ke.concat("[]"!==J[ze]?".properties.".concat(J[ze]):".items");return(0,P.L$)(ke)}function ne(k){k&&Object.entries(k).forEach(([J,ke])=>{if("string"!=typeof J)throw(0,D.JX)("COL14",{name:J});if(J.startsWith("_"))throw(0,D.JX)("COL15",{name:J});if("function"!=typeof ke)throw(0,D.JX)("COL16",{name:J,type:typeof J});if(function A(){if(!I){var k=new W.wm,J=Object.getOwnPropertyNames(k),ke=Object.getOwnPropertyNames(Object.getPrototypeOf(k));I=[...J,...ke]}return I}().includes(J)||M().includes(J))throw(0,D.Br)("COL17",{name:J})})}var ve=a(9182);var xe="^[a-z][_$a-zA-Z0-9\\-]*$",He=new RegExp(xe);function et(k){if("string"!=typeof k||0===k.length)throw(0,D.JX)("UT1",{name:k});if((0,P.ky)(k))return!0;if(!k.match(He)&&":memory:"!==k)throw(0,D.Br)("UT2",{regex:xe,givenName:k});return!0}var Ke=a(6636),Xe=a(6362);function Y(k){"object"==typeof k&&null!==k&&Object.keys(k).forEach(ke=>{var ze=k[ke];if(ze instanceof RegExp)throw(0,D.Br)("QU16",{field:ke,query:k});Array.isArray(ze)?ze.forEach(Ge=>Y(Ge)):Y(ze)})}function st(k){if("object"!=typeof k||null===k)return!1;for(var J in k)if(Object.prototype.hasOwnProperty.call(k,J)&&(k[J]instanceof Date||"object"==typeof k[J]&&st(k[J])))return!0;return!1}function K(k,J){var ke=(0,$.xQ)(k.schema.primaryKey),ze=function(Re){Re.document=(0,$.Nq)(ke,k.schema,Re.document),Re.previous&&Object.keys(Re.previous._meta).forEach(Dt=>{if(!Object.prototype.hasOwnProperty.call(Re.document._meta,Dt))throw(0,D.Br)("SNH",{dataBefore:Re.previous,dataAfter:Re.document,args:{metaFieldName:Dt}})});try{"function"==typeof structuredClone?structuredClone(Re):JSON.parse(JSON.stringify(Re))}catch{throw(0,D.Br)("DOC24",{collection:k.collectionName,document:Re.document})}if(st(Re.document))throw(0,D.Br)("DOC24",{collection:k.collectionName,document:Re.document})};for(var Ge of J)ze(Ge)}var De=a(6052),Te=a(4425),me=!1,j=[{text:"JavaScript Database",url:"https://rxdb.info/"},{text:"React Native Database",url:"https://rxdb.info/react-native-database.html"},{text:"Local First",url:"https://rxdb.info/articles/local-first-future.html"},{text:"Angular IndexedDB",url:"https://rxdb.info/articles/angular-indexeddb.html"},{text:"React IndexedDB",url:"https://rxdb.info/articles/react-indexeddb.html"},{text:"Firestore Alternative",url:"https://rxdb.info/articles/firestore-alternative.html"},{text:"Offline Database",url:"https://rxdb.info/articles/offline-database.html"},{text:"JSON Database",url:"https://rxdb.info/articles/json-database.html"},{text:"NodeJS Database",url:"https://rxdb.info/nodejs-database.html"}];function Me(){return(Me=(0,u.A)(function*(){if(!(me||typeof window>"u"||typeof location>"u"||typeof document>"u"||(yield(0,r._H)()))){me=!0;var k=document.createElement("div");k.style.visibility="hidden",k.style.position="absolute",k.style.top="0",k.style.left="0",k.style.opacity="0.1",k.style.width="1px",k.style.height="1px",k.style.overflow="hidden";var J=document.createElement("iframe");J.width="1px",J.height="1px",J.src="https://rxdb.info/html/dev-mode-iframe.html?version="+De.o,k.appendChild(J);var ke=(0,Te.Ks)(location.host),Ge=j[ke%j.length],Re=document.createElement("a");Re.href=Ge.url,Re.target="_blank",Re.innerText=Ge.text;var Dt=document.createElement("p");Dt.innerText="This is the iframe which is shown when the RxDB Dev-Mode is enabled. Also see ",Dt.appendChild(Re),k.appendChild(Dt),document.body.appendChild(k)}})).apply(this,arguments)}var k,ot={name:"dev-mode",rxdb:!0,init:()=>{(function te(){Me.apply(this,arguments)})(),console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1f917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium/?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join("\n"))},overwritable:{isDevMode:()=>!0,deepFreezeWhenDevMode:function Ce(k){return k&&"string"!=typeof k&&"number"!=typeof k?(0,_.ol)(k):k},tunnelErrorMessage(k){if(!d[k])throw console.error("RxDB: Error-Code not known: "+k),new Error("Error-Code "+k+" not known, contact the maintainer");return"\nError message: "+d[k]+"\nError code: "+k}},hooks:{preCreateRxSchema:{after:function Q(k){if(!k.primaryKey)throw(0,D.Br)("SC30",{schema:k});if(!Object.prototype.hasOwnProperty.call(k,"properties"))throw(0,D.Br)("SC29",{schema:k});if(k.properties._rev)throw(0,D.Br)("SC10",{schema:k});if(!Object.prototype.hasOwnProperty.call(k,"version")||"number"!=typeof k.version||k.version<0)throw(0,D.Br)("SC11",{version:k.version});if(B(k),function q(k){if(!k.primaryKey)throw(0,D.Br)("SC30",{schema:k});function J(Et){if(!Et)throw(0,D.Br)("SC33",{schema:k});var Vt=Et.type;if(!Vt||!["string","number","integer"].includes(Vt))throw(0,D.Br)("SC32",{schema:k,args:{schemaPart:Et}})}if("string"==typeof k.primaryKey)J(k.properties[k.primaryKey]);else{var Ge=k.primaryKey;J((0,$.nT)(k,Ge.key)),Ge.fields.forEach(Et=>{J((0,$.nT)(k,Et))})}var Dt=(0,$.xQ)(k.primaryKey),at=k.properties[Dt];if(!at.maxLength)throw(0,D.Br)("SC39",{schema:k,args:{primaryPathSchemaPart:at}});if(!isFinite(at.maxLength))throw(0,D.Br)("SC41",{schema:k,args:{primaryPathSchemaPart:at}})}(k),Object.keys(k.properties).forEach(J=>{var ke=k.properties[J];if(J===k.primaryKey){if(k.indexes&&k.indexes.includes(J))throw(0,D.Br)("SC13",{value:ke,schema:k});if(ke.unique)throw(0,D.Br)("SC14",{value:ke,schema:k});if(k.encrypted&&k.encrypted.includes(J))throw(0,D.Br)("SC15",{value:ke,schema:k});if("string"!==ke.type)throw(0,D.Br)("SC16",{value:ke,schema:k})}if(M().includes(J))throw(0,D.Br)("SC17",{key:J,schema:k})}),k.indexes){if(!(0,S.k_)(k.indexes))throw(0,D.Br)("SC18",{indexes:k.indexes,schema:k});k.indexes.forEach(J=>{if("string"!=typeof J&&!Array.isArray(J))throw(0,D.Br)("SC19",{index:J,schema:k});if(Array.isArray(J))for(var ke=0;ke<J.length;ke+=1)if("string"!=typeof J[ke])throw(0,D.Br)("SC20",{index:J,schema:k});((0,S.k_)(J)?J:[J]).forEach(Ge=>{var Re=(0,$.nT)(k,Ge);switch(Re.type){case"string":if(!Re.maxLength)throw(0,D.Br)("SC34",{index:J,field:Ge,schema:k});break;case"number":case"integer":if(!Re.multipleOf)throw(0,D.Br)("SC35",{index:J,field:Ge,schema:k});var Vt=Re.maximum,Yt=Re.minimum;if(typeof Vt>"u"||typeof Yt>"u")throw(0,D.Br)("SC37",{index:J,field:Ge,schema:k});if(!isFinite(Vt)||!isFinite(Yt))throw(0,D.Br)("SC41",{index:J,field:Ge,schema:k});break;case"boolean":var ut="",Bt=Ge;if(Ge.includes(".")){var Ut=Ge.split(".");Bt=Ut.pop(),ut=Ut.join(".")}var un=""===ut?k:(0,$.nT)(k,ut);if(!un.required||!un.required.includes(Bt))throw(0,D.Br)("SC38",{index:J,field:Ge,schema:k});break;default:throw(0,D.Br)("SC36",{fieldName:Ge,type:Re.type,schema:k})}})})}Object.keys((0,_.YO)(k)).map(J=>{var ke=J.split(".");return ke.pop(),ke.join(".")}).filter(J=>""!==J).filter((J,ke,ze)=>ze.indexOf(J)===ke).filter(J=>{var ke=(0,b.UU)(k,J);return ke&&!!ke.index}).forEach(J=>{throw J=(J=J.replace("properties.","")).replace(/\.properties\./g,"."),(0,D.Br)("SC26",{index:(0,P.L$)(J),schema:k})}),(k.indexes||[]).reduce((J,ke)=>((0,S.k_)(ke)?(0,S.Hb)(J,ke):J.push(ke),J),[]).filter((J,ke,ze)=>ze.indexOf(J)===ke).map(J=>{var ke=G(J),ze=(0,b.UU)(k,ke);if(!ze||"object"!=typeof ze)throw(0,D.Br)("SC21",{index:J,schema:k});return{indexPath:J,schemaObj:ze}}).filter(J=>"string"!==J.schemaObj.type&&"integer"!==J.schemaObj.type&&"number"!==J.schemaObj.type&&"boolean"!==J.schemaObj.type).forEach(J=>{throw(0,D.Br)("SC22",{key:J.indexPath,type:J.schemaObj.type,schema:k})}),k.encrypted&&k.encrypted.forEach(J=>{var ke=G(J),ze=(0,b.UU)(k,ke);if(!ze||"object"!=typeof ze)throw(0,D.Br)("SC28",{field:J,schema:k})})}},preCreateRxDatabase:{before:function(k){if(!k.storage.name.startsWith("validate-"))throw(0,D.Br)("DVM1",{database:k.name,storage:k.storage.name})},after:function(k){!function ge(k){if(et(k.name),k.name.includes("$"))throw(0,D.Br)("DB13",{name:k.name});if((0,P.ky)(k.name)&&(k.name.endsWith("/")||k.name.endsWith("\\")))throw(0,D.Br)("DB11",{name:k.name})}(k)}},createRxDatabase:{after:(k=(0,u.A)(function*(J){}),function(ke){return k.apply(this,arguments)})},preCreateRxCollection:{after:function(k){if(function nt(k){if(function O(){if(!U){var k=new C.lB("pseudoInstance","memory"),J=Object.getOwnPropertyNames(k),ke=Object.getOwnPropertyNames(Object.getPrototypeOf(k));U=[...J,...ke],k.close()}return U}().includes(k.name))throw(0,D.Br)("DB5",{name:k.name});et(k.name)}(k),function ue(k,J){var ke=Object.keys(k.properties);J&&Object.keys(J).filter(ze=>ke.includes(ze)).forEach(ze=>{throw(0,D.Br)("COL18",{funName:ze})})}(k.schema,k.methods),"_"===k.name.charAt(0))throw(0,D.Br)("DB2",{name:k.name});if(!k.schema)throw(0,D.Br)("DB4",{name:k.name,args:k})}},createRxDocument:{before:function(k){!function Le(k,J){if(!k)throw(0,D.Br)("DOC20",{primaryKey:k,document:J});if(k!==k.trim())throw(0,D.Br)("DOC21",{primaryKey:k,document:J});if(k.includes("\r")||k.includes("\n"))throw(0,D.Br)("DOC22",{primaryKey:k,document:J});if(k.includes('"'))throw(0,D.Br)("DOC23",{primaryKey:k,document:J})}(k.primary,k.toJSON(!0))}},prePrepareRxQuery:{after:function(k){!function _e(k){if("findOne"===k.op){if("number"==typeof k.queryObj||Array.isArray(k.queryObj))throw(0,D.JX)("COL6",{collection:k.collection.name,queryObj:k.queryObj})}else if("find"===k.op&&"string"==typeof k.queryObj)throw(0,D.Br)("COL5",{collection:k.collection.name,queryObj:k.queryObj})}(k)}},preCreateRxQuery:{after:function(k){!function Ie(k){if("[object Object]"!==Object.prototype.toString.call(k.queryObj))throw(0,D.JX)("QU11",{op:k.op,collection:k.collection.name,queryObj:k.queryObj});var ke=["selector","limit","skip","sort","index"];if(Object.keys(k.queryObj).forEach(ze=>{if(!ke.includes(ze))throw(0,D.JX)("QU11",{op:k.op,collection:k.collection.name,queryObj:k.queryObj,key:ze,args:{validKeys:ke}})}),"count"===k.op&&(k.queryObj.limit||k.queryObj.skip))throw(0,D.Br)("QU15",{collection:k.collection.name,query:k.queryObj});Y(k.queryObj)}(k)}},prePrepareQuery:{after:k=>{!function se(k){var J=k.rxQuery.collection.schema.jsonSchema,ke=(0,_.hS)(k.mangoQuery);if(ke)throw(0,D.Br)("QU19",{field:ke,query:k.mangoQuery});var ze=k.mangoQuery.selector,Ge=Object.keys(J.properties);Object.keys(ze).filter(Et=>!Et.startsWith("$")).filter(Et=>!Et.includes(".")).forEach(Et=>{if(!Ge.includes(Et))throw(0,D.Br)("QU13",{schema:J,field:Et,query:k.mangoQuery})});var Dt=k.mangoQuery.index;if(Dt&&!(J.indexes?J.indexes:[]).find(Et=>(0,Ke.b)(Et,Dt)))throw(0,D.Br)("QU12",{collection:k.rxQuery.collection.name,query:k.mangoQuery,schema:J});if("count"===k.rxQuery.op&&!function ce(k,J){return(0,Xe.Ib)(k,J).queryPlan.selectorSatisfiedByIndex}(k.rxQuery.collection.schema.jsonSchema,k.mangoQuery)&&!k.rxQuery.collection.database.allowSlowCount)throw(0,D.Br)("QU14",{collection:k.rxQuery.collection,query:k.mangoQuery});k.mangoQuery.sort&&k.mangoQuery.sort.map(Et=>Object.keys(Et)[0]).filter(Et=>!Et.includes(".")).forEach(Et=>{if(!Ge.includes(Et))throw(0,D.Br)("QU13",{schema:J,field:Et,query:k.mangoQuery})}),Y(k.mangoQuery)}(k)}},preStorageWrite:{before:k=>{K(k.storageInstance,k.rows)}},createRxCollection:{after:k=>{ne(k.creator.statics),ne(k.creator.methods),ne(k.creator.attachments),k.creator.schema&&k.creator.migrationStrategies&&function Oe(k,J){if("object"!=typeof J||Array.isArray(J))throw(0,D.JX)("COL11",{schema:k});var ke=(0,ve.NP)(k);if(ke.length!==Object.keys(J).length)throw(0,D.Br)("COL12",{have:Object.keys(J),should:ke});ke.map(ze=>({v:ze,s:J[ze+1]})).filter(ze=>"function"!=typeof ze.s).forEach(ze=>{throw(0,D.JX)("COL13",{version:ze.v,type:typeof ze,schema:k})})}(k.creator.schema,k.creator.migrationStrategies)}}}}},6494(ct,E,a){"use strict";a.d(E,{Vw:()=>P,hj:()=>S,ig:()=>D,qj:()=>$,rb:()=>d});var u=a(375);let r=null;function d(){return r}function D(b){r??=b}class ${}let P=(()=>{class b{historyGo(C){throw new Error("")}static \u0275fac=function(L){return new(L||b)};static \u0275prov=u.jDH({token:b,factory:()=>(0,u.WQX)(_),providedIn:"platform"})}return b})();const S=new u.nKC("");let _=(()=>{class b extends P{_location;_history;_doc=(0,u.WQX)(u.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return d().getBaseHref(this._doc)}onPopState(C){const L=d().getGlobalEventTarget(this._doc,"window");return L.addEventListener("popstate",C,!1),()=>L.removeEventListener("popstate",C)}onHashChange(C){const L=d().getGlobalEventTarget(this._doc,"window");return L.addEventListener("hashchange",C,!1),()=>L.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,L,I){this._history.pushState(C,L,I)}replaceState(C,L,I){this._history.replaceState(C,L,I)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}static \u0275fac=function(L){return new(L||b)};static \u0275prov=u.jDH({token:b,factory:()=>new b,providedIn:"platform"})}return b})()},6568(ct,E,a){"use strict";function r(D){for(var $="",P=0;P<D.length;P++){var S=D[P];if("-"===S)return parseInt($,10);$+=S}throw new Error("malformatted revision: "+D)}function d(D,$){return($?r($._rev)+1:1)+"-"+D}a.d(E,{CM:()=>d,Wg:()=>r})},6606(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(8222);class r extends Error{constructor(D,$,P,S){super(S||`can't resolve reference ${P} from id ${$}`),this.missingRef=(0,u.resolveUrl)(D,$,P),this.missingSchema=(0,u.normalizeId)((0,u.getFullPath)(D,this.missingRef))}}E.default=r},6636(ct,E,a){"use strict";function u(r,d){if(r===d)return!0;if(r&&d&&"object"==typeof r&&"object"==typeof d){if(r.constructor!==d.constructor)return!1;var D,$;if(Array.isArray(r)){if((D=r.length)!==d.length)return!1;for($=D;0!==$--;)if(!u(r[$],d[$]))return!1;return!0}if(r.constructor===RegExp)return r.source===d.source&&r.flags===d.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===d.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===d.toString();var P=Object.keys(r);if((D=P.length)!==Object.keys(d).length)return!1;for($=D;0!==$--;)if(!Object.prototype.hasOwnProperty.call(d,P[$]))return!1;for($=D;0!==$--;){var S=P[$];if(!u(r[S],d[S]))return!1}return!0}return r!=r&&d!=d}a.d(E,{b:()=>u})},6648(ct,E,a){"use strict";a.d(E,{H:()=>G});var u=a(8750),r=a(5225),d=a(9974),D=a(4360);function $(Q,ne=0){return(0,d.N)((ue,ve)=>{ue.subscribe((0,D._)(ve,Oe=>(0,r.N)(ve,Q,()=>ve.next(Oe),ne),()=>(0,r.N)(ve,Q,()=>ve.complete(),ne),Oe=>(0,r.N)(ve,Q,()=>ve.error(Oe),ne)))})}function P(Q,ne=0){return(0,d.N)((ue,ve)=>{ve.add(Q.schedule(()=>ue.subscribe(ve),ne))})}var b=a(1985),C=a(4761),L=a(8071);function A(Q,ne){if(!Q)throw new Error("Iterable cannot be null");return new b.c(ue=>{(0,r.N)(ue,ne,()=>{const ve=Q[Symbol.asyncIterator]();(0,r.N)(ue,ne,()=>{ve.next().then(Oe=>{Oe.done?ue.complete():ue.next(Oe.value)})},0,!0)})})}var U=a(5055),O=a(9858),p=a(7441),F=a(5397),T=a(7953),M=a(591),V=a(5196);function G(Q,ne){return ne?function q(Q,ne){if(null!=Q){if((0,U.l)(Q))return function S(Q,ne){return(0,u.Tg)(Q).pipe(P(ne),$(ne))}(Q,ne);if((0,p.X)(Q))return function W(Q,ne){return new b.c(ue=>{let ve=0;return ne.schedule(function(){ve===Q.length?ue.complete():(ue.next(Q[ve++]),ue.closed||this.schedule())})})}(Q,ne);if((0,O.y)(Q))return function _(Q,ne){return(0,u.Tg)(Q).pipe(P(ne),$(ne))}(Q,ne);if((0,T.T)(Q))return A(Q,ne);if((0,F.x)(Q))return function I(Q,ne){return new b.c(ue=>{let ve;return(0,r.N)(ue,ne,()=>{ve=Q[C.l](),(0,r.N)(ue,ne,()=>{let Oe,nt;try{({value:Oe,done:nt}=ve.next())}catch(ge){return void ue.error(ge)}nt?ue.complete():ue.next(Oe)},0,!0)}),()=>(0,L.T)(ve?.return)&&ve.return()})}(Q,ne);if((0,V.U)(Q))return function B(Q,ne){return A((0,V.C)(Q),ne)}(Q,ne)}throw(0,M.L)(Q)}(Q,ne):(0,u.Tg)(Q)}},6697(ct,E,a){"use strict";a.d(E,{s:()=>D});var u=a(983),r=a(9974),d=a(4360);function D($){return $<=0?()=>u.w:(0,r.N)((P,S)=>{let _=0;P.subscribe((0,d._)(S,b=>{++_<=$&&(S.next(b),$<=_&&S.complete())}))})}},6706(ct,E,a){"use strict";a.d(E,{Hl:()=>W,N6:()=>b});var u=a(467),r=a(4740),d=a(6568),D=a(2060),$=a(6434),P=a(9403),S=a(8663),_=a(6893),b=function(){function L(A,U,O,p){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=A,this.primaryPath=U,this.preWrite=O,this.postWrite=p}var I=L.prototype;return I.addWrite=function(U,O){var F=(0,P.q)(this.queueByDocId,U[this.primaryPath],()=>[]);return new Promise((M,V)=>{var B={lastKnownDocumentState:U,modifier:O,resolve:M,reject:V};(0,S.ZN)(F).push(B),this.triggerRun()})},I.triggerRun=function(){var A=(0,u.A)(function*(){var O=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var p=[],F=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(F.entries()).map(function(){var M=(0,u.A)(function*([V,B]){var q=function C(L){var I=L[0],A=(0,d.Wg)(I._rev);return L.forEach(U=>{var O=(0,d.Wg)(U._rev);O>A&&(I=U,A=O)}),I}(B.map(ne=>ne.lastKnownDocumentState)),G=q;for(var Q of B)try{G=yield Q.modifier((0,$.o8)(G))}catch(ne){Q.reject(ne),Q.reject=()=>{},Q.resolve=()=>{}}try{yield O.preWrite(G,q)}catch(ne){return void B.forEach(ue=>ue.reject(ne))}p.push({previous:q,document:G})});return function(V){return M.apply(this,arguments)}}()));var T=p.length>0?yield this.storageInstance.bulkWrite(p,"incremental-write"):{error:[]};return yield Promise.all((0,_.YN)(this.primaryPath,p,T).map(M=>{var V=M[this.primaryPath];this.postWrite(M),(0,P.m)(F,V).forEach(q=>q.resolve(M))})),T.error.forEach(M=>{var V=M.documentId,B=(0,P.m)(F,V),q=(0,r.sX)(M);if(q){var G=(0,P.q)(this.queueByDocId,V,()=>[]);B.reverse().forEach(ne=>{ne.lastKnownDocumentState=(0,S.ZN)(q.documentInDb),(0,S.ZN)(G).unshift(ne)})}else{var Q=(0,r.cg)(M);B.forEach(ne=>ne.reject(Q))}}),this.isRunning=!1,this.triggerRun()}});return function U(){return A.apply(this,arguments)}}(),L}();function W(L){var I=function(){var A=(0,u.A)(function*(U){var O=(0,D.Xz)(U);O._deleted=U._deleted;var p=yield L(O),F=Object.assign({},p,{_meta:U._meta,_attachments:U._attachments,_rev:U._rev,_deleted:typeof p._deleted<"u"?p._deleted:U._deleted});return typeof F._deleted>"u"&&(F._deleted=!1),F});return function(O){return A.apply(this,arguments)}}();return I}},6827(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.MissingRefError=E.ValidationError=E.CodeGen=E.Name=E.nil=E.stringify=E.str=E._=E.KeywordCxt=E.Ajv=void 0;const u=a(2113),r=a(457),d=a(8058),D=a(2079),$=["/properties"],P="http://json-schema.org/draft-07/schema";class S extends u.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(I=>this.addVocabulary(I)),this.opts.discriminator&&this.addKeyword(d.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const I=this.opts.$data?this.$dataMetaSchema(D,$):D;this.addMetaSchema(I,P,!1),this.refs["http://json-schema.org/schema"]=P}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(P)?P:void 0)}}E.Ajv=S,ct.exports=E=S,ct.exports.Ajv=S,Object.defineProperty(E,"__esModule",{value:!0}),E.default=S;var _=a(7157);Object.defineProperty(E,"KeywordCxt",{enumerable:!0,get:function(){return _.KeywordCxt}});var b=a(5432);Object.defineProperty(E,"_",{enumerable:!0,get:function(){return b._}}),Object.defineProperty(E,"str",{enumerable:!0,get:function(){return b.str}}),Object.defineProperty(E,"stringify",{enumerable:!0,get:function(){return b.stringify}}),Object.defineProperty(E,"nil",{enumerable:!0,get:function(){return b.nil}}),Object.defineProperty(E,"Name",{enumerable:!0,get:function(){return b.Name}}),Object.defineProperty(E,"CodeGen",{enumerable:!0,get:function(){return b.CodeGen}});var W=a(9857);Object.defineProperty(E,"ValidationError",{enumerable:!0,get:function(){return W.default}});var C=a(6606);Object.defineProperty(E,"MissingRefError",{enumerable:!0,get:function(){return C.default}})},6893(ct,E,a){"use strict";a.d(E,{AM:()=>et,C9:()=>He,ME:()=>Xe,Mu:()=>ne,O5:()=>V,OG:()=>T,PA:()=>Q,WX:()=>ue,YN:()=>Le,gi:()=>ve,mQ:()=>q,on:()=>xe,p0:()=>se,pZ:()=>Ke});var u=a(467),r=a(3896),d=a(4740),D=a(1885),$=a(7176),P=a(6568),S=a(2060),_=a(720),b=a(6434),W=a(9403),C=a(4552),L=a(8663),I=a(5964),A=a(6354),U=a(9172),O=a(5558),p=a(6362),F=a(2284),T="_rxdb_internal";function V(K,De){return B.apply(this,arguments)}function B(){return(B=(0,u.A)(function*(K,De){var me=(yield K.findDocumentsById([De],!1))[0];if(me)return me})).apply(this,arguments)}function q(K,De,Te){return G.apply(this,arguments)}function G(){return(G=(0,u.A)(function*(K,De,Te){var me=yield K.bulkWrite([De],Te);if(me.error.length>0)throw me.error[0];return Le((0,D.xQ)(K.schema.primaryKey),[De],me)[0]})).apply(this,arguments)}function Q(K,De){var Te=V(K,De);return K.changeStream().pipe((0,A.T)(j=>j.events.find(te=>te.documentId===De)),(0,I.p)(j=>!!j),(0,A.T)(j=>Promise.resolve((0,L.ZN)(j).documentData)),(0,U.Z)(Te),(0,O.n)(j=>j),(0,I.p)(j=>!!j))}function ne(K){return Object.assign({},...K.filter(De=>!!De))}function ue(K,De,Te,me){if(me)throw 409===me.status?(0,d.Br)("CONFLICT",{collection:K.name,id:De,writeError:me,data:Te}):422===me.status?(0,d.Br)("VD2",{collection:K.name,id:De,writeError:me,data:Te}):me}function ve(K,De,Te,me,j,te,Me){for(var Re,pe=!!K.schema.attachments,ae=[],Ne=[],Ce=[],ot={id:(0,_.zs)(10),events:[],checkpoint:null,context:j},k=ot.events,J=[],ke=[],ze=[],Ge=Te.size>0,Dt=me.length,at=function(){var fn,Vt=me[Et],Yt=Vt.document,ut=Vt.previous,Bt=Yt[De],Ut=Yt._deleted,un=ut&&ut._deleted,Lt=void 0;if(Ge&&(Lt=Te.get(Bt)),Lt){if(!ut||ut&&Lt._rev!==ut._rev)return Ce.push({isError:!0,status:409,documentId:Bt,writeRow:Vt,documentInDb:Lt}),1;var Xn=pe?Oe(Vt):Vt;pe&&(Ut?ut&&Object.keys(ut._attachments).forEach(_n=>{ke.push({documentId:Bt,attachmentId:_n,digest:(0,L.ZN)(ut)._attachments[_n].digest})}):(Object.entries(Yt._attachments).find(([_n,sn])=>(!(ut?ut._attachments[_n]:void 0)&&!sn.data&&(fn={documentId:Bt,documentInDb:Lt,isError:!0,status:510,writeRow:Vt,attachmentId:_n}),!0)),fn||Object.entries(Yt._attachments).forEach(([_n,sn])=>{var gn=ut?ut._attachments[_n]:void 0;gn?sn.data&&gn.digest!==Xn.document._attachments[_n].digest&&ze.push({documentId:Bt,attachmentId:_n,attachmentData:sn,digest:sn.digest}):J.push({documentId:Bt,attachmentId:_n,attachmentData:sn,digest:sn.digest})}))),fn?Ce.push(fn):(pe?(Ne.push(Oe(Xn)),Me&&Me(Yt)):(Ne.push(Xn),Me&&Me(Yt)),Re=Xn);var mt=null,kt=null,rn=null;if(un&&!Ut)rn="INSERT",mt=pe?xe(Yt):Yt;else if(!ut||un||Ut){if(!Ut)throw(0,d.Br)("SNH",{args:{writeRow:Vt}});rn="DELETE",mt=(0,L.ZN)(Yt),kt=ut}else rn="UPDATE",mt=pe?xe(Yt):Yt,kt=ut;k.push({documentId:Bt,documentData:mt,previousDocumentData:kt,operation:rn})}else{var On=!!Ut;if(pe&&Object.entries(Yt._attachments).forEach(([_n,sn])=>{sn.data?J.push({documentId:Bt,attachmentId:_n,attachmentData:sn,digest:sn.digest}):Ce.push(fn={documentId:Bt,isError:!0,status:510,writeRow:Vt,attachmentId:_n})}),fn||(pe?(ae.push(Oe(Vt)),te&&te(Yt)):(ae.push(Vt),te&&te(Yt)),Re=Vt),!On){var xn={documentId:Bt,operation:"INSERT",documentData:pe?xe(Yt):Yt,previousDocumentData:pe&&ut?xe(ut):ut};k.push(xn)}}},Et=0;Et<Dt;Et++)at();return{bulkInsertDocs:ae,bulkUpdateDocs:Ne,newestRow:Re,errors:Ce,eventBulk:ot,attachmentsAdd:J,attachmentsRemove:ke,attachmentsUpdate:ze}}function Oe(K){return{previous:K.previous,document:xe(K.document)}}function nt(K){return atob(K).length}function xe(K){if(!K._attachments||0===Object.keys(K._attachments).length)return K;var De=(0,b.FD)(K);return De._attachments={},Object.entries(K._attachments).forEach(([Te,me])=>{De._attachments[Te]=function ge(K){var De=K.data;return De?{length:nt(De),digest:K.digest,type:K.type}:K}(me)}),De}function He(K){return Object.assign({},K,{_meta:(0,b.FD)(K._meta)})}function et(K,De,Te){r.h.deepFreezeWhenDevMode(Te);var me=(0,D.xQ)(De.schema.primaryKey),j={originalStorageInstance:De,schema:De.schema,internals:De.internals,collectionName:De.collectionName,databaseName:De.databaseName,options:De.options,bulkWrite(te,Me){var pe=this;return(0,u.A)(function*(){for(var ae=K.token,Ne=new Array(te.length),Ce=(0,C.t)(),Ze=0;Ze<te.length;Ze++){var ot=te[Ze],k=He(ot.document);k._meta.lwt=Ce;var J=ot.previous;k._rev=(0,P.CM)(ae,J),Ne[Ze]={document:k,previous:J}}(0,F.Xi)("preStorageWrite",{storageInstance:pe.originalStorageInstance,rows:Ne});var ke=yield K.lockedRun(()=>De.bulkWrite(Ne,Me)),ze={error:[]};Y.set(ze,Ne);var Ge=0===ke.error.length?[]:ke.error.filter(Yt=>!(409!==Yt.status||Yt.writeRow.previous||Yt.writeRow.document._deleted||!(0,L.ZN)(Yt.documentInDb)._deleted)||(ze.error.push(Yt),!1));if(Ge.length>0){var Re=new Set,Dt=Ge.map(Yt=>(Re.add(Yt.documentId),{previous:Yt.documentInDb,document:Object.assign({},Yt.writeRow.document,{_rev:(0,P.CM)(K.token,Yt.documentInDb)})})),at=yield K.lockedRun(()=>De.bulkWrite(Dt,Me));(0,$.Hb)(ze.error,at.error);var Et=Le(me,Ne,ze,Re),Vt=Le(me,Dt,at);return(0,$.Hb)(Et,Vt),ze}return ze})()},query:te=>K.lockedRun(()=>De.query(te)),count:te=>K.lockedRun(()=>De.count(te)),findDocumentsById:(te,Me)=>K.lockedRun(()=>De.findDocumentsById(te,Me)),getAttachmentData:(te,Me,pe)=>K.lockedRun(()=>De.getAttachmentData(te,Me,pe)),getChangedDocumentsSince:De.getChangedDocumentsSince?(te,Me)=>K.lockedRun(()=>De.getChangedDocumentsSince((0,L.ZN)(te),Me)):void 0,cleanup:te=>K.lockedRun(()=>De.cleanup(te)),remove:()=>(K.storageInstances.delete(j),K.lockedRun(()=>De.remove())),close:()=>(K.storageInstances.delete(j),K.lockedRun(()=>De.close())),changeStream:()=>De.changeStream()};return K.storageInstances.add(j),j}function Ke(K){if(K.schema.keyCompression)throw(0,d.Br)("UT5",{args:{params:K}});if(Xe(K.schema))throw(0,d.Br)("UT6",{args:{params:K}});if(K.schema.attachments&&K.schema.attachments.compression)throw(0,d.Br)("UT7",{args:{params:K}})}function Xe(K){return!!(K.encrypted&&K.encrypted.length>0||K.attachments&&K.attachments.encrypted)}function se(K,De,Te){return ce.apply(this,arguments)}function ce(){return(ce=(0,u.A)(function*(K,De,Te){if(K.getChangedDocumentsSince)return K.getChangedDocumentsSince(De,Te);var me=(0,D.xQ)(K.schema.primaryKey),j=(0,p.Ib)(K.schema,function Ie(K,De,Te){var me=(0,D.xQ)(K.schema.primaryKey),j=Te?Te.lwt:S.MC,te=Te?Te.id:"";return(0,p._V)(K.schema,{selector:{$or:[{"_meta.lwt":{$gt:j}},{"_meta.lwt":{$eq:j},[me]:{$gt:Te?te:""}}],"_meta.lwt":{$gte:j}},sort:[{"_meta.lwt":"asc"},{[me]:"asc"}],skip:0,limit:De})}(K,De,Te)),Me=(yield K.query(j)).documents,pe=(0,$.dG)(Me);return{documents:Me,checkpoint:pe?{id:pe[me],lwt:pe._meta.lwt}:Te||{id:"",lwt:0}}})).apply(this,arguments)}var Y=new WeakMap,_e=new WeakMap;function Le(K,De,Te,me){return(0,W.q)(_e,Te,()=>{var j=[],te=Y.get(Te);if(te||(te=De),Te.error.length>0||me){for(var Me=me||new Set,pe=0;pe<Te.error.length;pe++)Me.add(Te.error[pe].documentId);for(var Ne=0;Ne<te.length;Ne++){var Ce=te[Ne].document;Me.has(Ce[K])||j.push(xe(Ce))}}else{j.length=De.length-Te.error.length;for(var Ze=0;Ze<te.length;Ze++)j[Ze]=xe(te[Ze].document)}return j})}},6970(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(7868);E.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(d){const{gen:D,schema:$,it:P}=d;if((0,u.alwaysValidSchema)(P,$))return void d.fail();const S=D.name("valid");d.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},S),d.failResult(S,()=>d.reset(),()=>d.error())},error:{message:"must NOT be valid"}}},7042(ct,E,a){"use strict";a.d(E,{Cs:()=>B,Jc:()=>G,ix:()=>V});var u=a(467),r=a(1413),d=a(4412),D=a(4572),$=a(5964),P=a(1397),S=a(7176),_=a(5520),b=a(6434),W=a(9403),C=a(203),L=a(8663),I=a(898),A=a(7695),U=a(4740),O=a(5297),p=a(2104),F=a(6893),T=a(3896),M=a(2284),V=new WeakMap,B=function(){function Q(ue,ve,Oe,nt,ge,xe,He,et,Ke){var Xe=this;this.subs=[],this.subjects={received:new r.B,sent:new r.B,error:new r.B,canceled:new d.t(!1),active:new d.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.wasStarted=!1,this.startQueue=_.em,this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new r.B,this.replicationIdentifier=ue,this.collection=ve,this.deletedField=Oe,this.pull=nt,this.push=ge,this.live=xe,this.retryTime=He,this.autoStart=et,this.toggleOnDocumentVisible=Ke,this.metaInfoPromise=(0,u.A)(function*(){return{collectionName:"rx-replication-meta-"+(yield ve.database.hashFunction([Xe.collection.name,Xe.replicationIdentifier].join("-"))),schema:(0,A.mg)(Xe.collection.schema.jsonSchema,(0,F.ME)(Xe.collection.schema.jsonSchema))}})(),(0,W.q)(V,ve,()=>[]).push(this),this.collection.onClose.push(()=>this.cancel()),Object.keys(this.subjects).forEach(ce=>{Object.defineProperty(this,ce+"$",{get:function(){return this.subjects[ce].asObservable()}})});var se=new Promise(ce=>{this.callOnStart=ce});this.startPromise=se}var ne=Q.prototype;return ne.start=function(){return this.startQueue=this.startQueue.then(()=>this._start()),this.startQueue},ne._start=function(){var ue=(0,u.A)(function*(){var Ke,Oe=this;if(!this.isStopped()){if(this.internalReplicationState&&this.internalReplicationState.events.paused.next(!1),this.wasStarted)return void this.reSync();this.wasStarted=!0,this.toggleOnDocumentVisible||(0,O.Gn)(this);var nt=this.pull&&this.pull.modifier?this.pull.modifier:O.Cp,ge=this.push&&this.push.modifier?this.push.modifier:O.Cp,xe=this.collection.database,He=yield this.metaInfoPromise,[et]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:xe.name,collectionName:He.collectionName,databaseInstanceToken:xe.token,multiInstance:xe.multiInstance,options:{},schema:He.schema,password:xe.password,devMode:T.h.isDevMode()}),(0,p.vV)(this.collection,He.collectionName,He.schema)]);this.metaInstance=et,this.internalReplicationState=(0,I.c5)({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:xe.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,$.p)(Ke=>!!this.pull),(0,P.Z)(function(){var Ke=(0,u.A)(function*(Xe){if("RESYNC"===Xe)return Xe;var Ie=(0,b.FD)(Xe);return Ie.documents=(0,O.FS)(Oe.collection,Oe.deletedField,Ie.documents),Ie.documents=yield Promise.all(Ie.documents.map(se=>nt(se))),Ie});return function(Xe){return Ke.apply(this,arguments)}}())),masterChangesSince:(Ke=(0,u.A)(function*(Xe,Ie){if(!Oe.pull)return{checkpoint:null,documents:[]};for(var se=!1,ce={};!se&&!Oe.isStoppedOrPaused();)try{ce=yield Oe.pull.handler(Xe,Ie),se=!0}catch(Le){var Y=(0,U.Br)("RC_PULL",{checkpoint:Xe,errors:(0,S.$r)(Le).map(st=>(0,C.S)(st)),direction:"pull"});Oe.subjects.error.next(Y),yield(0,O.bd)(Oe.collection,(0,L.ZN)(Oe.retryTime))}if(Oe.isStoppedOrPaused())return{checkpoint:null,documents:[]};var _e=(0,b.FD)(ce);return _e.documents=(0,O.FS)(Oe.collection,Oe.deletedField,_e.documents),_e.documents=yield Promise.all(_e.documents.map(Le=>nt(Le))),_e}),function(Ie,se){return Ke.apply(this,arguments)}),masterWrite:function(){var Ke=(0,u.A)(function*(Xe){if(!Oe.push)return[];var Ie=!1;yield(0,M.FX)("preReplicationMasterWrite",{rows:Xe,collection:Oe.collection});var se=yield Promise.all(Xe.map(function(){var st=(0,u.A)(function*(K){return K.newDocumentState=yield ge(K.newDocumentState),null===K.newDocumentState?null:(K.assumedMasterState&&(K.assumedMasterState=yield ge(K.assumedMasterState)),"_deleted"!==Oe.deletedField&&(K.newDocumentState=(0,O.S1)(Oe.deletedField,K.newDocumentState),K.assumedMasterState&&(K.assumedMasterState=(0,O.S1)(Oe.deletedField,K.assumedMasterState))),K)});return function(K){return st.apply(this,arguments)}}())),ce=se.filter(S.S7),Y=null;for(0===ce.length&&(Ie=!0,Y=[]);!Ie&&!Oe.isStoppedOrPaused();)try{if(Y=yield Oe.push.handler(ce),!Array.isArray(Y))throw(0,U.Br)("RC_PUSH_NO_AR",{pushRows:Xe,direction:"push",args:{result:Y}});Ie=!0}catch(st){var _e=st.rxdb?st:(0,U.Br)("RC_PUSH",{pushRows:Xe,errors:(0,S.$r)(st).map(K=>(0,C.S)(K)),direction:"push"});Oe.subjects.error.next(_e),yield(0,O.bd)(Oe.collection,(0,L.ZN)(Oe.retryTime))}return Oe.isStoppedOrPaused()?[]:(yield(0,M.FX)("preReplicationMasterWriteDocumentsHandle",{result:Y,collection:Oe.collection}),(0,O.FS)(Oe.collection,Oe.deletedField,(0,L.ZN)(Y)))});return function(Ie){return Ke.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(Ke=>{this.subjects.error.next(Ke)}),this.internalReplicationState.events.processed.down.subscribe(Ke=>this.subjects.received.next(Ke.document)),this.internalReplicationState.events.processed.up.subscribe(Ke=>{this.subjects.sent.next(Ke.newDocumentState)}),(0,D.z)([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([Ke,Xe])=>{this.subjects.active.next(Ke||Xe)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:Ke=>{this.isStoppedOrPaused()||this.remoteEvents$.next(Ke)},error:Ke=>{this.subjects.error.next(Ke)}})),this.live||(yield(0,I.SE)(this.internalReplicationState),yield(0,I.o0)(this.internalReplicationState),yield this._cancel()),this.callOnStart()}});return function ve(){return ue.apply(this,arguments)}}(),ne.pause=function(){return this.startQueue=this.startQueue.then(()=>{this.internalReplicationState&&this.internalReplicationState.events.paused.next(!0)}),this.startQueue},ne.isPaused=function(){return!(!this.internalReplicationState||!this.internalReplicationState.events.paused.getValue())},ne.isStopped=function(){return!!this.subjects.canceled.getValue()},ne.isStoppedOrPaused=function(){return this.isPaused()||this.isStopped()},ne.awaitInitialReplication=function(){var ue=(0,u.A)(function*(){return yield this.startPromise,(0,I.SE)((0,L.ZN)(this.internalReplicationState))});return function ve(){return ue.apply(this,arguments)}}(),ne.awaitInSync=function(){var ue=(0,u.A)(function*(){yield this.startPromise,yield(0,I.SE)((0,L.ZN)(this.internalReplicationState));for(var Oe=2;Oe>0;)Oe--,yield this.collection.database.requestIdlePromise(),yield(0,I.o0)((0,L.ZN)(this.internalReplicationState));return!0});return function ve(){return ue.apply(this,arguments)}}(),ne.reSync=function(){this.remoteEvents$.next("RESYNC")},ne.emitEvent=function(ve){this.remoteEvents$.next(ve)},ne.cancel=function(){var ue=(0,u.A)(function*(){var Oe=this;this.startQueue=this.startQueue.catch(()=>{}).then((0,u.A)(function*(){yield Oe._cancel()})),yield this.startQueue});return function ve(){return ue.apply(this,arguments)}}(),ne._cancel=function(){var ue=(0,u.A)(function*(Oe=!1){if(this.isStopped())return _.Dr;var nt=this.onCancel.map(ge=>(0,_.hq)(ge()));return this.internalReplicationState&&(yield(0,I.mC)(this.internalReplicationState)),this.metaInstance&&!Oe&&nt.push((0,L.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,L.ZN)(this.metaInstance).close())),this.subs.forEach(ge=>ge.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(nt)});return function ve(){return ue.apply(this,arguments)}}(),ne.remove=function(){var ue=(0,u.A)(function*(){var Oe=this;return this.startQueue=this.startQueue.then((0,u.A)(function*(){var nt=yield Oe.metaInfoPromise;yield Oe._cancel(!0),yield(0,L.ZN)(Oe.internalReplicationState).checkpointQueue.then(()=>(0,L.ZN)(Oe.metaInstance).remove()),yield(0,p.bD)(Oe.collection,nt.collectionName,nt.schema)})),this.startQueue});return function ve(){return ue.apply(this,arguments)}}(),Q}();function G(Q,ne){return(Q&&ne.collection.database.multiInstance?ne.collection.database.waitForLeadership():_.Ms).then(()=>{ne.isStopped()||ne.autoStart&&ne.start()})}},7048(ct,E,a){"use strict";a.d(E,{v:()=>d});var u=a(9974),r=a(4360);function d(D,$=!1){return(0,u.N)((P,S)=>{let _=0;P.subscribe((0,r._)(S,b=>{const W=D(b,_++);(W||$)&&S.next(b),!W&&S.complete()}))})}},7085(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(9807),r=a(776),d=a(5854),D=a(8675),$=a(1379),P=a(4620),S=a(4812),_=a(3632),b=a(7438),W=a(7956);E.default=[u.default,r.default,d.default,D.default,$.default,P.default,S.default,_.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},b.default,W.default]},7157(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getData=E.KeywordCxt=E.validateFunctionCode=void 0;const u=a(9318),r=a(3513),d=a(1064),D=a(3513),$=a(3599),P=a(742),S=a(5924),_=a(5432),b=a(2682),W=a(8222),C=a(7868),L=a(7511);function A({gen:j,validateName:te,schema:Me,schemaEnv:pe,opts:ae},Ne){ae.code.es5?j.func(te,_._`${b.default.data}, ${b.default.valCxt}`,pe.$async,()=>{j.code(_._`"use strict"; ${T(Me,ae)}`),function O(j,te){j.if(b.default.valCxt,()=>{j.var(b.default.instancePath,_._`${b.default.valCxt}.${b.default.instancePath}`),j.var(b.default.parentData,_._`${b.default.valCxt}.${b.default.parentData}`),j.var(b.default.parentDataProperty,_._`${b.default.valCxt}.${b.default.parentDataProperty}`),j.var(b.default.rootData,_._`${b.default.valCxt}.${b.default.rootData}`),te.dynamicRef&&j.var(b.default.dynamicAnchors,_._`${b.default.valCxt}.${b.default.dynamicAnchors}`)},()=>{j.var(b.default.instancePath,_._`""`),j.var(b.default.parentData,_._`undefined`),j.var(b.default.parentDataProperty,_._`undefined`),j.var(b.default.rootData,b.default.data),te.dynamicRef&&j.var(b.default.dynamicAnchors,_._`{}`)})}(j,ae),j.code(Ne)}):j.func(te,_._`${b.default.data}, ${function U(j){return _._`{${b.default.instancePath}="", ${b.default.parentData}, ${b.default.parentDataProperty}, ${b.default.rootData}=${b.default.data}${j.dynamicRef?_._`, ${b.default.dynamicAnchors}={}`:_.nil}}={}`}(ae)}`,pe.$async,()=>j.code(T(Me,ae)).code(Ne))}function T(j,te){const Me="object"==typeof j&&j[te.schemaId];return Me&&(te.code.source||te.code.process)?_._`/*# sourceURL=${Me} */`:_.nil}function V({schema:j,self:te}){if("boolean"==typeof j)return!j;for(const Me in j)if(te.RULES.all[Me])return!0;return!1}function B(j){return"boolean"!=typeof j.schema}function G(j){(0,C.checkUnknownRules)(j),function ne(j){const{schema:te,errSchemaPath:Me,opts:pe,self:ae}=j;te.$ref&&pe.ignoreKeywordsWithRef&&(0,C.schemaHasRulesButRef)(te,ae.RULES)&&ae.logger.warn(`$ref: keywords ignored in schema at path "${Me}"`)}(j)}function Q(j,te){if(j.opts.jtd)return He(j,[],!1,te);const Me=(0,r.getSchemaTypes)(j.schema);He(j,Me,!(0,r.coerceAndCheckDataType)(j,Me),te)}function nt({gen:j,schemaEnv:te,schema:Me,errSchemaPath:pe,opts:ae}){const Ne=Me.$comment;if(!0===ae.$comment)j.code(_._`${b.default.self}.logger.log(${Ne})`);else if("function"==typeof ae.$comment){const Ce=_.str`${pe}/$comment`,Ze=j.scopeValue("root",{ref:te.root});j.code(_._`${b.default.self}.opts.$comment(${Ne}, ${Ce}, ${Ze}.schema)`)}}function He(j,te,Me,pe){const{gen:ae,schema:Ne,data:Ce,allErrors:Ze,opts:ot,self:k}=j,{RULES:J}=k;function ke(ze){(0,d.shouldUseGroup)(Ne,ze)&&(ze.type?(ae.if((0,D.checkDataType)(ze.type,Ce,ot.strictNumbers)),et(j,ze),1===te.length&&te[0]===ze.type&&Me&&(ae.else(),(0,D.reportTypeError)(j)),ae.endIf()):et(j,ze),Ze||ae.if(_._`${b.default.errors} === ${pe||0}`))}!Ne.$ref||!ot.ignoreKeywordsWithRef&&(0,C.schemaHasRulesButRef)(Ne,J)?(ot.jtd||function Ke(j,te){j.schemaEnv.meta||!j.opts.strictTypes||(function Xe(j,te){if(te.length){if(!j.dataTypes.length)return void(j.dataTypes=te);te.forEach(Me=>{Y(j.dataTypes,Me)||Le(j,`type "${Me}" not allowed by context "${j.dataTypes.join(",")}"`)}),function _e(j,te){const Me=[];for(const pe of j.dataTypes)Y(te,pe)?Me.push(pe):te.includes("integer")&&"number"===pe&&Me.push("integer");j.dataTypes=Me}(j,te)}}(j,te),j.opts.allowUnionTypes||function Ie(j,te){te.length>1&&(2!==te.length||!te.includes("null"))&&Le(j,"use allowUnionTypes to allow union type keyword")}(j,te),function se(j,te){const Me=j.self.RULES.all;for(const pe in Me){const ae=Me[pe];if("object"==typeof ae&&(0,d.shouldUseRule)(j.schema,ae)){const{type:Ne}=ae.definition;Ne.length&&!Ne.some(Ce=>ce(te,Ce))&&Le(j,`missing type "${Ne.join(",")}" for keyword "${pe}"`)}}}(j,j.dataTypes))}(j,te),ae.block(()=>{for(const ze of J.rules)ke(ze);ke(J.post)})):ae.block(()=>K(j,"$ref",J.all.$ref.definition))}function et(j,te){const{gen:Me,schema:pe,opts:{useDefaults:ae}}=j;ae&&(0,$.assignDefaults)(j,te.type),Me.block(()=>{for(const Ne of te.rules)(0,d.shouldUseRule)(pe,Ne)&&K(j,Ne.keyword,Ne.definition,te.type)})}function ce(j,te){return j.includes(te)||"number"===te&&j.includes("integer")}function Y(j,te){return j.includes(te)||"integer"===te&&j.includes("number")}function Le(j,te){(0,C.checkStrictMode)(j,te+=` at "${j.schemaEnv.baseId+j.errSchemaPath}" (strictTypes)`,j.opts.strictTypes)}E.validateFunctionCode=function I(j){B(j)&&(G(j),V(j))?function p(j){const{schema:te,opts:Me,gen:pe}=j;A(j,()=>{Me.$comment&&te.$comment&&nt(j),function ue(j){const{schema:te,opts:Me}=j;void 0!==te.default&&Me.useDefaults&&Me.strictSchema&&(0,C.checkStrictMode)(j,"default is ignored in the schema root")}(j),pe.let(b.default.vErrors,null),pe.let(b.default.errors,0),Me.unevaluated&&function F(j){const{gen:te,validateName:Me}=j;j.evaluated=te.const("evaluated",_._`${Me}.evaluated`),te.if(_._`${j.evaluated}.dynamicProps`,()=>te.assign(_._`${j.evaluated}.props`,_._`undefined`)),te.if(_._`${j.evaluated}.dynamicItems`,()=>te.assign(_._`${j.evaluated}.items`,_._`undefined`))}(j),Q(j),function ge(j){const{gen:te,schemaEnv:Me,validateName:pe,ValidationError:ae,opts:Ne}=j;Me.$async?te.if(_._`${b.default.errors} === 0`,()=>te.return(b.default.data),()=>te.throw(_._`new ${ae}(${b.default.vErrors})`)):(te.assign(_._`${pe}.errors`,b.default.vErrors),Ne.unevaluated&&function xe({gen:j,evaluated:te,props:Me,items:pe}){Me instanceof _.Name&&j.assign(_._`${te}.props`,Me),pe instanceof _.Name&&j.assign(_._`${te}.items`,pe)}(j),te.return(_._`${b.default.errors} === 0`))}(j)})}(j):A(j,()=>(0,u.topBoolOrEmptySchema)(j))};class st{constructor(te,Me,pe){if((0,P.validateKeywordUsage)(te,Me,pe),this.gen=te.gen,this.allErrors=te.allErrors,this.keyword=pe,this.data=te.data,this.schema=te.schema[pe],this.$data=Me.$data&&te.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,C.schemaRefOrVal)(te,this.schema,pe,this.$data),this.schemaType=Me.schemaType,this.parentSchema=te.schema,this.params={},this.it=te,this.def=Me,this.$data)this.schemaCode=te.gen.const("vSchema",me(this.$data,te));else if(this.schemaCode=this.schemaValue,!(0,P.validSchemaType)(this.schema,Me.schemaType,Me.allowUndefined))throw new Error(`${pe} value must be ${JSON.stringify(Me.schemaType)}`);("code"in Me?Me.trackErrors:!1!==Me.errors)&&(this.errsCount=te.gen.const("_errs",b.default.errors))}result(te,Me,pe){this.failResult((0,_.not)(te),Me,pe)}failResult(te,Me,pe){this.gen.if(te),pe?pe():this.error(),Me?(this.gen.else(),Me(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(te,Me){this.failResult((0,_.not)(te),void 0,Me)}fail(te){if(void 0===te)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(te),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(te){if(!this.$data)return this.fail(te);const{schemaCode:Me}=this;this.fail(_._`${Me} !== undefined && (${(0,_.or)(this.invalid$data(),te)})`)}error(te,Me,pe){if(Me)return this.setParams(Me),this._error(te,pe),void this.setParams({});this._error(te,pe)}_error(te,Me){(te?L.reportExtraError:L.reportError)(this,this.def.error,Me)}$dataError(){(0,L.reportError)(this,this.def.$dataError||L.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,L.resetErrorsCount)(this.gen,this.errsCount)}ok(te){this.allErrors||this.gen.if(te)}setParams(te,Me){Me?Object.assign(this.params,te):this.params=te}block$data(te,Me,pe=_.nil){this.gen.block(()=>{this.check$data(te,pe),Me()})}check$data(te=_.nil,Me=_.nil){if(!this.$data)return;const{gen:pe,schemaCode:ae,schemaType:Ne,def:Ce}=this;pe.if((0,_.or)(_._`${ae} === undefined`,Me)),te!==_.nil&&pe.assign(te,!0),(Ne.length||Ce.validateSchema)&&(pe.elseIf(this.invalid$data()),this.$dataError(),te!==_.nil&&pe.assign(te,!1)),pe.else()}invalid$data(){const{gen:te,schemaCode:Me,schemaType:pe,def:ae,it:Ne}=this;return(0,_.or)(function Ce(){if(pe.length){if(!(Me instanceof _.Name))throw new Error("ajv implementation error");const ot=Array.isArray(pe)?pe:[pe];return _._`${(0,D.checkDataTypes)(ot,Me,Ne.opts.strictNumbers,D.DataType.Wrong)}`}return _.nil}(),function Ze(){if(ae.validateSchema){const ot=te.scopeValue("validate$data",{ref:ae.validateSchema});return _._`!${ot}(${Me})`}return _.nil}())}subschema(te,Me){const pe=(0,S.getSubschema)(this.it,te);(0,S.extendSubschemaData)(pe,this.it,te),(0,S.extendSubschemaMode)(pe,te);const ae={...this.it,...pe,items:void 0,props:void 0};return function M(j,te){B(j)&&(G(j),V(j))?function q(j,te){const{schema:Me,gen:pe,opts:ae}=j;ae.$comment&&Me.$comment&&nt(j),function ve(j){const te=j.schema[j.opts.schemaId];te&&(j.baseId=(0,W.resolveUrl)(j.opts.uriResolver,j.baseId,te))}(j),function Oe(j){if(j.schema.$async&&!j.schemaEnv.$async)throw new Error("async schema in sync schema")}(j);const Ne=pe.const("_errs",b.default.errors);Q(j,Ne),pe.var(te,_._`${Ne} === ${b.default.errors}`)}(j,te):(0,u.boolOrEmptySchema)(j,te)}(ae,Me),ae}mergeEvaluated(te,Me){const{it:pe,gen:ae}=this;pe.opts.unevaluated&&(!0!==pe.props&&void 0!==te.props&&(pe.props=C.mergeEvaluated.props(ae,te.props,pe.props,Me)),!0!==pe.items&&void 0!==te.items&&(pe.items=C.mergeEvaluated.items(ae,te.items,pe.items,Me)))}mergeValidEvaluated(te,Me){const{it:pe,gen:ae}=this;if(pe.opts.unevaluated&&(!0!==pe.props||!0!==pe.items))return ae.if(Me,()=>this.mergeEvaluated(te,_.Name)),!0}}function K(j,te,Me,pe){const ae=new st(j,Me,te);"code"in Me?Me.code(ae,pe):ae.$data&&Me.validate?(0,P.funcKeywordCode)(ae,Me):"macro"in Me?(0,P.macroKeywordCode)(ae,Me):(Me.compile||Me.validate)&&(0,P.funcKeywordCode)(ae,Me)}E.KeywordCxt=st;const De=/^\/(?:[^~]|~0|~1)*$/,Te=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function me(j,{dataLevel:te,dataNames:Me,dataPathArr:pe}){let ae,Ne;if(""===j)return b.default.rootData;if("/"===j[0]){if(!De.test(j))throw new Error(`Invalid JSON-pointer: ${j}`);ae=j,Ne=b.default.rootData}else{const k=Te.exec(j);if(!k)throw new Error(`Invalid JSON-pointer: ${j}`);const J=+k[1];if(ae=k[2],"#"===ae){if(J>=te)throw new Error(ot("property/index",J));return pe[te-J]}if(J>te)throw new Error(ot("data",J));if(Ne=Me[te-J],!ae)return Ne}let Ce=Ne;const Ze=ae.split("/");for(const k of Ze)k&&(Ne=_._`${Ne}${(0,_.getProperty)((0,C.unescapeJsonPointer)(k))}`,Ce=_._`${Ce} && ${Ne}`);return Ce;function ot(k,J){return`Cannot access ${k} ${J} levels up, current level is ${te}`}}E.getData=me},7176(ct,E,a){"use strict";function u(F){return F[F.length-1]}function D(F){return Array.isArray(F)?F.slice(0):[F]}function $(F,T){F=F.slice(0);for(var M=[];F.length;){var V=F.splice(0,T);M.push(V)}return M}function S(F){return Array.isArray(F)}function b(F){return null!=F}function W(F,T){var M=0,V=-1;for(var B of F){if(!T(B,V+=1))break;M+=1}return M}function U(F,T){var M=T.length;if(0!==M){var V=F.length;F.length=V+T.length;for(var B=0;B<M;++B)F[V+B]=T[B]}}function O(F){return F.filter(function(T,M,V){return V.indexOf(T)===M})}a.d(E,{$r:()=>D,Aj:()=>$,Hb:()=>U,S7:()=>b,Sd:()=>W,dG:()=>u,jw:()=>O,k_:()=>S})},7293(ct,E,a){"use strict";a.d(E,{Ic:()=>Q});var u=a(467),r=a(6354),d=a(7369);function P(){return(P=(0,u.A)(function*(ne,ue){var ve=yield fetch("data:"+ue+";base64,"+ne);return yield ve.blob()})).apply(this,arguments)}function b(){return(b=(0,u.A)(function*(ne){if("string"==typeof ne)return ne;"[object Uint8Array]"===Object.prototype.toString.call(ne)&&(ne=new Blob([ne]));var ve=yield ne.arrayBuffer();return(0,d.Yi)(ve)})).apply(this,arguments)}var C=a(6434),L=a(5520),I=a(1948),A=function(){function ne({doc:ve,id:Oe,type:nt,length:ge,digest:xe}){this.doc=ve,this.id=Oe,this.type=nt,this.length=ge,this.digest=xe,(0,I.kc)(this)}var ue=ne.prototype;return ue.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,Oe=>(delete Oe._attachments[this.id],Oe)).then(()=>{})},ue.getData=function(){var ve=(0,u.A)(function*(){var nt=yield this.getDataBase64(),ge=yield function $(ne,ue){return P.apply(this,arguments)}(nt,this.type);return ge});return function Oe(){return ve.apply(this,arguments)}}(),ue.getStringData=function(){var ve=(0,u.A)(function*(){var nt=yield this.getData(),ge=yield function S(ne){return"[object Uint8Array]"===Object.prototype.toString.call(ne)&&(ne=new Blob([ne])),"string"==typeof ne?Promise.resolve(ne):ne.text()}(nt);return ge});return function Oe(){return ve.apply(this,arguments)}}(),ue.getDataBase64=function(){var ve=(0,u.A)(function*(){return yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest)});return function Oe(){return ve.apply(this,arguments)}}(),ne}();function U(ne,ue,ve){return new A({doc:ve,id:ne,type:ue.type,length:ue.length,digest:ue.digest})}function O(ne){return p.apply(this,arguments)}function p(){return p=(0,u.A)(function*(ne){(0,I.Yi)(this);var ue=function W(ne){return ne.size}(ne.data),ve=yield function _(ne){return b.apply(this,arguments)}(ne.data);return this.putAttachmentBase64({id:ne.id,length:ue,type:ne.type,data:ve})}),p.apply(this,arguments)}function F(ne){return T.apply(this,arguments)}function T(){return(T=(0,u.A)(function*(ne){(0,I.Yi)(this);var ue=yield this.collection.database.hashFunction(ne.data),ve=ne.id,Oe=ne.type,nt=ne.data;return this.collection.incrementalWriteQueue.addWrite(this._data,ge=>((ge=(0,C.FD)(ge))._attachments=(0,C.FD)(ge._attachments),ge._attachments[ve]={length:ne.length,type:Oe,data:nt,digest:ue},ge)).then(ge=>{var xe=this.collection._docCache.getCachedRxDocument(ge);return U(ve,ge._attachments[ve],xe)})})).apply(this,arguments)}function M(ne){(0,I.Yi)(this);var ue=this._data;return ue._attachments&&ue._attachments[ne]?U(ne,ue._attachments[ne],this):null}function V(){(0,I.Yi)(this);var ne=this._data;return ne._attachments?Object.keys(ne._attachments).map(ue=>U(ue,ne._attachments[ue],this)):[]}function q(){return q=(0,u.A)(function*(ne){var ue=ne.docData._attachments;if(ue){var ve={};yield Promise.all(Object.keys(ue).map(function(){var Oe=(0,u.A)(function*(nt){var ge=ue[nt],xe=ne.docData[ne.oldCollection.schema.primaryPath],He=yield ne.oldCollection.storageInstance.getAttachmentData(xe,nt,ge.digest),et=yield ne.oldCollection.database.hashFunction(He);ve[nt]={length:ge.length,type:ge.type,data:He,digest:et}});return function(nt){return Oe.apply(this,arguments)}}())),ne.docData._attachments=ve}}),q.apply(this,arguments)}var Q={name:"attachments",rxdb:!0,prototypes:{RxDocument:ne=>{ne.putAttachment=O,ne.putAttachmentBase64=F,ne.getAttachment=M,ne.allAttachments=V,Object.defineProperty(ne,"allAttachments$",{get:function(){return this.$.pipe((0,r.T)(ve=>Object.entries(ve.toJSON(!0)._attachments)),(0,r.T)(ve=>ve.map(([Oe,nt])=>U(Oe,nt,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:function B(ne){return q.apply(this,arguments)}},postMigrateDocument:{after:function G(ne){return L.em}}}}},7354(ct,E,a){"use strict";a.d(E,{X2:()=>ut});var u=a(3104),W={create:function D(mt){var kt={time:(0,u.mU)(),messagesCallback:null,bc:new BroadcastChannel(mt),subFns:[]};return kt.bc.onmessage=function(rn){kt.messagesCallback&&kt.messagesCallback(rn.data)},kt},close:function $(mt){mt.bc.close(),mt.subFns=[]},onMessage:function S(mt,kt){mt.messagesCallback=kt},postMessage:function P(mt,kt){try{return mt.bc.postMessage(kt,!1),u.o}catch(rn){return Promise.reject(rn)}},canBeUsed:function _(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function b(){return 150},microSeconds:u.mU};class C{ttl;map=new Map;_to=!1;constructor(kt){this.ttl=kt}has(kt){const rn=this.map.get(kt);return!(typeof rn>"u"||rn<I()-this.ttl&&(this.map.delete(kt),1))}add(kt){this.map.delete(kt),this.map.set(kt,I()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function L(mt){const kt=I()-mt.ttl,rn=mt.map[Symbol.iterator]();for(;;){const on=rn.next().value;if(!on)break;const _n=on[0];if(!(on[1]<kt))break;mt.map.delete(_n)}}(this)},0))}clear(){this.map.clear()}}function I(){return Date.now()}function A(){var mt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},kt=JSON.parse(JSON.stringify(mt));return typeof kt.webWorkerSupport>"u"&&(kt.webWorkerSupport=!0),kt.idb||(kt.idb={}),kt.idb.ttl||(kt.idb.ttl=45e3),kt.idb.fallbackInterval||(kt.idb.fallbackInterval=150),mt.idb&&"function"==typeof mt.idb.onclose&&(kt.idb.onclose=mt.idb.onclose),kt.localstorage||(kt.localstorage={}),kt.localstorage.removeTimeout||(kt.localstorage.removeTimeout=6e4),mt.methods&&(kt.methods=mt.methods),kt.node||(kt.node={}),kt.node.ttl||(kt.node.ttl=12e4),kt.node.maxParallelWrites||(kt.node.maxParallelWrites=2048),typeof kt.node.useFastPath>"u"&&(kt.node.useFastPath=!0),kt}var p="messages",F={durability:"relaxed"};function M(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function V(mt){mt.commit&&mt.commit()}function nt(mt){mt.closed||xe(mt).then(function(){return(0,u.yy)(mt.options.idb.fallbackInterval)}).then(function(){return nt(mt)})}function xe(mt){return mt.closed||!mt.messagesCallback?u.o:function Q(mt,kt){var rn=mt.transaction(p,"readonly",F),on=rn.objectStore(p),_n=[],sn=IDBKeyRange.bound(kt+1,1/0);if(on.getAll){var gn=on.getAll(sn);return new Promise(function(fr,Er){gn.onerror=function(Tr){return Er(Tr)},gn.onsuccess=function(Tr){fr(Tr.target.result)}})}return new Promise(function(fr,Er){var Tr=function Ir(){try{return sn=IDBKeyRange.bound(kt+1,1/0),on.openCursor(sn)}catch{return on.openCursor()}}();Tr.onerror=function(Hr){return Er(Hr)},Tr.onsuccess=function(Hr){var br=Hr.target.result;br?br.value.id<kt+1?br.continue(kt+1):(_n.push(br.value),br.continue()):(V(rn),fr(_n))}})}(mt.db,mt.lastCursorId).then(function(kt){var rn=kt.filter(function(on){return!!on}).map(function(on){return on.id>mt.lastCursorId&&(mt.lastCursorId=on.id),on}).filter(function(on){return function ge(mt,kt){return!(mt.uuid===kt.uuid||kt.eMIs.has(mt.id)||mt.data.time<kt.messagesCallbackTime)}(on,mt)}).sort(function(on,_n){return on.time-_n.time});return rn.forEach(function(on){mt.messagesCallback&&(mt.eMIs.add(on.id),mt.messagesCallback(on.data))}),u.o})}var se={create:function Oe(mt,kt){return kt=A(kt),function B(mt){var on=M().open("pubkey.broadcast-channel-0-"+mt);return on.onupgradeneeded=function(_n){_n.target.result.createObjectStore(p,{keyPath:"id",autoIncrement:!0})},new Promise(function(_n,sn){on.onerror=function(gn){return sn(gn)},on.onsuccess=function(){_n(on.result)}})}(mt).then(function(rn){var on={closed:!1,lastCursorId:0,channelName:mt,options:kt,uuid:(0,u.zs)(),eMIs:new C(2*kt.idb.ttl),writeBlockPromise:u.o,messagesCallback:null,readQueuePromises:[],db:rn};return rn.onclose=function(){on.closed=!0,kt.idb.onclose&&kt.idb.onclose()},nt(on),on})},close:function He(mt){mt.closed=!0,mt.db.close()},onMessage:function Ke(mt,kt,rn){mt.messagesCallbackTime=rn,mt.messagesCallback=kt,xe(mt)},postMessage:function et(mt,kt){return mt.writeBlockPromise=mt.writeBlockPromise.then(function(){return function q(mt,kt,rn){var _n={uuid:kt,time:Date.now(),data:rn},sn=mt.transaction([p],"readwrite",F);return new Promise(function(gn,Ir){sn.oncomplete=function(){return gn()},sn.onerror=function(Er){return Ir(Er)},sn.objectStore(p).add(_n),V(sn)})}(mt.db,mt.uuid,kt)}).then(function(){0===(0,u.HO)(0,10)&&function ve(mt){return function ue(mt,kt){var rn=Date.now()-kt,on=mt.transaction(p,"readonly",F),_n=on.objectStore(p),sn=[];return new Promise(function(gn){_n.openCursor().onsuccess=function(Ir){var fr=Ir.target.result;if(fr){var Er=fr.value;Er.time<rn?(sn.push(Er),fr.continue()):(V(on),gn(sn))}else gn(sn)}})}(mt.db,mt.options.idb.ttl).then(function(kt){return function ne(mt,kt){if(mt.closed)return Promise.resolve([]);var on=mt.db.transaction(p,"readwrite",F).objectStore(p);return Promise.all(kt.map(function(_n){var sn=on.delete(_n);return new Promise(function(gn){sn.onsuccess=function(){return gn()}})}))}(mt,kt.map(function(rn){return rn.id}))})}(mt)}),mt.writeBlockPromise},canBeUsed:function Xe(){return!!M()},type:"idb",averageResponseTime:function Ie(mt){return 2*mt.idb.fallbackInterval},microSeconds:u.mU};function Le(){var mt;if(typeof window>"u")return null;try{mt=window.localStorage,mt=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return mt}function st(mt){return"pubkey.broadcastChannel-"+mt}function Me(){var mt=Le();if(!mt)return!1;try{var kt="__broadcastchannel_check";mt.setItem(kt,"works"),mt.removeItem(kt)}catch{return!1}return!0}var ae={create:function me(mt,kt){if(kt=A(kt),!Me())throw new Error("BroadcastChannel: localstorage cannot be used");var rn=(0,u.zs)(),on=new C(kt.localstorage.removeTimeout),_n={channelName:mt,uuid:rn,eMIs:on};return _n.listener=function De(mt,kt){var rn=st(mt),on=function(sn){sn.key===rn&&kt(JSON.parse(sn.newValue))};return window.addEventListener("storage",on),on}(mt,function(sn){_n.messagesCallback&&sn.uuid!==rn&&(!sn.token||on.has(sn.token)||sn.data.time&&sn.data.time<_n.messagesCallbackTime||(on.add(sn.token),_n.messagesCallback(sn.data)))}),_n},close:function j(mt){!function Te(mt){window.removeEventListener("storage",mt)}(mt.listener)},onMessage:function te(mt,kt,rn){mt.messagesCallbackTime=rn,mt.messagesCallback=kt},postMessage:function K(mt,kt){return new Promise(function(rn){(0,u.yy)().then(function(){var on=st(mt.channelName),_n={token:(0,u.zs)(),time:Date.now(),data:kt,uuid:mt.uuid},sn=JSON.stringify(_n);Le().setItem(on,sn);var gn=document.createEvent("Event");gn.initEvent("storage",!0,!0),gn.key=on,gn.newValue=sn,window.dispatchEvent(gn),rn()})})},canBeUsed:Me,type:"localstorage",averageResponseTime:function pe(){var kt=navigator.userAgent.toLowerCase();return kt.includes("safari")&&!kt.includes("chrome")?240:120},microSeconds:u.mU},Ne=u.mU,Ze=new Set,Dt={create:function ot(mt){var kt={time:Ne(),name:mt,messagesCallback:null};return Ze.add(kt),kt},close:function k(mt){Ze.delete(mt)},onMessage:function ze(mt,kt){mt.messagesCallback=kt},postMessage:function ke(mt,kt){return new Promise(function(rn){return setTimeout(function(){Array.from(Ze).forEach(function(_n){_n.name===mt.name&&_n!==mt&&_n.messagesCallback&&_n.time<kt.time&&_n.messagesCallback(kt)}),rn()},5)})},canBeUsed:function Ge(){return!0},type:"simulate",averageResponseTime:function Re(){return 5},microSeconds:Ne},at=[W,se,ae],Vt=new Set,Yt=0,ut=function(kt,rn){this.id=Yt++,Vt.add(this),this.name=kt,this.options=A(rn),this.method=function Et(mt){var kt=[].concat(mt.methods,at).filter(Boolean);if(mt.type){if("simulate"===mt.type)return Dt;var rn=kt.find(function(_n){return _n.type===mt.type});if(rn)return rn;throw new Error("method-type "+mt.type+" not found")}mt.webWorkerSupport||(kt=kt.filter(function(_n){return"idb"!==_n.type}));var on=kt.find(function(_n){return _n.canBeUsed()});if(on)return on;throw new Error("No usable method found in "+JSON.stringify(at.map(function(_n){return _n.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function fn(mt){var kt=mt.method.create(mt.name,mt.options);(0,u.yL)(kt)?(mt._prepP=kt,kt.then(function(rn){mt._state=rn})):mt._state=kt}(this)};function Lt(mt,kt,rn){var _n={time:mt.method.microSeconds(),type:kt,data:rn};return(mt._prepP?mt._prepP:u.o).then(function(){var gn=mt.method.postMessage(mt._state,_n);return mt._uMP.add(gn),gn.catch().then(function(){return mt._uMP.delete(gn)}),gn})}function On(mt){return mt._addEL.message.length>0||mt._addEL.internal.length>0}function xn(mt,kt,rn){mt._addEL[kt].push(rn),function Hn(mt){if(!mt._iL&&On(mt)){var kt=function(_n){mt._addEL[_n.type].forEach(function(sn){_n.time>=sn.time&&sn.fn(_n.data)})},rn=mt.method.microSeconds();mt._prepP?mt._prepP.then(function(){mt._iL=!0,mt.method.onMessage(mt._state,kt,rn)}):(mt._iL=!0,mt.method.onMessage(mt._state,kt,rn))}}(mt)}function Fn(mt,kt,rn){mt._addEL[kt]=mt._addEL[kt].filter(function(on){return on!==rn}),function Xn(mt){if(mt._iL&&!On(mt)){mt._iL=!1;var kt=mt.method.microSeconds();mt.method.onMessage(mt._state,null,kt)}}(mt)}ut._pubkey=!0,ut.prototype={postMessage:function(kt){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(kt));return Lt(this,"message",kt)},postInternal:function(kt){return Lt(this,"internal",kt)},set onmessage(mt){var rn={time:this.method.microSeconds(),fn:mt};Fn(this,"message",this._onML),mt&&"function"==typeof mt?(this._onML=rn,xn(this,"message",rn)):this._onML=null},addEventListener:function(kt,rn){xn(this,kt,{time:this.method.microSeconds(),fn:rn})},removeEventListener:function(kt,rn){Fn(this,kt,this._addEL[kt].find(function(_n){return _n.fn===rn}))},close:function(){var kt=this;if(!this.closed){Vt.delete(this),this.closed=!0;var rn=this._prepP?this._prepP:u.o;return this._onML=null,this._addEL.message=[],rn.then(function(){return Promise.all(Array.from(kt._uMP))}).then(function(){return Promise.all(kt._befC.map(function(on){return on()}))}).then(function(){return kt.method.close(kt._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}}},7369(ct,E,a){"use strict";a.d(E,{Yi:()=>Le,Ir:()=>Y});const d="function"==typeof Buffer,$=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),S=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),W=((K=>{let De={};K.forEach((Te,me)=>De[Te]=me)})(S),String.fromCharCode.bind(String)),L=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),K=>K.replace(/=/g,"").replace(/[+\/]/g,De=>"+"==De?"-":"_")),U="function"==typeof btoa?K=>btoa(K):d?K=>Buffer.from(K,"binary").toString("base64"):K=>{let De,Te,me,j,te="";const Me=K.length%3;for(let pe=0;pe<K.length;){if((Te=K.charCodeAt(pe++))>255||(me=K.charCodeAt(pe++))>255||(j=K.charCodeAt(pe++))>255)throw new TypeError("invalid character found");De=Te<<16|me<<8|j,te+=S[De>>18&63]+S[De>>12&63]+S[De>>6&63]+S[63&De]}return Me?te.slice(0,Me-3)+"===".substring(Me):te},O=d?K=>Buffer.from(K).toString("base64"):K=>{let Te=[];for(let me=0,j=K.length;me<j;me+=4096)Te.push(W.apply(null,K.subarray(me,me+4096)));return U(Te.join(""))},F=K=>{if(K.length<2)return(De=K.charCodeAt(0))<128?K:De<2048?W(192|De>>>6)+W(128|63&De):W(224|De>>>12&15)+W(128|De>>>6&63)+W(128|63&De);var De=65536+1024*(K.charCodeAt(0)-55296)+(K.charCodeAt(1)-56320);return W(240|De>>>18&7)+W(128|De>>>12&63)+W(128|De>>>6&63)+W(128|63&De)},T=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,V=d?K=>Buffer.from(K,"utf8").toString("base64"):$?K=>O($.encode(K)):K=>U((K=>K.replace(T,F))(K));function Y(K){return((K,De=!1)=>De?L(V(K)):V(K))(K)}function Le(K){for(var De="",Te=new Uint8Array(K),me=Te.byteLength,j=0;j<me;j++)De+=String.fromCharCode(Te[j]);return btoa(De)}},7387(ct,E,a){"use strict";a.d(E,{A:()=>r});var u=a(3662);function r(d,D){d.prototype=Object.create(D.prototype),d.prototype.constructor=d,(0,u.A)(d,D)}},7438(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868),d=a(4195);E.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:P})=>u._`{allowedValue: ${P}}`},code(P){const{gen:S,data:_,$data:b,schemaCode:W,schema:C}=P;b||C&&"object"==typeof C?P.fail$data(u._`!${(0,r.useFunc)(S,d.default)}(${_}, ${W})`):P.fail(u._`${C} !== ${_}`)}}},7441(ct,E,a){"use strict";a.d(E,{X:()=>u});const u=r=>r&&"number"==typeof r.length&&"function"!=typeof r},7459(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(7719),r=a(8776),d=a(5432),D=new d.Name("fullFormats"),$=new d.Name("fastFormats"),P=(_,b={keywords:!0})=>{if(Array.isArray(b))return S(_,b,u.fullFormats,D),_;const[W,C]="fast"===b.mode?[u.fastFormats,$]:[u.fullFormats,D];return S(_,b.formats||u.formatNames,W,C),b.keywords&&(0,r.default)(_),_};function S(_,b,W,C){var L,I;null!==(L=(I=_.opts.code).formats)&&void 0!==L||(I.formats=d._`require("ajv-formats/dist/formats").${C}`);for(const A of b)_.addFormat(A,W[A])}P.get=(_,b="full")=>{const C=("fast"===b?u.fastFormats:u.fullFormats)[_];if(!C)throw new Error(`Unknown format "${_}"`);return C},ct.exports=E=P,Object.defineProperty(E,"__esModule",{value:!0}),E.default=P},7511(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.extendErrors=E.resetErrorsCount=E.reportExtraError=E.reportError=E.keyword$DataError=E.keywordError=void 0;const u=a(5432),r=a(7868),d=a(2682);function _(O,p){const F=O.const("err",p);O.if(u._`${d.default.vErrors} === null`,()=>O.assign(d.default.vErrors,u._`[${F}]`),u._`${d.default.vErrors}.push(${F})`),O.code(u._`${d.default.errors}++`)}function b(O,p){const{gen:F,validateName:T,schemaEnv:M}=O;M.$async?F.throw(u._`new ${O.ValidationError}(${p})`):(F.assign(u._`${T}.errors`,p),F.return(!1))}E.keywordError={message:({keyword:O})=>u.str`must pass "${O}" keyword validation`},E.keyword$DataError={message:({keyword:O,schemaType:p})=>p?u.str`"${O}" keyword must be ${p} ($data)`:u.str`"${O}" keyword is invalid ($data)`},E.reportError=function D(O,p=E.keywordError,F,T){const{it:M}=O,{gen:V,compositeRule:B,allErrors:q}=M,G=C(O,p,F);T??(B||q)?_(V,G):b(M,u._`[${G}]`)},E.reportExtraError=function $(O,p=E.keywordError,F){const{it:T}=O,{gen:M,compositeRule:V,allErrors:B}=T;_(M,C(O,p,F)),V||B||b(T,d.default.vErrors)},E.resetErrorsCount=function P(O,p){O.assign(d.default.errors,p),O.if(u._`${d.default.vErrors} !== null`,()=>O.if(p,()=>O.assign(u._`${d.default.vErrors}.length`,p),()=>O.assign(d.default.vErrors,null)))},E.extendErrors=function S({gen:O,keyword:p,schemaValue:F,data:T,errsCount:M,it:V}){if(void 0===M)throw new Error("ajv implementation error");const B=O.name("err");O.forRange("i",M,d.default.errors,q=>{O.const(B,u._`${d.default.vErrors}[${q}]`),O.if(u._`${B}.instancePath === undefined`,()=>O.assign(u._`${B}.instancePath`,(0,u.strConcat)(d.default.instancePath,V.errorPath))),O.assign(u._`${B}.schemaPath`,u.str`${V.errSchemaPath}/${p}`),V.opts.verbose&&(O.assign(u._`${B}.schema`,F),O.assign(u._`${B}.data`,T))})};const W={keyword:new u.Name("keyword"),schemaPath:new u.Name("schemaPath"),params:new u.Name("params"),propertyName:new u.Name("propertyName"),message:new u.Name("message"),schema:new u.Name("schema"),parentSchema:new u.Name("parentSchema")};function C(O,p,F){const{createErrors:T}=O.it;return!1===T?u._`{}`:function L(O,p,F={}){const{gen:T,it:M}=O,V=[I(M,F),A(O,F)];return function U(O,{params:p,message:F},T){const{keyword:M,data:V,schemaValue:B,it:q}=O,{opts:G,propertyName:Q,topSchemaRef:ne,schemaPath:ue}=q;T.push([W.keyword,M],[W.params,"function"==typeof p?p(O):p||u._`{}`]),G.messages&&T.push([W.message,"function"==typeof F?F(O):F]),G.verbose&&T.push([W.schema,B],[W.parentSchema,u._`${ne}${ue}`],[d.default.data,V]),Q&&T.push([W.propertyName,Q])}(O,p,V),T.object(...V)}(O,p,F)}function I({errorPath:O},{instancePath:p}){const F=p?u.str`${O}${(0,r.getErrorPath)(p,r.Type.Str)}`:O;return[d.default.instancePath,(0,u.strConcat)(d.default.instancePath,F)]}function A({keyword:O,it:{errSchemaPath:p}},{schemaPath:F,parentSchema:T}){let M=T?p:u.str`${p}/${O}`;return F&&(M=u.str`${M}${(0,r.getErrorPath)(F,r.Type.Str)}`),[W.schemaPath,M]}},7543(ct,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DiscrError=void 0;var a=function(u){return u.Tag="tag",u.Mapping="mapping",u}(a||(E.DiscrError=a={}))},7606(ct,E,a){"use strict";a.d(E,{a:()=>D});var u=a(6636),r=a(6434),d=a(6893),D={isEqual:(P,S,_)=>(P=$(P),S=$(S),(0,u.b)((0,d.on)(P),(0,d.on)(S))),resolve:P=>P.realMasterState};function $(P){return P._attachments||((P=(0,r.FD)(P))._attachments={}),P}},7624(ct,E,a){"use strict";a.d(E,{B3:()=>D,DZ:()=>_,F5:()=>b,ob:()=>P,px:()=>W,qk:()=>d,to:()=>r});var u=a(4671),r=(O=>(O[O.CLONE_OFF=0]="CLONE_OFF",O[O.CLONE_INPUT=1]="CLONE_INPUT",O[O.CLONE_OUTPUT=2]="CLONE_OUTPUT",O[O.CLONE_ALL=3]="CLONE_ALL",O))(r||{});class d{#e;#t;#n;constructor(p,F,T){this.#e=p,this.update(F,T)}static init(p,F,T){return p instanceof d?new d(p.#e,p.root??F,{...p.#n,...T,variables:Object.assign({},p.#n?.variables,T?.variables)}):new d(p,F,T)}update(p,F){this.#t=p;const T=Object.assign({},this.#n?.variables,F?.variables);return Object.keys(T).length?this.#n={...F,variables:T}:this.#n=F??{},this}getOptions(){return Object.freeze({...this.#e,context:P.from(this.#e.context)})}get root(){return this.#t}get local(){return this.#n}get idKey(){return this.#e.idKey}get collation(){return this.#e?.collation}get processingMode(){return this.#e?.processingMode||0}get useStrictMode(){return this.#e?.useStrictMode}get scriptEnabled(){return this.#e?.scriptEnabled}get useGlobalContext(){return this.#e?.useGlobalContext}get hashFunction(){return this.#e?.hashFunction}get collectionResolver(){return this.#e?.collectionResolver}get jsonSchemaValidator(){return this.#e?.jsonSchemaValidator}get variables(){return this.#e?.variables}get context(){return this.#e?.context}}function D(O){return O instanceof d?O.getOptions():Object.freeze({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:0,...O,context:O?.context?P.from(O?.context):P.init()})}class P{#e=new Map;constructor(){}static init(){return new P}static from(p){const F=P.init();return(0,u.gD)(p)||p.#e.forEach((T,M)=>F.addOperators(M,T)),F}addOperators(p,F){this.#e.has(p)||this.#e.set(p,{});for(const[T,M]of Object.entries(F))this.getOperator(p,T)||(this.#e.get(p)[T]=M);return this}getOperator(p,F){return(this.#e.get(p)??{})[F]??null}addAccumulatorOps(p){return this.addOperators("accumulator",p)}addExpressionOps(p){return this.addOperators("expression",p)}addQueryOps(p){return this.addOperators("query",p)}addPipelineOps(p){return this.addOperators("pipeline",p)}addProjectionOps(p){return this.addOperators("projection",p)}addWindowOps(p){return this.addOperators("window",p)}}const S=P.init();function _(O,p){for(const[F,T]of Object.entries(p)){(0,u.vA)((0,u.Tn)(T)&&(0,u.Zo)(F),`'${F}' is not a valid operator`);const M=b(O,F,null);(0,u.vA)(!M||T===M,`${F} already exists for '${O}' operators. Cannot change operator function once registered.`)}switch(O){case"accumulator":S.addAccumulatorOps(p);break;case"expression":S.addExpressionOps(p);break;case"pipeline":S.addPipelineOps(p);break;case"projection":S.addProjectionOps(p);break;case"query":S.addQueryOps(p);break;case"window":S.addWindowOps(p)}}function b(O,p,F){const{context:T,useGlobalContext:M}=F||{},V=T?T.getOperator(O,p):null;return!V&&M?S.getOperator(O,p):V}function W(O,p,F,T){const M=d.init(T,O);return F&&(0,u.Zo)(F)?I(O,p,F,M):L(O,p,M)}const C=["$$ROOT","$$CURRENT","$$REMOVE","$$NOW"];function L(O,p,F){if((0,u.Kg)(p)&&p.length>0&&"$"===p[0]){if(A.includes(p))return p;let T=F.root;const M=p.split(".");if(C.includes(M[0])){switch(M[0]){case"$$ROOT":break;case"$$CURRENT":T=O;break;case"$$REMOVE":T=void 0;break;case"$$NOW":T=new Date}p=p.slice(M[0].length+1)}else if("$$"===M[0].slice(0,2)){T=Object.assign({},F.variables,{this:O},F?.local?.variables);const V=M[0].slice(2);(0,u.vA)((0,u.zy)(T,V),`Use of undefined variable: ${V}`),p=p.slice(2)}else p=p.slice(1);return""===p?T:(0,u.hd)(T,p)}if((0,u.cy)(p))return p.map(T=>L(O,T,F));if((0,u.Gv)(p)){const T={},M=Object.entries(p);for(const[V,B]of M){if((0,u.Zo)(V))return(0,u.vA)(1==M.length,"expression must have single operator."),I(O,B,V,F);T[V]=L(O,B,F)}return T}return p}function I(O,p,F,T){const M=b("expression",F,T);if(M)return M(O,p,T);const V=b("accumulator",F,T);return(0,u.vA)(!!V,`accumulator '${F}' is not registered.`),(0,u.cy)(O)||(O=L(O,p,T),p=null),(0,u.vA)((0,u.cy)(O),`arguments must resolve to array for ${F}.`),V(O,p,T)}const A=["$$KEEP","$$PRUNE","$$DESCEND"]},7673(ct,E,a){"use strict";a.d(E,{of:()=>d});var u=a(9326),r=a(6648);function d(...D){const $=(0,u.lI)(D);return(0,r.H)(D,$)}},7695(ct,E,a){"use strict";a.d(E,{DD:()=>S,FR:()=>W,mg:()=>_,qV:()=>b});var u=a(467),r=a(1885),d=a(6893),D=a(6568),$=a(2060),P=a(4552),S="RxReplicationProtocolMetaData";function _(L,I){var A=(0,r.Hq)(L),U={title:S,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:L.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:A+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:A>4?A:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:L.properties},isResolvedConflict:{type:"string"}},keyCompression:L.keyCompression,required:["id","isCheckpoint","itemId"]};return I&&(U.encrypted=["docData"]),(0,r.Ud)(U)}function b(L,I){return L.input.metaInstance.findDocumentsById(I.map(A=>(0,r.U)(L.input.metaInstance.schema,{itemId:A,isCheckpoint:"0"})),!0).then(A=>{var U={};return Object.values(A).forEach(O=>{U[O.itemId]={docData:O.docData,metaDocument:O}}),U})}function W(L,I,A,U){return C.apply(this,arguments)}function C(){return(C=(0,u.A)(function*(L,I,A,U){var O=I[L.primaryPath],p=A?(0,d.C9)(A):{id:"",isCheckpoint:"0",itemId:O,docData:I,_attachments:{},_deleted:!1,_rev:(0,$.Fq)(),_meta:{lwt:0}};return p.docData=I,U&&(p.isResolvedConflict=U),p._meta.lwt=(0,P.t)(),p.id=(0,r.U)(L.input.metaInstance.schema,p),p._rev=(0,D.CM)(yield L.checkpointKey,A),{previous:A,document:p}})).apply(this,arguments)}},7705(ct,E,a){"use strict";a.d(E,{ES_:()=>I,HJs:()=>Qi,Hbi:()=>zr,Jn2:()=>K,L39:()=>Pn,MKu:()=>mi,SmG:()=>On,_q3:()=>Zr,fpN:()=>ri,gRc:()=>Xn,hFB:()=>T,oH4:()=>Dt});var u=a(375),r=a(5824),d=a(5547),D=a(8359);const $=Symbol("InputSignalNode#UNSET"),P={...r.s0,transformFn:void 0,applyValueToInputSignal(Se,he){(0,r.j2)(Se,he)}};function _(Se,he){const be=Object.create(P);function it(){if((0,r.mK)(be),be.value===$)throw new u.buA(-950,null);return be.value}return be.value=Se,be.transformFn=he?.transform,it[r.bh]=be,it}class I{attributeName;constructor(he){this.attributeName=he}__NG_ELEMENT_ID__=()=>(0,d.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function p(Se,he){return _(Se,he)}const T=(p.required=function F(Se){return _($,Se)},p);let _e=(()=>{class Se{zone=(0,u.WQX)(u.SKi);changeDetectionScheduler=(0,u.WQX)(u.hk6);applicationRef=(0,u.WQX)(d.o8S);applicationErrorHandler=(0,u.WQX)(u.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(be){this.applicationErrorHandler(be)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(it){return new(it||Se)};static \u0275prov=(0,u.jDH)({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})();const Le=new u.nKC("",{factory:()=>!1});function K(Se){const he=Se?.scheduleInRootZone,be=function st({ngZoneFactory:Se,scheduleInRootZone:he}){return Se??=()=>new u.SKi({...De(),scheduleInRootZone:he}),[{provide:u.Evm,useValue:!1},{provide:u.SKi,useFactory:Se},{provide:u.Z63,multi:!0,useFactory:()=>{const be=(0,u.WQX)(_e,{optional:!0});return()=>be.initialize()}},{provide:u.Z63,multi:!0,useFactory:()=>{const be=(0,u.WQX)(Te);return()=>{be.initialize()}}},{provide:u.AQb,useValue:he??u.kHH}]}({ngZoneFactory:()=>{const it=De(Se);return it.scheduleInRootZone=he,it.shouldCoalesceEventChangeDetection&&(0,d._jY)("NgZone_CoalesceEvent"),new u.SKi(it)},scheduleInRootZone:he});return(0,u.EmA)([{provide:Le,useValue:!0},be])}function De(Se){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:Se?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:Se?.runCoalescing??!1}}let Te=(()=>{class Se{subscription=new D.yU;initialized=!1;zone=(0,u.WQX)(u.SKi);pendingTasks=(0,u.WQX)(u.rev);initialize(){if(this.initialized)return;this.initialized=!0;let be=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(be=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{u.SKi.assertNotInAngularZone(),queueMicrotask(()=>{null!==be&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(be),be=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{u.SKi.assertInAngularZone(),be??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(it){return new(it||Se)};static \u0275prov=(0,u.jDH)({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})();const ae=new u.nKC(""),Ne=new u.nKC("");function Ce(Se){return!Se.moduleRef}let ot;function k(){ot=J}function J(Se,he){const be=Se.injector.get(d.o8S);if(Se._bootstrapComponents.length>0)Se._bootstrapComponents.forEach(it=>be.bootstrap(it));else{if(!Se.instance.ngDoBootstrap)throw new u.buA(-403,!1);Se.instance.ngDoBootstrap(be)}he.push(Se)}let ze=(()=>{class Se{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(be){this._injector=be}bootstrapModuleFactory(be,it){const xt=[(0,d.rpG)(),...it?.applicationProviders??[],u.gv8],Jt=(0,d.VzW)(be.moduleType,this.injector,xt);return k(),function Ze(Se){const he=Ce(Se)?Se.r3Injector:Se.moduleRef.injector,be=he.get(u.SKi);return be.run(()=>{Ce(Se)?Se.r3Injector.resolveInjectorInitializers():Se.moduleRef.resolveInjectorInitializers();const it=he.get(u.ZTf);let xt;if(be.runOutsideAngular(()=>{xt=be.onError.subscribe({next:it})}),Ce(Se)){const Jt=()=>he.destroy(),hn=Se.platformInjector.get(ae);hn.add(Jt),he.onDestroy(()=>{xt.unsubscribe(),hn.delete(Jt)})}else{const Jt=()=>Se.moduleRef.destroy(),hn=Se.platformInjector.get(ae);hn.add(Jt),Se.moduleRef.onDestroy(()=>{(0,d.TFI)(Se.allPlatformModules,Se.moduleRef),xt.unsubscribe(),hn.delete(Jt)})}return function ke(Se,he,be){try{const it=be();return(0,d.yLl)(it)?it.catch(xt=>{throw he.runOutsideAngular(()=>Se(xt)),xt}):it}catch(it){throw he.runOutsideAngular(()=>Se(it)),it}}(it,be,()=>{const Jt=he.get(u.rev),hn=Jt.add(),Tn=he.get(d.H1s);return Tn.runInitializers(),Tn.donePromise.then(()=>{const jn=he.get(d.xe9,d.DkB);if((0,d.e6s)(jn||d.DkB),!he.get(Ne,!0))return Ce(Se)?he.get(d.o8S):(Se.allPlatformModules.push(Se.moduleRef),Se.moduleRef);if(Ce(Se)){const cr=he.get(d.o8S);return void 0!==Se.rootComponent&&cr.bootstrap(Se.rootComponent),cr}return ot?.(Se.moduleRef,Se.allPlatformModules),Se.moduleRef}).finally(()=>{Jt.remove(hn)})})})}({moduleRef:Jt,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(be,it=[]){const xt=(0,d.lJT)({},it);return k(),function ce(Se,he,be){const it=new d.Co$(be);return Promise.resolve(it)}(0,0,be).then(Jt=>this.bootstrapModuleFactory(Jt,xt))}onDestroy(be){this._destroyListeners.push(be)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new u.buA(404,!1);this._modules.slice().forEach(it=>it.destroy()),this._destroyListeners.forEach(it=>it());const be=this._injector.get(ae,null);be&&(be.forEach(it=>it()),be.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(it){return new(it||Se)((0,u.KVO)(u.zZn))};static \u0275prov=(0,u.jDH)({token:Se,factory:Se.\u0275fac,providedIn:"platform"})}return Se})(),Ge=null;function Dt(Se,he,be=[]){const it=`Platform: ${he}`,xt=new u.nKC(it);return(Jt=[])=>{let hn=Vt();if(!hn){const Tn=[...be,...Jt,{provide:xt,useValue:!0}];hn=Se?.(Tn)??function Re(Se){if(Vt())throw new u.buA(400,!1);(0,d.pl0)(),(0,d.ypd)(),Ge=Se;const he=Se.get(ze);return function Ut(Se){const he=Se.get(d.PLl,null);(0,u.N4e)(Se,()=>{he?.forEach(be=>be())})}(Se),he}(function at(Se=[],he){return u.zZn.create({name:he,providers:[{provide:u.GBX,useValue:"platform"},{provide:ae,useValue:new Set([()=>Ge=null])},...Se]})}(Tn,it))}return function Et(){const he=Vt();if(!he)throw new u.buA(-401,!1);return he}()}}function Vt(){return Ge?.get(ze)??null}function On(){}let Xn=(()=>class Se{static __NG_ELEMENT_ID__=mt})();function mt(Se){return function kt(Se,he,be){if((0,u.Qs1)(Se)&&!be){const it=(0,u.KdJ)(Se.index,he);return new d.NCX(it,it)}return 175&Se.type?new d.NCX(he[u.b5C],he):null}((0,u.Mx4)(),(0,u.OAn)(),!(16&~Se))}class _n{constructor(){}supports(he){return(0,d.ozJ)(he)}create(he){return new gn(he)}}const sn=(Se,he)=>he;class gn{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(he){this._trackByFn=he||sn}forEachItem(he){let be;for(be=this._itHead;null!==be;be=be._next)he(be)}forEachOperation(he){let be=this._itHead,it=this._removalsHead,xt=0,Jt=null;for(;be||it;){const hn=!it||be&&be.currentIndex<Tr(it,xt,Jt)?be:it,Tn=Tr(hn,xt,Jt),jn=hn.currentIndex;if(hn===it)xt--,it=it._nextRemoved;else if(be=be._next,null==hn.previousIndex)xt++;else{Jt||(Jt=[]);const Jn=Tn-xt,cr=jn-xt;if(Jn!=cr){for(let Sr=0;Sr<Jn;Sr++){const Ar=Sr<Jt.length?Jt[Sr]:Jt[Sr]=0,Yr=Ar+Sr;cr<=Yr&&Yr<Jn&&(Jt[Sr]=Ar+1)}Jt[hn.previousIndex]=cr-Jn}}Tn!==jn&&he(hn,Tn,jn)}}forEachPreviousItem(he){let be;for(be=this._previousItHead;null!==be;be=be._nextPrevious)he(be)}forEachAddedItem(he){let be;for(be=this._additionsHead;null!==be;be=be._nextAdded)he(be)}forEachMovedItem(he){let be;for(be=this._movesHead;null!==be;be=be._nextMoved)he(be)}forEachRemovedItem(he){let be;for(be=this._removalsHead;null!==be;be=be._nextRemoved)he(be)}forEachIdentityChange(he){let be;for(be=this._identityChangesHead;null!==be;be=be._nextIdentityChange)he(be)}diff(he){if(null==he&&(he=[]),!(0,d.ozJ)(he))throw new u.buA(900,!1);return this.check(he)?this:null}onDestroy(){}check(he){this._reset();let xt,Jt,hn,be=this._itHead,it=!1;if(Array.isArray(he)){this.length=he.length;for(let Tn=0;Tn<this.length;Tn++)Jt=he[Tn],hn=this._trackByFn(Tn,Jt),null!==be&&Object.is(be.trackById,hn)?(it&&(be=this._verifyReinsertion(be,Jt,hn,Tn)),Object.is(be.item,Jt)||this._addIdentityChange(be,Jt)):(be=this._mismatch(be,Jt,hn,Tn),it=!0),be=be._next}else xt=0,(0,d.utN)(he,Tn=>{hn=this._trackByFn(xt,Tn),null!==be&&Object.is(be.trackById,hn)?(it&&(be=this._verifyReinsertion(be,Tn,hn,xt)),Object.is(be.item,Tn)||this._addIdentityChange(be,Tn)):(be=this._mismatch(be,Tn,hn,xt),it=!0),be=be._next,xt++}),this.length=xt;return this._truncate(be),this.collection=he,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let he;for(he=this._previousItHead=this._itHead;null!==he;he=he._next)he._nextPrevious=he._next;for(he=this._additionsHead;null!==he;he=he._nextAdded)he.previousIndex=he.currentIndex;for(this._additionsHead=this._additionsTail=null,he=this._movesHead;null!==he;he=he._nextMoved)he.previousIndex=he.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(he,be,it,xt){let Jt;return null===he?Jt=this._itTail:(Jt=he._prev,this._remove(he)),null!==(he=null===this._unlinkedRecords?null:this._unlinkedRecords.get(it,null))?(Object.is(he.item,be)||this._addIdentityChange(he,be),this._reinsertAfter(he,Jt,xt)):null!==(he=null===this._linkedRecords?null:this._linkedRecords.get(it,xt))?(Object.is(he.item,be)||this._addIdentityChange(he,be),this._moveAfter(he,Jt,xt)):he=this._addAfter(new Ir(be,it),Jt,xt),he}_verifyReinsertion(he,be,it,xt){let Jt=null===this._unlinkedRecords?null:this._unlinkedRecords.get(it,null);return null!==Jt?he=this._reinsertAfter(Jt,he._prev,xt):he.currentIndex!=xt&&(he.currentIndex=xt,this._addToMoves(he,xt)),he}_truncate(he){for(;null!==he;){const be=he._next;this._addToRemovals(this._unlink(he)),he=be}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(he,be,it){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(he);const xt=he._prevRemoved,Jt=he._nextRemoved;return null===xt?this._removalsHead=Jt:xt._nextRemoved=Jt,null===Jt?this._removalsTail=xt:Jt._prevRemoved=xt,this._insertAfter(he,be,it),this._addToMoves(he,it),he}_moveAfter(he,be,it){return this._unlink(he),this._insertAfter(he,be,it),this._addToMoves(he,it),he}_addAfter(he,be,it){return this._insertAfter(he,be,it),this._additionsTail=null===this._additionsTail?this._additionsHead=he:this._additionsTail._nextAdded=he,he}_insertAfter(he,be,it){const xt=null===be?this._itHead:be._next;return he._next=xt,he._prev=be,null===xt?this._itTail=he:xt._prev=he,null===be?this._itHead=he:be._next=he,null===this._linkedRecords&&(this._linkedRecords=new Er),this._linkedRecords.put(he),he.currentIndex=it,he}_remove(he){return this._addToRemovals(this._unlink(he))}_unlink(he){null!==this._linkedRecords&&this._linkedRecords.remove(he);const be=he._prev,it=he._next;return null===be?this._itHead=it:be._next=it,null===it?this._itTail=be:it._prev=be,he}_addToMoves(he,be){return he.previousIndex===be||(this._movesTail=null===this._movesTail?this._movesHead=he:this._movesTail._nextMoved=he),he}_addToRemovals(he){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Er),this._unlinkedRecords.put(he),he.currentIndex=null,he._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=he,he._prevRemoved=null):(he._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=he),he}_addIdentityChange(he,be){return he.item=be,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=he:this._identityChangesTail._nextIdentityChange=he,he}}class Ir{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(he,be){this.item=he,this.trackById=be}}class fr{_head=null;_tail=null;add(he){null===this._head?(this._head=this._tail=he,he._nextDup=null,he._prevDup=null):(this._tail._nextDup=he,he._prevDup=this._tail,he._nextDup=null,this._tail=he)}get(he,be){let it;for(it=this._head;null!==it;it=it._nextDup)if((null===be||be<=it.currentIndex)&&Object.is(it.trackById,he))return it;return null}remove(he){const be=he._prevDup,it=he._nextDup;return null===be?this._head=it:be._nextDup=it,null===it?this._tail=be:it._prevDup=be,null===this._head}}class Er{map=new Map;put(he){const be=he.trackById;let it=this.map.get(be);it||(it=new fr,this.map.set(be,it)),it.add(he)}get(he,be){const xt=this.map.get(he);return xt?xt.get(he,be):null}remove(he){const be=he.trackById;return this.map.get(be).remove(he)&&this.map.delete(be),he}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tr(Se,he,be){const it=Se.previousIndex;if(null===it)return it;let xt=0;return be&&it<be.length&&(xt=be[it]),it+he+xt}class Hr{constructor(){}supports(he){return he instanceof Map||(0,d.vDg)(he)}create(){return new br}}class br{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(he){let be;for(be=this._mapHead;null!==be;be=be._next)he(be)}forEachPreviousItem(he){let be;for(be=this._previousMapHead;null!==be;be=be._nextPrevious)he(be)}forEachChangedItem(he){let be;for(be=this._changesHead;null!==be;be=be._nextChanged)he(be)}forEachAddedItem(he){let be;for(be=this._additionsHead;null!==be;be=be._nextAdded)he(be)}forEachRemovedItem(he){let be;for(be=this._removalsHead;null!==be;be=be._nextRemoved)he(be)}diff(he){if(he){if(!(he instanceof Map||(0,d.vDg)(he)))throw new u.buA(900,!1)}else he=new Map;return this.check(he)?this:null}onDestroy(){}check(he){this._reset();let be=this._mapHead;if(this._appendAfter=null,this._forEach(he,(it,xt)=>{if(be&&be.key===xt)this._maybeAddToChanges(be,it),this._appendAfter=be,be=be._next;else{const Jt=this._getOrCreateRecordForKey(xt,it);be=this._insertBeforeOrAppend(be,Jt)}}),be){be._prev&&(be._prev._next=null),this._removalsHead=be;for(let it=be;null!==it;it=it._nextRemoved)it===this._mapHead&&(this._mapHead=null),this._records.delete(it.key),it._nextRemoved=it._next,it.previousValue=it.currentValue,it.currentValue=null,it._prev=null,it._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(he,be){if(he){const it=he._prev;return be._next=he,be._prev=it,he._prev=be,it&&(it._next=be),he===this._mapHead&&(this._mapHead=be),this._appendAfter=he,he}return this._appendAfter?(this._appendAfter._next=be,be._prev=this._appendAfter):this._mapHead=be,this._appendAfter=be,null}_getOrCreateRecordForKey(he,be){if(this._records.has(he)){const xt=this._records.get(he);this._maybeAddToChanges(xt,be);const Jt=xt._prev,hn=xt._next;return Jt&&(Jt._next=hn),hn&&(hn._prev=Jt),xt._next=null,xt._prev=null,xt}const it=new Kr(he);return this._records.set(he,it),it.currentValue=be,this._addToAdditions(it),it}_reset(){if(this.isDirty){let he;for(this._previousMapHead=this._mapHead,he=this._previousMapHead;null!==he;he=he._next)he._nextPrevious=he._next;for(he=this._changesHead;null!==he;he=he._nextChanged)he.previousValue=he.currentValue;for(he=this._additionsHead;null!=he;he=he._nextAdded)he.previousValue=he.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(he,be){Object.is(be,he.currentValue)||(he.previousValue=he.currentValue,he.currentValue=be,this._addToChanges(he))}_addToAdditions(he){null===this._additionsHead?this._additionsHead=this._additionsTail=he:(this._additionsTail._nextAdded=he,this._additionsTail=he)}_addToChanges(he){null===this._changesHead?this._changesHead=this._changesTail=he:(this._changesTail._nextChanged=he,this._changesTail=he)}_forEach(he,be){he instanceof Map?he.forEach(be):Object.keys(he).forEach(it=>be(he[it],it))}}class Kr{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(he){this.key=he}}function kr(){return new Zr([new _n])}let Zr=(()=>{class Se{factories;static \u0275prov=(0,u.jDH)({token:Se,providedIn:"root",factory:kr});constructor(be){this.factories=be}static create(be,it){if(null!=it){const xt=it.factories.slice();be=be.concat(xt)}return new Se(be)}static extend(be){return{provide:Se,useFactory:()=>{const it=(0,u.WQX)(Se,{optional:!0,skipSelf:!0});return Se.create(be,it||kr())}}}find(be){const it=this.factories.find(xt=>xt.supports(be));if(null!=it)return it;throw new u.buA(901,!1)}}return Se})();function di(){return new mi([new Hr])}let mi=(()=>{class Se{static \u0275prov=(0,u.jDH)({token:Se,providedIn:"root",factory:di});factories;constructor(be){this.factories=be}static create(be,it){if(it){const xt=it.factories.slice();be=be.concat(xt)}return new Se(be)}static extend(be){return{provide:Se,useFactory:()=>{const it=(0,u.WQX)(Se,{optional:!0,skipSelf:!0});return Se.create(be,it||di())}}}find(be){const it=this.factories.find(xt=>xt.supports(be));if(it)return it;throw new u.buA(901,!1)}}return Se})();const ri=Dt(null,"core",[]);let zr=(()=>{class Se{constructor(be){}static \u0275fac=function(it){return new(it||Se)((0,u.KVO)(d.o8S))};static \u0275mod=(0,d.$C)({type:Se});static \u0275inj=(0,u.G2t)({})}return Se})();function Pn(Se){return"boolean"==typeof Se?Se:null!=Se&&"false"!==Se}function Qi(Se){const he=(0,u.xUg)(Se);if(!he)return null;const be=new d.eHC(he);return{get selector(){return be.selector},get type(){return be.componentType},get inputs(){return be.inputs},get outputs(){return be.outputs},get ngContentSelectors(){return be.ngContentSelectors},get isStandalone(){return he.standalone},get isSignal(){return he.signals}}}},7707(ct,E,a){"use strict";a.d(E,{Ms:()=>O,vU:()=>L});var u=a(8071),r=a(8359),d=a(1026),D=a(5334),$=a(5343);const P=b("C",void 0,void 0);function b(V,B,q){return{kind:V,value:B,error:q}}var W=a(9270),C=a(9786);class L extends r.yU{constructor(B){super(),this.isStopped=!1,B?(this.destination=B,(0,r.Uv)(B)&&B.add(this)):this.destination=M}static create(B,q,G){return new O(B,q,G)}next(B){this.isStopped?T(function _(V){return b("N",V,void 0)}(B),this):this._next(B)}error(B){this.isStopped?T(function S(V){return b("E",void 0,V)}(B),this):(this.isStopped=!0,this._error(B))}complete(){this.isStopped?T(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(B){this.destination.next(B)}_error(B){try{this.destination.error(B)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function A(V,B){return I.call(V,B)}class U{constructor(B){this.partialObserver=B}next(B){const{partialObserver:q}=this;if(q.next)try{q.next(B)}catch(G){p(G)}}error(B){const{partialObserver:q}=this;if(q.error)try{q.error(B)}catch(G){p(G)}else p(B)}complete(){const{partialObserver:B}=this;if(B.complete)try{B.complete()}catch(q){p(q)}}}class O extends L{constructor(B,q,G){let Q;if(super(),(0,u.T)(B)||!B)Q={next:B??void 0,error:q??void 0,complete:G??void 0};else{let ne;this&&d.$.useDeprecatedNextContext?(ne=Object.create(B),ne.unsubscribe=()=>this.unsubscribe(),Q={next:B.next&&A(B.next,ne),error:B.error&&A(B.error,ne),complete:B.complete&&A(B.complete,ne)}):Q=B}this.destination=new U(Q)}}function p(V){d.$.useDeprecatedSynchronousErrorHandling?(0,C.l)(V):(0,D.m)(V)}function T(V,B){const{onStoppedNotification:q}=d.$;q&&W.f.setTimeout(()=>q(V,B))}const M={closed:!0,next:$.l,error:function F(V){throw V},complete:$.l}},7719(ct,E){"use strict";function a(ne,ue){return{validate:ne,compare:ue}}Object.defineProperty(E,"__esModule",{value:!0}),E.formatNames=E.fastFormats=E.fullFormats=void 0,E.fullFormats={date:a(D,$),time:a(S(!0),_),"date-time":a(C(!0),L),"iso-time":a(S(),b),"iso-date-time":a(C(),I),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function O(ne){return A.test(ne)&&U.test(ne)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function Q(ne){if(G.test(ne))return!1;try{return new RegExp(ne),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function F(ne){return p.lastIndex=0,p.test(ne)},int32:{type:"number",validate:function V(ne){return Number.isInteger(ne)&&ne<=2147483647&&ne>=-2147483648}},int64:{type:"number",validate:function B(ne){return Number.isInteger(ne)}},float:{type:"number",validate:q},double:{type:"number",validate:q},password:!0,binary:!0},E.fastFormats={...E.fullFormats,date:a(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,$),time:a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),"date-time":a(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,L),"iso-time":a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,b),"iso-date-time":a(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,I),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},E.formatNames=Object.keys(E.fullFormats);const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,d=[0,31,28,31,30,31,30,31,31,30,31,30,31];function D(ne){const ue=r.exec(ne);if(!ue)return!1;const Oe=+ue[2],nt=+ue[3];return Oe>=1&&Oe<=12&&nt>=1&&nt<=(2===Oe&&function u(ne){return ne%4==0&&(ne%100!=0||ne%400==0)}(+ue[1])?29:d[Oe])}function $(ne,ue){if(ne&&ue)return ne>ue?1:ne<ue?-1:0}const P=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function S(ne){return function(ve){const Oe=P.exec(ve);if(!Oe)return!1;const nt=+Oe[1],ge=+Oe[2],xe=+Oe[3],et="-"===Oe[5]?-1:1,Ke=+(Oe[6]||0),Xe=+(Oe[7]||0);if(Ke>23||Xe>59||ne&&!Oe[4])return!1;if(nt<=23&&ge<=59&&xe<60)return!0;const Ie=ge-Xe*et,se=nt-Ke*et-(Ie<0?1:0);return(23===se||-1===se)&&(59===Ie||-1===Ie)&&xe<61}}function _(ne,ue){if(!ne||!ue)return;const ve=new Date("2020-01-01T"+ne).valueOf(),Oe=new Date("2020-01-01T"+ue).valueOf();return ve&&Oe?ve-Oe:void 0}function b(ne,ue){if(!ne||!ue)return;const ve=P.exec(ne),Oe=P.exec(ue);return ve&&Oe?(ne=ve[1]+ve[2]+ve[3])>(ue=Oe[1]+Oe[2]+Oe[3])?1:ne<ue?-1:0:void 0}const W=/t|\s/i;function C(ne){const ue=S(ne);return function(Oe){const nt=Oe.split(W);return 2===nt.length&&D(nt[0])&&ue(nt[1])}}function L(ne,ue){if(!ne||!ue)return;const ve=new Date(ne).valueOf(),Oe=new Date(ue).valueOf();return ve&&Oe?ve-Oe:void 0}function I(ne,ue){if(!ne||!ue)return;const[ve,Oe]=ne.split(W),[nt,ge]=ue.split(W),xe=$(ve,nt);return void 0!==xe?xe||_(Oe,ge):void 0}const A=/\/|:/,U=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function q(){return!0}const G=/[^\\]\\Z/},7762(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.resolveSchema=E.getCompilingSchema=E.resolveRef=E.compileSchema=E.SchemaEnv=void 0;const u=a(5432),r=a(9857),d=a(2682),D=a(8222),$=a(7868),P=a(7157);class S{constructor(F){var T;let M;this.refs={},this.dynamicAnchors={},"object"==typeof F.schema&&(M=F.schema),this.schema=F.schema,this.schemaId=F.schemaId,this.root=F.root||this,this.baseId=null!==(T=F.baseId)&&void 0!==T?T:(0,D.normalizeId)(M?.[F.schemaId||"$id"]),this.schemaPath=F.schemaPath,this.localRefs=F.localRefs,this.meta=F.meta,this.$async=M?.$async,this.refs={}}}function _(p){const F=C.call(this,p);if(F)return F;const T=(0,D.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:M,lines:V}=this.opts.code,{ownProperties:B}=this.opts,q=new u.CodeGen(this.scope,{es5:M,lines:V,ownProperties:B});let G;p.$async&&(G=q.scopeValue("Error",{ref:r.default,code:u._`require("ajv/dist/runtime/validation_error").default`}));const Q=q.scopeName("validate");p.validateName=Q;const ne={gen:q,allErrors:this.opts.allErrors,data:d.default.data,parentData:d.default.parentData,parentDataProperty:d.default.parentDataProperty,dataNames:[d.default.data],dataPathArr:[u.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:q.scopeValue("schema",!0===this.opts.code.source?{ref:p.schema,code:(0,u.stringify)(p.schema)}:{ref:p.schema}),validateName:Q,ValidationError:G,schema:p.schema,schemaEnv:p,rootId:T,baseId:p.baseId||T,schemaPath:u.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:u._`""`,opts:this.opts,self:this};let ue;try{this._compilations.add(p),(0,P.validateFunctionCode)(ne),q.optimize(this.opts.code.optimize);const ve=q.toString();ue=`${q.scopeRefs(d.default.scope)}return ${ve}`,this.opts.code.process&&(ue=this.opts.code.process(ue,p));const nt=new Function(`${d.default.self}`,`${d.default.scope}`,ue)(this,this.scope.get());if(this.scope.value(Q,{ref:nt}),nt.errors=null,nt.schema=p.schema,nt.schemaEnv=p,p.$async&&(nt.$async=!0),!0===this.opts.code.source&&(nt.source={validateName:Q,validateCode:ve,scopeValues:q._values}),this.opts.unevaluated){const{props:ge,items:xe}=ne;nt.evaluated={props:ge instanceof u.Name?void 0:ge,items:xe instanceof u.Name?void 0:xe,dynamicProps:ge instanceof u.Name,dynamicItems:xe instanceof u.Name},nt.source&&(nt.source.evaluated=(0,u.stringify)(nt.evaluated))}return p.validate=nt,p}catch(ve){throw delete p.validate,delete p.validateName,ue&&this.logger.error("Error compiling schema, function code:",ue),ve}finally{this._compilations.delete(p)}}function W(p){return(0,D.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:_.call(this,p)}function C(p){for(const F of this._compilations)if(L(F,p))return F}function L(p,F){return p.schema===F.schema&&p.root===F.root&&p.baseId===F.baseId}function I(p,F){let T;for(;"string"==typeof(T=this.refs[F]);)F=T;return T||this.schemas[F]||A.call(this,p,F)}function A(p,F){const T=this.opts.uriResolver.parse(F),M=(0,D._getFullPath)(this.opts.uriResolver,T);let V=(0,D.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&M===V)return O.call(this,T,p);const B=(0,D.normalizeId)(M),q=this.refs[B]||this.schemas[B];if("string"==typeof q){const G=A.call(this,p,q);return"object"!=typeof G?.schema?void 0:O.call(this,T,G)}if("object"==typeof q?.schema){if(q.validate||_.call(this,q),B===(0,D.normalizeId)(F)){const{schema:G}=q,{schemaId:Q}=this.opts,ne=G[Q];return ne&&(V=(0,D.resolveUrl)(this.opts.uriResolver,V,ne)),new S({schema:G,schemaId:Q,root:p,baseId:V})}return O.call(this,T,q)}}E.SchemaEnv=S,E.compileSchema=_,E.resolveRef=function b(p,F,T){var M;T=(0,D.resolveUrl)(this.opts.uriResolver,F,T);const V=p.refs[T];if(V)return V;let B=I.call(this,p,T);if(void 0===B){const q=null===(M=p.localRefs)||void 0===M?void 0:M[T],{schemaId:G}=this.opts;q&&(B=new S({schema:q,schemaId:G,root:p,baseId:F}))}return void 0!==B?p.refs[T]=W.call(this,B):void 0},E.getCompilingSchema=C,E.resolveSchema=A;const U=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function O(p,{baseId:F,schema:T,root:M}){var V;if("/"!==(null===(V=p.fragment)||void 0===V?void 0:V[0]))return;for(const G of p.fragment.slice(1).split("/")){if("boolean"==typeof T)return;const Q=T[(0,$.unescapeFragment)(G)];if(void 0===Q)return;const ne="object"==typeof(T=Q)&&T[this.opts.schemaId];!U.has(G)&&ne&&(F=(0,D.resolveUrl)(this.opts.uriResolver,F,ne))}let B;if("boolean"!=typeof T&&T.$ref&&!(0,$.schemaHasRulesButRef)(T,this.RULES)){const G=(0,D.resolveUrl)(this.opts.uriResolver,F,T.$ref);B=A.call(this,M,G)}const{schemaId:q}=this.opts;return B=B||new S({schema:T,schemaId:q,root:M,baseId:F}),B.schema!==B.root.schema?B:void 0}},7786(ct,E,a){"use strict";a.d(E,{h:()=>P});var u=a(6365),r=a(8750),d=a(983),D=a(9326),$=a(6648);function P(...S){const _=(0,D.lI)(S),b=(0,D.R0)(S,1/0),W=S;return W.length?1===W.length?(0,r.Tg)(W[0]):(0,u.U)(b)((0,$.H)(W,_)):d.w}},7868(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.checkStrictMode=E.getErrorPath=E.Type=E.useFunc=E.setEvaluated=E.evaluatedPropsToName=E.mergeEvaluated=E.eachItem=E.unescapeJsonPointer=E.escapeJsonPointer=E.escapeFragment=E.unescapeFragment=E.schemaRefOrVal=E.schemaHasRulesButRef=E.schemaHasRules=E.checkUnknownRules=E.alwaysValidSchema=E.toHash=void 0;const u=a(5432),r=a(3467);function $(B,q=B.schema){const{opts:G,self:Q}=B;if(!G.strictSchema||"boolean"==typeof q)return;const ne=Q.RULES.keywords;for(const ue in q)ne[ue]||V(B,`unknown keyword: "${ue}"`)}function P(B,q){if("boolean"==typeof B)return!B;for(const G in B)if(q[G])return!0;return!1}function C(B){return"number"==typeof B?`${B}`:B.replace(/~/g,"~0").replace(/\//g,"~1")}function L(B){return B.replace(/~1/g,"/").replace(/~0/g,"~")}function A({mergeNames:B,mergeToName:q,mergeValues:G,resultToName:Q}){return(ne,ue,ve,Oe)=>{const nt=void 0===ve?ue:ve instanceof u.Name?(ue instanceof u.Name?B(ne,ue,ve):q(ne,ue,ve),ve):ue instanceof u.Name?(q(ne,ve,ue),ue):G(ue,ve);return Oe!==u.Name||nt instanceof u.Name?nt:Q(ne,nt)}}function U(B,q){if(!0===q)return B.var("props",!0);const G=B.var("props",u._`{}`);return void 0!==q&&O(B,G,q),G}function O(B,q,G){Object.keys(G).forEach(Q=>B.assign(u._`${q}${(0,u.getProperty)(Q)}`,!0))}E.toHash=function d(B){const q={};for(const G of B)q[G]=!0;return q},E.alwaysValidSchema=function D(B,q){return"boolean"==typeof q?q:0===Object.keys(q).length||($(B,q),!P(q,B.self.RULES.all))},E.checkUnknownRules=$,E.schemaHasRules=P,E.schemaHasRulesButRef=function S(B,q){if("boolean"==typeof B)return!B;for(const G in B)if("$ref"!==G&&q.all[G])return!0;return!1},E.schemaRefOrVal=function _({topSchemaRef:B,schemaPath:q},G,Q,ne){if(!ne){if("number"==typeof G||"boolean"==typeof G)return G;if("string"==typeof G)return u._`${G}`}return u._`${B}${q}${(0,u.getProperty)(Q)}`},E.unescapeFragment=function b(B){return L(decodeURIComponent(B))},E.escapeFragment=function W(B){return encodeURIComponent(C(B))},E.escapeJsonPointer=C,E.unescapeJsonPointer=L,E.eachItem=function I(B,q){if(Array.isArray(B))for(const G of B)q(G);else q(B)},E.mergeEvaluated={props:A({mergeNames:(B,q,G)=>B.if(u._`${G} !== true && ${q} !== undefined`,()=>{B.if(u._`${q} === true`,()=>B.assign(G,!0),()=>B.assign(G,u._`${G} || {}`).code(u._`Object.assign(${G}, ${q})`))}),mergeToName:(B,q,G)=>B.if(u._`${G} !== true`,()=>{!0===q?B.assign(G,!0):(B.assign(G,u._`${G} || {}`),O(B,G,q))}),mergeValues:(B,q)=>!0===B||{...B,...q},resultToName:U}),items:A({mergeNames:(B,q,G)=>B.if(u._`${G} !== true && ${q} !== undefined`,()=>B.assign(G,u._`${q} === true ? true : ${G} > ${q} ? ${G} : ${q}`)),mergeToName:(B,q,G)=>B.if(u._`${G} !== true`,()=>B.assign(G,!0===q||u._`${G} > ${q} ? ${G} : ${q}`)),mergeValues:(B,q)=>!0===B||Math.max(B,q),resultToName:(B,q)=>B.var("items",q)})},E.evaluatedPropsToName=U,E.setEvaluated=O;const p={};E.useFunc=function F(B,q){return B.scopeValue("func",{ref:q,code:p[q.code]||(p[q.code]=new r._Code(q.code))})};var T=function(B){return B[B.Num=0]="Num",B[B.Str=1]="Str",B}(T||(E.Type=T={}));function V(B,q,G=B.opts.strictSchema){if(G){if(q=`strict mode: ${q}`,!0===G)throw new Error(q);B.self.logger.warn(q)}}E.getErrorPath=function M(B,q,G){if(B instanceof u.Name){const Q=q===T.Num;return G?Q?u._`"[" + ${B} + "]"`:u._`"['" + ${B} + "']"`:Q?u._`"/" + ${B}`:u._`"/" + ${B}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return G?(0,u.getProperty)(B).toString():"/"+C(B)},E.checkStrictMode=V},7908(ct,E,a){"use strict";function u(r,d){if(r){const D=r.indexOf(d);0<=D&&r.splice(D,1)}}a.d(E,{o:()=>u})},7953(ct,E,a){"use strict";a.d(E,{T:()=>r});var u=a(8071);function r(d){return Symbol.asyncIterator&&(0,u.T)(d?.[Symbol.asyncIterator])}},7956(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868),d=a(4195);E.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:P})=>u._`{allowedValues: ${P}}`},code(P){const{gen:S,data:_,$data:b,schema:W,schemaCode:C,it:L}=P;if(!b&&0===W.length)throw new Error("enum must have non-empty array");let A;const U=()=>A??(A=(0,r.useFunc)(S,d.default));let O;if(W.length>=L.opts.loopEnum||b)O=S.let("valid"),P.block$data(O,function p(){S.assign(O,!1),S.forOf("v",C,T=>S.if(u._`${U()}(${_}, ${T})`,()=>S.assign(O,!0).break()))});else{if(!Array.isArray(W))throw new Error("ajv implementation error");const T=S.const("vSchema",C);O=(0,u.or)(...W.map((M,V)=>function F(T,M){const V=W[M];return"object"==typeof V&&null!==V?u._`${U()}(${_}, ${T}[${M}])`:u._`${_} === ${V}`}(T,V)))}P.pass(O)}}},8058(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7543),d=a(7762),D=a(6606),$=a(7868);E.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:_,tagName:b}})=>_===r.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:_,tag:b,tagName:W}})=>u._`{error: ${_}, tag: ${W}, tagValue: ${b}}`},code(_){const{gen:b,data:W,schema:C,parentSchema:L,it:I}=_,{oneOf:A}=L;if(!I.opts.discriminator)throw new Error("discriminator: requires discriminator option");const U=C.propertyName;if("string"!=typeof U)throw new Error("discriminator: requires propertyName");if(C.mapping)throw new Error("discriminator: mapping is not supported");if(!A)throw new Error("discriminator: requires oneOf keyword");const O=b.let("valid",!1),p=b.const("tag",u._`${W}${(0,u.getProperty)(U)}`);function T(V){const B=b.name("valid"),q=_.subschema({keyword:"oneOf",schemaProp:V},B);return _.mergeEvaluated(q,u.Name),B}b.if(u._`typeof ${p} == "string"`,()=>function F(){const V=function M(){var V;const B={},q=Q(L);let G=!0;for(let ve=0;ve<A.length;ve++){let Oe=A[ve];if(Oe?.$ref&&!(0,$.schemaHasRulesButRef)(Oe,I.self.RULES)){const ge=Oe.$ref;if(Oe=d.resolveRef.call(I.self,I.schemaEnv.root,I.baseId,ge),Oe instanceof d.SchemaEnv&&(Oe=Oe.schema),void 0===Oe)throw new D.default(I.opts.uriResolver,I.baseId,ge)}const nt=null===(V=Oe?.properties)||void 0===V?void 0:V[U];if("object"!=typeof nt)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${U}"`);G=G&&(q||Q(Oe)),ne(nt,ve)}if(!G)throw new Error(`discriminator: "${U}" must be required`);return B;function Q({required:ve}){return Array.isArray(ve)&&ve.includes(U)}function ne(ve,Oe){if(ve.const)ue(ve.const,Oe);else{if(!ve.enum)throw new Error(`discriminator: "properties/${U}" must have "const" or "enum"`);for(const nt of ve.enum)ue(nt,Oe)}}function ue(ve,Oe){if("string"!=typeof ve||ve in B)throw new Error(`discriminator: "${U}" values must be unique strings`);B[ve]=Oe}}();b.if(!1);for(const B in V)b.elseIf(u._`${p} === ${B}`),b.assign(O,T(V[B]));b.else(),_.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:U}),b.endIf()}(),()=>_.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:U})),_.ok(O)}}},8071(ct,E,a){"use strict";function u(r){return"function"==typeof r}a.d(E,{T:()=>u})},8141(ct,E,a){"use strict";a.d(E,{M:()=>$});var u=a(8071),r=a(9974),d=a(4360),D=a(3669);function $(P,S,_){const b=(0,u.T)(P)||S||_?{next:P,error:S,complete:_}:P;return b?(0,r.N)((W,C)=>{var L;null===(L=b.subscribe)||void 0===L||L.call(b);let I=!0;W.subscribe((0,d._)(C,A=>{var U;null===(U=b.next)||void 0===U||U.call(b,A),C.next(A)},()=>{var A;I=!1,null===(A=b.complete)||void 0===A||A.call(b),C.complete()},A=>{var U;I=!1,null===(U=b.error)||void 0===U||U.call(b,A),C.error(A)},()=>{var A,U;I&&(null===(A=b.unsubscribe)||void 0===A||A.call(b)),null===(U=b.finalize)||void 0===U||U.call(b)}))}):D.D}},8173(ct,E,a){"use strict";a.d(E,{FX:()=>F,If:()=>u,K2:()=>P,P:()=>A,PZ:()=>p,hZ:()=>d,i0:()=>D,iF:()=>S,kY:()=>W,kp:()=>r,sf:()=>O,yc:()=>U});var u=function(T){return T[T.State=0]="State",T[T.Transition=1]="Transition",T[T.Sequence=2]="Sequence",T[T.Group=3]="Group",T[T.Animate=4]="Animate",T[T.Keyframes=5]="Keyframes",T[T.Style=6]="Style",T[T.Trigger=7]="Trigger",T[T.Reference=8]="Reference",T[T.AnimateChild=9]="AnimateChild",T[T.AnimateRef=10]="AnimateRef",T[T.Query=11]="Query",T[T.Stagger=12]="Stagger",T}(u||{});const r="*";function d(T,M){return{type:u.Trigger,name:T,definitions:M,options:{}}}function D(T,M=null){return{type:u.Animate,styles:M,timings:T}}function P(T,M=null){return{type:u.Sequence,steps:T,options:M}}function S(T){return{type:u.Style,styles:T,offset:null}}function W(T,M,V=null){return{type:u.Transition,expr:T,animation:M,options:V}}function A(T,M,V=null){return{type:u.Query,selector:T,animation:M,options:V}}function U(T,M){return{type:u.Stagger,timings:T,animation:M}}class O{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(M=0,V=0){this.totalTime=M+V}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(M=>M()),this._onDoneFns=[])}onStart(M){this._originalOnStartFns.push(M),this._onStartFns.push(M)}onDone(M){this._originalOnDoneFns.push(M),this._onDoneFns.push(M)}onDestroy(M){this._onDestroyFns.push(M)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(M=>M()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(M=>M()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(M){this._position=this.totalTime?M*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(M){const V="start"==M?this._onStartFns:this._onDoneFns;V.forEach(B=>B()),V.length=0}}class p{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(M){this.players=M;let V=0,B=0,q=0;const G=this.players.length;0==G?queueMicrotask(()=>this._onFinish()):this.players.forEach(Q=>{Q.onDone(()=>{++V==G&&this._onFinish()}),Q.onDestroy(()=>{++B==G&&this._onDestroy()}),Q.onStart(()=>{++q==G&&this._onStart()})}),this.totalTime=this.players.reduce((Q,ne)=>Math.max(Q,ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(M=>M()),this._onDoneFns=[])}init(){this.players.forEach(M=>M.init())}onStart(M){this._onStartFns.push(M)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(M=>M()),this._onStartFns=[])}onDone(M){this._onDoneFns.push(M)}onDestroy(M){this._onDestroyFns.push(M)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(M=>M.play())}pause(){this.players.forEach(M=>M.pause())}restart(){this.players.forEach(M=>M.restart())}finish(){this._onFinish(),this.players.forEach(M=>M.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(M=>M.destroy()),this._onDestroyFns.forEach(M=>M()),this._onDestroyFns=[])}reset(){this.players.forEach(M=>M.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(M){const V=M*this.totalTime;this.players.forEach(B=>{const q=B.totalTime?Math.min(1,V/B.totalTime):1;B.setPosition(q)})}getPosition(){const M=this.players.reduce((V,B)=>null===V||B.totalTime>V.totalTime?B:V,null);return null!=M?M.getPosition():0}beforeDestroy(){this.players.forEach(M=>{M.beforeDestroy&&M.beforeDestroy()})}triggerCallback(M){const V="start"==M?this._onStartFns:this._onDoneFns;V.forEach(B=>B()),V.length=0}}const F="!"},8222(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getSchemaRefs=E.resolveUrl=E.normalizeId=E._getFullPath=E.getFullPath=E.inlineRef=void 0;const u=a(7868),r=a(362),d=a(4331),D=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);E.inlineRef=function $(O,p=!0){return"boolean"==typeof O||(!0===p?!S(O):!!p&&_(O)<=p)};const P=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function S(O){for(const p in O){if(P.has(p))return!0;const F=O[p];if(Array.isArray(F)&&F.some(S)||"object"==typeof F&&S(F))return!0}return!1}function _(O){let p=0;for(const F in O){if("$ref"===F)return 1/0;if(p++,!D.has(F)&&("object"==typeof O[F]&&(0,u.eachItem)(O[F],T=>p+=_(T)),p===1/0))return 1/0}return p}function b(O,p="",F){!1!==F&&(p=L(p));const T=O.parse(p);return W(O,T)}function W(O,p){return O.serialize(p).split("#")[0]+"#"}E.getFullPath=b,E._getFullPath=W;const C=/#\/?$/;function L(O){return O?O.replace(C,""):""}E.normalizeId=L,E.resolveUrl=function I(O,p,F){return F=L(F),O.resolve(p,F)};const A=/^[a-z_][-a-z0-9._]*$/i;E.getSchemaRefs=function U(O,p){if("boolean"==typeof O)return{};const{schemaId:F,uriResolver:T}=this.opts,M=L(O[F]||p),V={"":M},B=b(T,M,!1),q={},G=new Set;return d(O,{allKeys:!0},(ue,ve,Oe,nt)=>{if(void 0===nt)return;const ge=B+ve;let xe=V[nt];function He(Ke){if(Ke=L(xe?(0,this.opts.uriResolver.resolve)(xe,Ke):Ke),G.has(Ke))throw ne(Ke);G.add(Ke);let Ie=this.refs[Ke];return"string"==typeof Ie&&(Ie=this.refs[Ie]),"object"==typeof Ie?Q(ue,Ie.schema,Ke):Ke!==L(ge)&&("#"===Ke[0]?(Q(ue,q[Ke],Ke),q[Ke]=ue):this.refs[Ke]=ge),Ke}function et(Ke){if("string"==typeof Ke){if(!A.test(Ke))throw new Error(`invalid anchor "${Ke}"`);He.call(this,`#${Ke}`)}}"string"==typeof ue[F]&&(xe=He.call(this,ue[F])),et.call(this,ue.$anchor),et.call(this,ue.$dynamicAnchor),V[ve]=xe}),q;function Q(ue,ve,Oe){if(void 0!==ve&&!r(ue,ve))throw ne(Oe)}function ne(ue){return new Error(`reference "${ue}" resolves to more than one schema`)}}},8280(ct,E,a){"use strict";const{normalizeIPv6:u,removeDotSegments:r,recomposeAuthority:d,normalizeComponentEncoding:D,isIPv4:$,nonSimpleDomain:P}=a(1661),{SCHEMES:S,getSchemeHandler:_}=a(4908);function C(p,F,T,M){const V={};return M||(p=U(I(p,T),T),F=U(I(F,T),T)),!(T=T||{}).tolerant&&F.scheme?(V.scheme=F.scheme,V.userinfo=F.userinfo,V.host=F.host,V.port=F.port,V.path=r(F.path||""),V.query=F.query):(void 0!==F.userinfo||void 0!==F.host||void 0!==F.port?(V.userinfo=F.userinfo,V.host=F.host,V.port=F.port,V.path=r(F.path||""),V.query=F.query):(F.path?("/"===F.path[0]?V.path=r(F.path):(V.path=void 0===p.userinfo&&void 0===p.host&&void 0===p.port||p.path?p.path?p.path.slice(0,p.path.lastIndexOf("/")+1)+F.path:F.path:"/"+F.path,V.path=r(V.path)),V.query=F.query):(V.path=p.path,V.query=void 0!==F.query?F.query:p.query),V.userinfo=p.userinfo,V.host=p.host,V.port=p.port),V.scheme=p.scheme),V.fragment=F.fragment,V}function I(p,F){const T={host:p.host,scheme:p.scheme,userinfo:p.userinfo,port:p.port,path:p.path,query:p.query,nid:p.nid,nss:p.nss,uuid:p.uuid,fragment:p.fragment,reference:p.reference,resourceName:p.resourceName,secure:p.secure,error:""},M=Object.assign({},F),V=[],B=_(M.scheme||T.scheme);B&&B.serialize&&B.serialize(T,M),void 0!==T.path&&(M.skipEscape?T.path=unescape(T.path):(T.path=escape(T.path),void 0!==T.scheme&&(T.path=T.path.split("%3A").join(":")))),"suffix"!==M.reference&&T.scheme&&V.push(T.scheme,":");const q=d(T);if(void 0!==q&&("suffix"!==M.reference&&V.push("//"),V.push(q),T.path&&"/"!==T.path[0]&&V.push("/")),void 0!==T.path){let G=T.path;!M.absolutePath&&(!B||!B.absolutePath)&&(G=r(G)),void 0===q&&"/"===G[0]&&"/"===G[1]&&(G="/%2F"+G.slice(2)),V.push(G)}return void 0!==T.query&&V.push("?",T.query),void 0!==T.fragment&&V.push("#",T.fragment),V.join("")}const A=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function U(p,F){const T=Object.assign({},F),M={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let V=!1;"suffix"===T.reference&&(p=T.scheme?T.scheme+":"+p:"//"+p);const B=p.match(A);if(B){if(M.scheme=B[1],M.userinfo=B[3],M.host=B[4],M.port=parseInt(B[5],10),M.path=B[6]||"",M.query=B[7],M.fragment=B[8],isNaN(M.port)&&(M.port=B[5]),M.host)if(!1===$(M.host)){const Q=u(M.host);M.host=Q.host.toLowerCase(),V=Q.isIPV6}else V=!0;M.reference=void 0!==M.scheme||void 0!==M.userinfo||void 0!==M.host||void 0!==M.port||void 0!==M.query||M.path?void 0===M.scheme?"relative":void 0===M.fragment?"absolute":"uri":"same-document",T.reference&&"suffix"!==T.reference&&T.reference!==M.reference&&(M.error=M.error||"URI is not a "+T.reference+" reference.");const q=_(T.scheme||M.scheme);if(!T.unicodeSupport&&(!q||!q.unicodeSupport)&&M.host&&(T.domainHost||q&&q.domainHost)&&!1===V&&P(M.host))try{M.host=URL.domainToASCII(M.host.toLowerCase())}catch(G){M.error=M.error||"Host's domain name can not be converted to ASCII: "+G}(!q||q&&!q.skipNormalize)&&(-1!==p.indexOf("%")&&(void 0!==M.scheme&&(M.scheme=unescape(M.scheme)),void 0!==M.host&&(M.host=unescape(M.host))),M.path&&(M.path=escape(unescape(M.path))),M.fragment&&(M.fragment=encodeURI(decodeURIComponent(M.fragment)))),q&&q.parse&&q.parse(M,T)}else M.error=M.error||"URI can not be parsed.";return M}const O={SCHEMES:S,normalize:function b(p,F){return"string"==typeof p?p=I(U(p,F),F):"object"==typeof p&&(p=U(I(p,F),F)),p},resolve:function W(p,F,T){const M=T?Object.assign({scheme:"null"},T):{scheme:"null"},V=C(U(p,M),U(F,M),M,!0);return M.skipEscape=!0,I(V,M)},resolveComponent:C,equal:function L(p,F,T){return"string"==typeof p?(p=unescape(p),p=I(D(U(p,T),!0),{...T,skipEscape:!0})):"object"==typeof p&&(p=I(D(p,!0),{...T,skipEscape:!0})),"string"==typeof F?(F=unescape(F),F=I(D(U(F,T),!0),{...T,skipEscape:!0})):"object"==typeof F&&(F=I(D(F,!0),{...T,skipEscape:!0})),p.toLowerCase()===F.toLowerCase()},serialize:I,parse:U};ct.exports=O,ct.exports.default=O,ct.exports.fastUri=O},8359(ct,E,a){"use strict";a.d(E,{Kn:()=>P,yU:()=>$,Uv:()=>S});var u=a(8071);const d=(0,a(1853).L)(b=>function(C){b(this),this.message=C?`${C.length} errors occurred during unsubscription:\n${C.map((L,I)=>`${I+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=C});var D=a(7908);class ${constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:C}=this;if(C)if(this._parentage=null,Array.isArray(C))for(const A of C)A.remove(this);else C.remove(this);const{initialTeardown:L}=this;if((0,u.T)(L))try{L()}catch(A){W=A instanceof d?A.errors:[A]}const{_finalizers:I}=this;if(I){this._finalizers=null;for(const A of I)try{_(A)}catch(U){W=W??[],U instanceof d?W=[...W,...U.errors]:W.push(U)}}if(W)throw new d(W)}}add(W){var C;if(W&&W!==this)if(this.closed)_(W);else{if(W instanceof $){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(C=this._finalizers)&&void 0!==C?C:[]).push(W)}}_hasParent(W){const{_parentage:C}=this;return C===W||Array.isArray(C)&&C.includes(W)}_addParent(W){const{_parentage:C}=this;this._parentage=Array.isArray(C)?(C.push(W),C):C?[C,W]:W}_removeParent(W){const{_parentage:C}=this;C===W?this._parentage=null:Array.isArray(C)&&(0,D.o)(C,W)}remove(W){const{_finalizers:C}=this;C&&(0,D.o)(C,W),W instanceof $&&W._removeParent(this)}}$.EMPTY=(()=>{const b=new $;return b.closed=!0,b})();const P=$.EMPTY;function S(b){return b instanceof $||b&&"closed"in b&&(0,u.T)(b.remove)&&(0,u.T)(b.add)&&(0,u.T)(b.unsubscribe)}function _(b){(0,u.T)(b)?b():b.unsubscribe()}},8361(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432);E.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:D})=>u.str`must match format "${D}"`,params:({schemaCode:D})=>u._`{format: ${D}}`},code(D,$){const{gen:P,data:S,$data:_,schema:b,schemaCode:W,it:C}=D,{opts:L,errSchemaPath:I,schemaEnv:A,self:U}=C;L.validateFormats&&(_?function O(){const F=P.scopeValue("formats",{ref:U.formats,code:L.code.formats}),T=P.const("fDef",u._`${F}[${W}]`),M=P.let("fType"),V=P.let("format");P.if(u._`typeof ${T} == "object" && !(${T} instanceof RegExp)`,()=>P.assign(M,u._`${T}.type || "string"`).assign(V,u._`${T}.validate`),()=>P.assign(M,u._`"string"`).assign(V,T)),D.fail$data((0,u.or)(function B(){return!1===L.strictSchema?u.nil:u._`${W} && !${V}`}(),function q(){const G=A.$async?u._`(${T}.async ? await ${V}(${S}) : ${V}(${S}))`:u._`${V}(${S})`,Q=u._`(typeof ${V} == "function" ? ${G} : ${V}.test(${S}))`;return u._`${V} && ${V} !== true && ${M} === ${$} && !${Q}`}()))}():function p(){const F=U.formats[b];if(!F)return void function B(){if(!1!==L.strictSchema)throw new Error(Q());function Q(){return`unknown format "${b}" ignored in schema at path "${I}"`}U.logger.warn(Q())}();if(!0===F)return;const[T,M,V]=function q(Q){const ne=Q instanceof RegExp?(0,u.regexpCode)(Q):L.code.formats?u._`${L.code.formats}${(0,u.getProperty)(b)}`:void 0,ue=P.scopeValue("formats",{key:b,ref:Q,code:ne});return"object"!=typeof Q||Q instanceof RegExp?["string",Q,ue]:[Q.type||"string",Q.validate,u._`${ue}.validate`]}(F);T===$&&D.pass(function G(){if("object"==typeof F&&!(F instanceof RegExp)&&F.async){if(!A.$async)throw new Error("async format in sync schema");return u._`await ${V}(${S})`}return"function"==typeof M?u._`${V}(${S})`:u._`${V}.test(${S})`}())}())}}},8389(ct,E,a){"use strict";function u(d,D){const $={};if(Array.isArray(D))for(const P of D){const S=Object.getOwnPropertyDescriptor(d,P);S?.enumerable&&Object.defineProperty($,P,S)}else for(const P of Reflect.ownKeys(d)){const S=Object.getOwnPropertyDescriptor(d,P);S.enumerable&&D(P,d[P],d)&&Object.defineProperty($,P,S)}return $}a.d(E,{b:()=>u})},8496(ct,E,a){"use strict";function u(r,d){return r.reduce((D,$,P)=>(D[$]=d[P],D),{})}a.d(E,{e:()=>u})},8542(ct,E,a){"use strict";a.d(E,{UF:()=>r,Mi:()=>D,Pp:()=>P,WP:()=>S,ex:()=>_});var u=a(7624);function r(b,W,C){return L=>(0,u.px)(L,W,null,C)}var d=a(4671);function D(b,W,C){if(!C?.jsonSchemaValidator)throw new d.d8("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");const L=C?.jsonSchemaValidator(W);return I=>L(I)}var $=a(570);const P=(0,$.jm)($.Pp),S=(0,$.jm)($.WP);function _(b,W,C){(0,d.vA)(C.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");const L=W;return(0,d.vA)((0,d.Tn)(L),"$where only accepts a Function object"),I=>(0,d.vN)(L.call(I),C?.useStrictMode)}},8555(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=a(7868),d=a(2240),D=a(2676);E.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:S}})=>u.str`must NOT have more than ${S} items`,params:({params:{len:S}})=>u._`{limit: ${S}}`},code(S){const{schema:_,parentSchema:b,it:W}=S,{prefixItems:C}=b;W.items=!0,!(0,r.alwaysValidSchema)(W,_)&&(C?(0,D.validateAdditionalItems)(S,C):S.ok((0,d.validateArray)(S)))}}},8651(ct,E,a){"use strict";a.d(E,{U:()=>b});const u=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,r=I=>{if("string"!=typeof I)throw new TypeError("Invalid argument expected string");const A=I.match(u);if(!A)throw new Error(`Invalid argument not valid semver ('${I}' received)`);return A.shift(),A},d=I=>"*"===I||"x"===I||"X"===I,D=I=>{const A=parseInt(I,10);return isNaN(A)?I:A},P=(I,A)=>{if(d(I)||d(A))return 0;const[U,O]=((I,A)=>typeof I!=typeof A?[String(I),String(A)]:[I,A])(D(I),D(A));return U>O?1:U<O?-1:0},S=(I,A)=>{for(let U=0;U<Math.max(I.length,A.length);U++){const O=P(I[U]||"0",A[U]||"0");if(0!==O)return O}return 0},b=(I,A,U)=>{L(U);const O=((I,A)=>{const U=r(I),O=r(A),p=U.pop(),F=O.pop(),T=S(U,O);return 0!==T?T:p&&F?S(p.split("."),F.split(".")):p||F?p?-1:1:0})(I,A);return W[U].includes(O)},W={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},C=Object.keys(W),L=I=>{if("string"!=typeof I)throw new TypeError("Invalid operator type, expected string but got "+typeof I);if(-1===C.indexOf(I))throw new Error(`Invalid operator, expected one of ${C.join("|")}`)}},8663(ct,E,a){"use strict";function r(S,_){if(!S)throw _||(_=""),new Error("ensureNotFalsy() is falsy: "+_);return S}a.d(E,{ZN:()=>r,bz:()=>D});var D={bufferSize:1,refCount:!0}},8675(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(2240),r=a(5432);E.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:$})=>r.str`must match pattern "${$}"`,params:({schemaCode:$})=>r._`{pattern: ${$}}`},code($){const{data:P,$data:S,schema:_,schemaCode:b,it:W}=$,L=S?r._`(new RegExp(${b}, ${W.opts.unicodeRegExp?"u":""}))`:(0,u.usePattern)($,_);$.fail$data(r._`!${L}.test(${P})`)}}},8750(ct,E,a){"use strict";a.d(E,{Tg:()=>I});var u=a(1635),r=a(7441),d=a(9858),D=a(1985),$=a(5055),P=a(7953),S=a(591),_=a(5397),b=a(5196),W=a(8071),C=a(5334),L=a(3494);function I(V){if(V instanceof D.c)return V;if(null!=V){if((0,$.l)(V))return function A(V){return new D.c(B=>{const q=V[L.s]();if((0,W.T)(q.subscribe))return q.subscribe(B);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(V);if((0,r.X)(V))return function U(V){return new D.c(B=>{for(let q=0;q<V.length&&!B.closed;q++)B.next(V[q]);B.complete()})}(V);if((0,d.y)(V))return function O(V){return new D.c(B=>{V.then(q=>{B.closed||(B.next(q),B.complete())},q=>B.error(q)).then(null,C.m)})}(V);if((0,P.T)(V))return F(V);if((0,_.x)(V))return function p(V){return new D.c(B=>{for(const q of V)if(B.next(q),B.closed)return;B.complete()})}(V);if((0,b.U)(V))return function T(V){return F((0,b.C)(V))}(V)}throw(0,S.L)(V)}function F(V){return new D.c(B=>{(function M(V,B){var q,G,Q,ne;return(0,u.sH)(this,void 0,void 0,function*(){try{for(q=(0,u.xN)(V);!(G=yield q.next()).done;)if(B.next(G.value),B.closed)return}catch(ue){Q={error:ue}}finally{try{G&&!G.done&&(ne=q.return)&&(yield ne.call(q))}finally{if(Q)throw Q.error}}B.complete()})})(V,B).catch(q=>B.error(q))})}},8758(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(7157),r=a(2240),d=a(7868),D=a(4491);E.default={keyword:"properties",type:"object",schemaType:"object",code(P){const{gen:S,schema:_,parentSchema:b,data:W,it:C}=P;"all"===C.opts.removeAdditional&&void 0===b.additionalProperties&&D.default.code(new u.KeywordCxt(C,D.default,"additionalProperties"));const L=(0,r.allSchemaProperties)(_);for(const p of L)C.definedProperties.add(p);C.opts.unevaluated&&L.length&&!0!==C.props&&(C.props=d.mergeEvaluated.props(S,(0,d.toHash)(L),C.props));const I=L.filter(p=>!(0,d.alwaysValidSchema)(C,_[p]));if(0===I.length)return;const A=S.name("valid");for(const p of I)U(p)?O(p):(S.if((0,r.propertyInData)(S,W,p,C.opts.ownProperties)),O(p),C.allErrors||S.else().var(A,!0),S.endIf()),P.it.definedProperties.add(p),P.ok(A);function U(p){return C.opts.useDefaults&&!C.compositeRule&&void 0!==_[p].default}function O(p){P.subschema({keyword:"properties",schemaProp:p,dataProp:p},A)}}}},8776(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.formatLimitDefinition=void 0;const u=a(6827),r=a(5432),d=r.operators,D={formatMaximum:{okStr:"<=",ok:d.LTE,fail:d.GT},formatMinimum:{okStr:">=",ok:d.GTE,fail:d.LT},formatExclusiveMaximum:{okStr:"<",ok:d.LT,fail:d.GTE},formatExclusiveMinimum:{okStr:">",ok:d.GT,fail:d.LTE}},$={message:({keyword:S,schemaCode:_})=>r.str`should be ${D[S].okStr} ${_}`,params:({keyword:S,schemaCode:_})=>r._`{comparison: ${D[S].okStr}, limit: ${_}}`};E.formatLimitDefinition={keyword:Object.keys(D),type:"string",schemaType:"string",$data:!0,error:$,code(S){const{gen:_,data:b,schemaCode:W,keyword:C,it:L}=S,{opts:I,self:A}=L;if(!I.validateFormats)return;const U=new u.KeywordCxt(L,A.RULES.all.format.definition,"format");function F(T){return r._`${T}.compare(${b}, ${W}) ${D[C].fail} 0`}U.$data?function O(){const T=_.scopeValue("formats",{ref:A.formats,code:I.code.formats}),M=_.const("fmt",r._`${T}[${U.schemaCode}]`);S.fail$data((0,r.or)(r._`typeof ${M} != "object"`,r._`${M} instanceof RegExp`,r._`typeof ${M}.compare != "function"`,F(M)))}():function p(){const T=U.schema,M=A.formats[T];if(!M||!0===M)return;if("object"!=typeof M||M instanceof RegExp||"function"!=typeof M.compare)throw new Error(`"${C}": format "${T}" does not define "compare" function`);const V=_.scopeValue("formats",{key:T,ref:M,code:I.code.formats?r._`${I.code.formats}${(0,r.getProperty)(T)}`:void 0});S.fail$data(F(V))}()},dependencies:["format"]},E.default=S=>(S.addKeyword(E.formatLimitDefinition),S)},8793(ct,E,a){"use strict";a.d(E,{x:()=>$});var u=a(6365),d=a(9326),D=a(6648);function $(...P){return function r(){return(0,u.U)(1)}()((0,D.H)(P,(0,d.lI)(P)))}},8839(ct,E,a){"use strict";a.d(E,{b:()=>W,E:()=>b});var u=a(8359);class r extends u.yU{constructor(L,I){super()}schedule(L,I=0){return this}}const d={setInterval(C,L,...I){const{delegate:A}=d;return A?.setInterval?A.setInterval(C,L,...I):setInterval(C,L,...I)},clearInterval(C){const{delegate:L}=d;return(L?.clearInterval||clearInterval)(C)},delegate:void 0};var D=a(7908),P=a(6129);class S{constructor(L,I=S.now){this.schedulerActionCtor=L,this.now=I}schedule(L,I=0,A){return new this.schedulerActionCtor(this,L).schedule(A,I)}}S.now=P.U.now;const b=new class _ extends S{constructor(L,I=S.now){super(L,I),this.actions=[],this._active=!1}flush(L){const{actions:I}=this;if(this._active)return void I.push(L);let A;this._active=!0;do{if(A=L.execute(L.state,L.delay))break}while(L=I.shift());if(this._active=!1,A){for(;L=I.shift();)L.unsubscribe();throw A}}}(class $ extends r{constructor(L,I){super(L,I),this.scheduler=L,this.work=I,this.pending=!1}schedule(L,I=0){var A;if(this.closed)return this;this.state=L;const U=this.id,O=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(O,U,I)),this.pending=!0,this.delay=I,this.id=null!==(A=this.id)&&void 0!==A?A:this.requestAsyncId(O,this.id,I),this}requestAsyncId(L,I,A=0){return d.setInterval(L.flush.bind(L,this),A)}recycleAsyncId(L,I,A=0){if(null!=A&&this.delay===A&&!1===this.pending)return I;null!=I&&d.clearInterval(I)}execute(L,I){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const A=this._execute(L,I);if(A)return A;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,I){let U,A=!1;try{this.work(L)}catch(O){A=!0,U=O||new Error("Scheduled action threw falsy error")}if(A)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:L,scheduler:I}=this,{actions:A}=I;this.work=this.state=this.scheduler=null,this.pending=!1,(0,D.o)(A,this),null!=L&&(this.id=this.recycleAsyncId(I,L,null)),this.delay=null,super.unsubscribe()}}}),W=b},8982(ct,E,a){"use strict";a.d(E,{P:()=>r,T:()=>D});var u=a(4671);const r=($,P,S)=>{const _=$.includes("."),b=!!P;return!_||$.match(/\.\d+$/)?W=>void 0!==(0,u.hd)(W,$)===b:W=>{const C=(0,u.Rm)(W,$,{preserveIndex:!0}),L=(0,u.hd)(C,$.substring(0,$.lastIndexOf(".")));return(0,u.cy)(L)?L.some(I=>void 0!==I)===b:void 0!==L===b}};var d=a(570);const D=(0,d.jm)(d.TU)},9030(ct,E,a){"use strict";a.d(E,{v:()=>d});var u=a(1985),r=a(8750);function d(D){return new u.c($=>{(0,r.Tg)(D()).subscribe($)})}},9135(ct,E,a){"use strict";a.d(E,{Mh:()=>Gr,XX:()=>Ci,nd:()=>Jr,lj:()=>Mi});var u=a(467),r=a(9650),d=a(4412),D=a(7786),$=a(5964),P=a(9172),S=a(1397),_=a(6354),b=a(9568),W=a(3294),C=a(4552),L=a(5520),I=a(8663),A=a(6434),U=a(203),O=a(2060),p=a(7176),F=a(4740),T=a(2284),M=a(3659);const B=je=>{je.previousResults.unshift(je.changeEvent.doc),je.keyDocumentMap&&je.keyDocumentMap.set(je.changeEvent.id,je.changeEvent.doc)},q=je=>{je.previousResults.push(je.changeEvent.doc),je.keyDocumentMap&&je.keyDocumentMap.set(je.changeEvent.id,je.changeEvent.doc)},G=je=>{const wt=je.previousResults.shift();je.keyDocumentMap&&wt&&je.keyDocumentMap.delete(wt[je.queryParams.primaryKey])},Q=je=>{const wt=je.previousResults.pop();je.keyDocumentMap&&wt&&je.keyDocumentMap.delete(wt[je.queryParams.primaryKey])},nt=je=>{je.keyDocumentMap&&je.keyDocumentMap.delete(je.changeEvent.id);const wt=je.queryParams.primaryKey,$t=je.previousResults;for(let Gt=0;Gt<$t.length;Gt++)if($t[Gt][wt]===je.changeEvent.id){$t.splice(Gt,1);break}},He=je=>{const wt=je.changeEvent.id,$t=je.changeEvent.doc;if(je.keyDocumentMap){if(je.keyDocumentMap.has(wt))return;je.keyDocumentMap.set(wt,$t)}else if(je.previousResults.find(ln=>ln[je.queryParams.primaryKey]===wt))return;(0,M.t)(je.previousResults,$t,je.queryParams.sortComparator,0)},Ie=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],se={doNothing:je=>{},insertFirst:B,insertLast:q,removeFirstItem:G,removeLastItem:Q,removeFirstInsertLast:je=>{G(je),q(je)},removeLastInsertFirst:je=>{Q(je),B(je)},removeFirstInsertFirst:je=>{G(je),B(je)},removeLastInsertLast:je=>{Q(je),q(je)},removeExisting:nt,replaceExisting:je=>{const wt=je.changeEvent.doc,$t=je.queryParams.primaryKey,Gt=je.previousResults;for(let ln=0;ln<Gt.length;ln++)if(Gt[ln][$t]===je.changeEvent.id){Gt[ln]=wt,je.keyDocumentMap&&je.keyDocumentMap.set(je.changeEvent.id,wt);break}},alwaysWrong:je=>{const wt={_id:"wrongHuman"+(new Date).getTime()};je.previousResults.length=0,je.previousResults.push(wt),je.keyDocumentMap&&(je.keyDocumentMap.clear(),je.keyDocumentMap.set(wt._id,wt))},insertAtSortPosition:He,removeExistingAndInsertAtSortPosition:je=>{nt(je),He(je)},runFullQueryAgain:je=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:je=>{throw new Error("Action unknownAction should never be called")}};function Y(je){return je?"1":"0"}function ot(je,wt){const $t=[];for(let Gt=0,ln=je.length;Gt<ln;Gt+=wt)$t.push(je.substring(Gt,Gt+wt));return $t}function ke(je){return je.charCodeAt(0)-40}function Et(je){return je[je.length-1]}function mt(je,wt,$t){if(Array.isArray(wt)&&(wt=wt.join(".")),!function Xn(je){const wt=typeof je;return null!==je&&("object"===wt||"function"===wt)}(je)||"string"!=typeof wt)return void 0===$t?je:$t;const Gt=wt.split(".");if(0===Gt.length)return $t;for(let ln=0;ln<Gt.length;ln++){const ie=Gt[ln];if(null==(je=kt(je,ie)?ln===Gt.length-1?void 0:null:je[ie])){if(ln!==Gt.length-1)return $t;break}}return void 0===je?$t:je}function kt(je,wt){if("number"!=typeof wt&&Array.isArray(je)){const $t=Number.parseInt(wt,10);return Number.isInteger($t)&&je[$t]===je[wt]}return!1}!function st(je=6){let wt="";for(let ln=0;ln<je;ln++)wt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const rn=je=>!!je.queryParams.limit,wr={0:je=>"INSERT"===je.changeEvent.operation,1:je=>"UPDATE"===je.changeEvent.operation,2:je=>"DELETE"===je.changeEvent.operation,3:rn,4:je=>1===je.queryParams.limit,5:je=>!!(je.queryParams.skip&&je.queryParams.skip>0),6:je=>0===je.previousResults.length,7:je=>rn(je)&&je.previousResults.length>=je.queryParams.limit,8:je=>{const wt=je.previousResults[0];return!(!wt||wt[je.queryParams.primaryKey]!==je.changeEvent.id)},9:je=>{const wt=Et(je.previousResults);return!(!wt||wt[je.queryParams.primaryKey]!==je.changeEvent.id)},10:je=>{const wt=je.queryParams.sortFields,$t=je.changeEvent.previous,Gt=je.changeEvent.doc;if(!Gt)return!1;if(!$t)return!0;for(let ln=0;ln<wt.length;ln++){const ie=wt[ln];if(mt($t,ie)!==mt(Gt,ie))return!0}return!1},11:je=>{const wt=je.changeEvent.id;if(je.keyDocumentMap)return je.keyDocumentMap.has(wt);{const $t=je.queryParams.primaryKey,Gt=je.previousResults;for(let ln=0;ln<Gt.length;ln++)if(Gt[ln][$t]===wt)return!0;return!1}},12:je=>{const wt=je.changeEvent.previous;if(!wt)return!1;const $t=je.previousResults[0];return!!$t&&($t[je.queryParams.primaryKey]===je.changeEvent.id||je.queryParams.sortComparator(wt,$t)<0)},13:je=>{const wt=je.changeEvent.previous;if(!wt)return!1;const $t=Et(je.previousResults);return!!$t&&($t[je.queryParams.primaryKey]===je.changeEvent.id||je.queryParams.sortComparator(wt,$t)>0)},14:je=>{const wt=je.changeEvent.doc;if(!wt)return!1;const $t=je.previousResults[0];return!!$t&&($t[je.queryParams.primaryKey]===je.changeEvent.id||je.queryParams.sortComparator(wt,$t)<0)},15:je=>{const wt=je.changeEvent.doc;if(!wt)return!1;const $t=Et(je.previousResults);return!!$t&&($t[je.queryParams.primaryKey]===je.changeEvent.id||je.queryParams.sortComparator(wt,$t)>0)},16:je=>{const wt=je.changeEvent.previous;return!!wt&&je.queryParams.queryMatcher(wt)},17:je=>{const wt=je.changeEvent.doc;return!!wt&&je.queryParams.queryMatcher(wt)}};let hi;const Ii=je=>function at(je,wt,$t){let Gt=je,ln=je.l;for(;;){if(Gt=Gt[Y(wt[ln]($t))],"number"==typeof Gt||"string"==typeof Gt)return Gt;ln=Gt.l}}(function _i(){return hi||(hi=function Dt(je){const wt=new Map,Gt=2+2*parseInt(je.charAt(0)+je.charAt(1),10),ie=ot(je.substring(2,Gt),2);for(let er=0;er<ie.length;er++){const nr=ie[er],Yn=nr.charAt(0),ar=ke(nr.charAt(1));wt.set(Yn,ar)}const we=ot(je.substring(Gt,je.length-3),4);for(let er=0;er<we.length;er++){const nr=we[er],Yn=nr.charAt(0),ar=nr.charAt(1),mr=nr.charAt(2),Ri=ke(nr.charAt(3));if(!wt.has(ar))throw new Error("missing node with id "+ar);if(!wt.has(mr))throw new Error("missing node with id "+mr);const ki=wt.get(ar),si=wt.get(mr);wt.set(Yn,{l:Ri,0:ki,1:si})}const Ue=je.slice(-3),pt=Ue.charAt(0),Xt=Ue.charAt(1);return{l:ke(Ue.charAt(2)),0:wt.get(pt),1:wt.get(Xt)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),hi}(),wr,je);var qt=a(312),zn=a(9403),Un=a(6362);function kn(je,wt){return wt.sort&&0!==wt.sort.length?wt.sort.map($t=>Object.keys($t)[0]):[je]}var Vn=new WeakMap;function Ur(je,wt){if(!je.collection.database.eventReduce)return{runFullQueryAgain:!0};for(var $t=function jr(je){return(0,zn.q)(Vn,je,()=>{var wt=je.collection,$t=(0,Un._V)(wt.storageInstance.schema,(0,A.o8)(je.mangoQuery)),Gt=wt.schema.primaryPath,ln=(0,Un.Xw)(wt.schema.jsonSchema,$t),Je=(0,Un.Lr)(wt.schema.jsonSchema,$t);return{primaryKey:je.collection.schema.primaryPath,skip:$t.skip,limit:$t.limit,sortFields:kn(Gt,$t),sortComparator:(pt,Xt)=>{var nn={docA:pt,docB:Xt,rxQuery:je};return ln(nn.docA,nn.docB)},queryMatcher:pt=>Je({doc:pt,rxQuery:je}.doc)}})}(je),Gt=(0,I.ZN)(je._result).docsData.slice(0),ln=(0,I.ZN)(je._result).docsDataMap,ie=!1,Je=[],we=0;we<wt.length;we++){var pt=(0,qt._r)(wt[we]);pt&&Je.push(pt)}var Xt=Je.find(nn=>{var sr=function vt(je){const wt=Ii(je);return Ie[wt]}({queryParams:$t,changeEvent:nn,previousResults:Gt,keyDocumentMap:ln});return"runFullQueryAgain"===sr||("doNothing"!==sr?(ie=!0,function tn(je,wt,$t,Gt,ln){(0,se[je])({queryParams:wt,changeEvent:$t,previousResults:Gt,keyDocumentMap:ln})}(sr,$t,nn,Gt,ln),!1):void 0)});return Xt?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:ie,newResults:Gt}}var vr=a(6259),Pi=a(9825),hr=function(){function je($t,Gt,ln){this.time=(0,C.t)(),this.query=$t,this.count=ln,this.documents=(0,Pi.X)(this.query.collection._docCache,Gt)}return je.prototype.getValue=function(Gt){var ln=this.query.op;if("count"===ln)return this.count;if("findOne"===ln){var ie=0===this.documents.length?null:this.documents[0];if(!ie&&Gt)throw(0,F.Br)("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:ln});return ie}return"findByIds"===ln?this.docsMap:this.documents.slice(0)},(0,r.A)(je,[{key:"docsData",get:function(){return(0,A.Ns)(this,"docsData",this.documents.map($t=>$t._data))}},{key:"docsDataMap",get:function(){var $t=new Map;return this.documents.forEach(Gt=>{$t.set(Gt.primary,Gt._data)}),(0,A.Ns)(this,"docsDataMap",$t)}},{key:"docsMap",get:function(){for(var $t=new Map,Gt=this.documents,ln=0;ln<Gt.length;ln++){var ie=Gt[ln];$t.set(ie.primary,ie)}return(0,A.Ns)(this,"docsMap",$t)}}])}(),Or=0,Gr=function(){function je($t,Gt,ln,ie={}){this.id=++Or,this._execOverDatabaseCount=0,this._creationTime=(0,C.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new d.t(null),this._result=null,this._latestChangeEvent=-1,this._ensureEqualQueue=L.Dr,this.op=$t,this.mangoQuery=Gt,this.collection=ln,this.other=ie,Gt||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function Qr(je,wt){if(!wt.skip&&wt.selector&&1===Object.keys(wt.selector).length&&wt.selector[je]){var $t=wt.selector[je];if("string"==typeof $t)return $t;if(1===Object.keys($t).length&&"string"==typeof $t.$eq||1===Object.keys($t).length&&Array.isArray($t.$eq)&&!$t.$eq.find(Gt=>"string"!=typeof Gt))return $t.$eq}return!1}(this.collection.schema.primaryPath,Gt)}var wt=je.prototype;return wt._setResultData=function(Gt){if(typeof Gt>"u")throw(0,F.Br)("QU18",{database:this.collection.database.name,collection:this.collection.name});if("number"!=typeof Gt){Gt instanceof Map&&(Gt=Array.from(Gt.values()));var ln=new hr(this,Gt,Gt.length);this._result=ln}else this._result=new hr(this,[],Gt)},wt._execOverDatabase=function(){var $t=(0,u.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,"count"===this.op){var ln=this.getPreparedQuery(),ie=yield this.collection.storageInstance.count(ln);if("slow"===ie.mode&&!this.collection.database.allowSlowCount)throw(0,F.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return{result:ie.count,counter:this.collection._changeEventBuffer.getCounter()}}if("findByIds"===this.op){var Je=(0,I.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,we=new Map,Ue=[];return Je.forEach(nn=>{var Pn=this.collection._docCache.getLatestDocumentDataIfExists(nn);if(Pn){if(!Pn._deleted){var sr=this.collection._docCache.getCachedRxDocument(Pn);we.set(nn,sr)}}else Ue.push(nn)}),Ue.length>0&&(yield this.collection.storageInstance.findDocumentsById(Ue,!1)).forEach(nn=>{var Pn=this.collection._docCache.getCachedRxDocument(nn);we.set(Pn.primary,Pn)}),{result:we,counter:this.collection._changeEventBuffer.getCounter()}}var Xt=yield Mi(this);return{result:Xt.docs,counter:Xt.counter}});return function Gt(){return $t.apply(this,arguments)}}(),wt.exec=function(){var $t=(0,u.A)(function*(ln){if(ln&&"findOne"!==this.op)throw(0,F.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return yield $i(this),(0,I.ZN)(this._result).getValue(ln)});return function Gt(ln){return $t.apply(this,arguments)}}(),wt.toString=function(){var Gt=(0,A.mf)({op:this.op,query:(0,Un._V)(this.collection.schema.jsonSchema,this.mangoQuery),other:this.other},!0),ln=JSON.stringify(Gt);return this.toString=()=>ln,ln},wt.getPreparedQuery=function(){var Gt={rxQuery:this,mangoQuery:(0,Un._V)(this.collection.schema.jsonSchema,this.mangoQuery)};Gt.mangoQuery.selector._deleted={$eq:!1},Gt.mangoQuery.index&&Gt.mangoQuery.index.unshift("_deleted"),(0,T.Xi)("prePrepareQuery",Gt);var ln=(0,Un.Ib)(this.collection.schema.jsonSchema,Gt.mangoQuery);return this.getPreparedQuery=()=>ln,ln},wt.doesDocumentDataMatch=function(Gt){return!Gt._deleted&&this.queryMatcher(Gt)},wt.remove=function(){var $t=(0,u.A)(function*(){var ln=yield this.exec();if(Array.isArray(ln)){var ie=yield this.collection.bulkRemove(ln);if(ie.error.length>0)throw(0,F.cg)(ie.error[0]);return ie.success}return ln.remove()});return function Gt(){return $t.apply(this,arguments)}}(),wt.incrementalRemove=function(){return(0,Un.dx)(this.asRxQuery,Gt=>Gt.incrementalRemove())},wt.update=function(Gt){throw(0,U.u)("update")},wt.patch=function(Gt){return(0,Un.dx)(this.asRxQuery,ln=>ln.patch(Gt))},wt.incrementalPatch=function(Gt){return(0,Un.dx)(this.asRxQuery,ln=>ln.incrementalPatch(Gt))},wt.modify=function(Gt){return(0,Un.dx)(this.asRxQuery,ln=>ln.modify(Gt))},wt.incrementalModify=function(Gt){return(0,Un.dx)(this.asRxQuery,ln=>ln.incrementalModify(Gt))},wt.where=function(Gt){throw(0,U.u)("query-builder")},wt.sort=function(Gt){throw(0,U.u)("query-builder")},wt.skip=function(Gt){throw(0,U.u)("query-builder")},wt.limit=function(Gt){throw(0,U.u)("query-builder")},(0,r.A)(je,[{key:"$",get:function(){if(!this._$){var $t=this.collection.eventBulks$.pipe((0,$.p)(Gt=>!Gt.isLocal),(0,P.Z)(null),(0,S.Z)(()=>$i(this)),(0,_.T)(()=>this._result),(0,b.t)(I.bz),(0,W.F)((Gt,ln)=>!(!Gt||Gt.time!==(0,I.ZN)(ln).time)),(0,$.p)(Gt=>!!Gt),(0,_.T)(Gt=>(0,I.ZN)(Gt).getValue()));this._$=(0,D.h)($t,this.refCount$.pipe((0,$.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var $t=this.collection.schema.jsonSchema,Gt=(0,Un._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,A.Ns)(this,"queryMatcher",(0,Un.Lr)($t,Gt))}},{key:"asRxQuery",get:function(){return this}}])}();function Ci(){return{selector:{}}}function Jr(je,wt,$t,Gt){(0,T.Xi)("preCreateRxQuery",{op:je,queryObj:wt,collection:$t,other:Gt});var ln=new Gr(je,wt,$t,Gt);return ln=function oi(je){return je.collection._queryCache.getByQuery(je)}(ln),(0,vr.n9)($t),ln}function $i(je){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.A)(function*(je){return je.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(je.collection.awaitBeforeReads).map(wt=>wt()))),je._ensureEqualQueue=je._ensureEqualQueue.then(()=>function yi(je){if(je._lastEnsureEqual=(0,C.t)(),je.collection.database.closed||function Oi(je){var wt=je.asRxQuery.collection._changeEventBuffer.getCounter();return je._latestChangeEvent>=wt}(je))return L.Dr;var wt=!1,$t=!1;if(-1===je._latestChangeEvent&&($t=!0),!$t){var Gt=je.asRxQuery.collection._changeEventBuffer.getFrom(je._latestChangeEvent+1);if(null===Gt)$t=!0;else{je._latestChangeEvent=je.asRxQuery.collection._changeEventBuffer.getCounter();var ln=je.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(Gt);if("count"===je.op){var ie=(0,I.ZN)(je._result).count,Je=ie;ln.forEach(Ue=>{var pt=Ue.previousDocumentData&&je.doesDocumentDataMatch(Ue.previousDocumentData),Xt=je.doesDocumentDataMatch(Ue.documentData);!pt&&Xt&&Je++,pt&&!Xt&&Je--}),Je!==ie&&(wt=!0,je._setResultData(Je))}else{var we=Ur(je,ln);we.runFullQueryAgain?$t=!0:we.changed&&(wt=!0,je._setResultData(we.newResults))}}}return $t?je._execOverDatabase().then(Ue=>{var pt=Ue.result;return je._latestChangeEvent=Ue.counter,"number"==typeof pt?((!je._result||pt!==je._result.count)&&(wt=!0,je._setResultData(pt)),wt):((!je._result||!(0,O.YL)(je.collection.schema.primaryPath,pt,je._result.docsData))&&(wt=!0,je._setResultData(pt)),wt)}):Promise.resolve(wt)}(je)),je._ensureEqualQueue})).apply(this,arguments)}function Mi(je){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.A)(function*(je){var wt=[],$t=je.collection;if(je.isFindOneByIdQuery)if(Array.isArray(je.isFindOneByIdQuery)){var Gt=je.isFindOneByIdQuery;if((Gt=Gt.filter(Xt=>{var nn=je.collection._docCache.getLatestDocumentDataIfExists(Xt);return!nn||(nn._deleted||wt.push(nn),!1)})).length>0){var ln=yield $t.storageInstance.findDocumentsById(Gt,!1);(0,p.Hb)(wt,ln)}}else{var ie=je.isFindOneByIdQuery,Je=je.collection._docCache.getLatestDocumentDataIfExists(ie);if(!Je){var we=yield $t.storageInstance.findDocumentsById([ie],!1);we[0]&&(Je=we[0])}Je&&!Je._deleted&&wt.push(Je)}else{var Ue=je.getPreparedQuery(),pt=yield $t.storageInstance.query(Ue);wt=pt.documents}return{docs:wt,counter:$t._changeEventBuffer.getCounter()}})).apply(this,arguments)}},9172(ct,E,a){"use strict";a.d(E,{Z:()=>D});var u=a(8793),r=a(9326),d=a(9974);function D(...$){const P=(0,r.lI)($);return(0,d.N)((S,_)=>{(P?(0,u.x)($,S,P):(0,u.x)($,S)).subscribe(_)})}},9182(ct,E,a){"use strict";a.d(E,{NP:()=>C,Wq:()=>L,wJ:()=>b});var u=a(9650),r=a(7176),d=a(6636),D=a(6434),$=a(4740),P=a(2284),S=a(1885),_=a(3896),b=function(){function U(p,F){if(this.jsonSchema=p,this.hashFunction=F,this.indexes=function W(U){return(U.indexes||[]).map(O=>(0,r.k_)(O)?O:[O])}(this.jsonSchema),this.primaryPath=(0,S.xQ)(this.jsonSchema.primaryKey),!p.properties[this.primaryPath].maxLength)throw(0,$.Br)("SC39",{schema:p});this.finalFields=(0,S.uK)(this.jsonSchema)}var O=U.prototype;return O.validateChange=function(F,T){this.finalFields.forEach(M=>{if(!(0,d.b)(F[M],T[M]))throw(0,$.Br)("DOC9",{dataBefore:F,dataAfter:T,fieldName:M,schema:this.jsonSchema})})},O.getDocumentPrototype=function(){var F={},T=(0,S.nT)(this.jsonSchema,"");return Object.keys(T).forEach(M=>{var V=M;F.__defineGetter__(M,function(){if(this.get&&"function"==typeof this.get)return this.get(V)}),Object.defineProperty(F,M+"$",{get:function(){return this.get$(V)},enumerable:!1,configurable:!1}),Object.defineProperty(F,M+"$$",{get:function(){return this.get$$(V)},enumerable:!1,configurable:!1}),Object.defineProperty(F,M+"_",{get:function(){return this.populate(V)},enumerable:!1,configurable:!1})}),(0,D.Ns)(this,"getDocumentPrototype",()=>F),F},O.getPrimaryOfDocumentData=function(F){return(0,S.U)(this.jsonSchema,F)},(0,u.A)(U,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var p={};return Object.entries(this.jsonSchema.properties).filter(([,F])=>Object.prototype.hasOwnProperty.call(F,"default")).forEach(([F,T])=>p[F]=T.default),(0,D.Ns)(this,"defaultValues",p)}},{key:"hash",get:function(){return(0,D.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function C(U){var p=0;return new Array(U.version?U.version:0).fill(0).map(()=>p++)}function L(U,O,p=!0){p&&(0,P.Xi)("preCreateRxSchema",U);var F=(0,S.Ud)(U);F=(0,S.d1)(F),_.h.deepFreezeWhenDevMode(F);var T=new b(F,O);return(0,P.Xi)("createRxSchema",T),T}},9270(ct,E,a){"use strict";a.d(E,{f:()=>u});const u={setTimeout(r,d,...D){const{delegate:$}=u;return $?.setTimeout?$.setTimeout(r,d,...D):setTimeout(r,d,...D)},clearTimeout(r){const{delegate:d}=u;return(d?.clearTimeout||clearTimeout)(r)},delegate:void 0}},9293(ct){function E(u,r,d,D,$,P,S){try{var _=u[P](S),b=_.value}catch(W){return void d(W)}_.done?r(b):Promise.resolve(b).then(D,$)}ct.exports=function a(u){return function(){var r=this,d=arguments;return new Promise(function(D,$){var P=u.apply(r,d);function S(b){E(P,D,$,S,_,"next",b)}function _(b){E(P,D,$,S,_,"throw",b)}S(void 0)})}},ct.exports.__esModule=!0,ct.exports.default=ct.exports},9310(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.validateSchemaDeps=E.validatePropertyDeps=E.error=void 0;const u=a(5432),r=a(7868),d=a(2240);E.error={message:({params:{property:_,depsCount:b,deps:W}})=>u.str`must have ${1===b?"property":"properties"} ${W} when property ${_} is present`,params:({params:{property:_,depsCount:b,deps:W,missingProperty:C}})=>u._`{property: ${_},
    missingProperty: ${C},
    depsCount: ${b},
    deps: ${W}}`};const D={keyword:"dependencies",type:"object",schemaType:"object",error:E.error,code(_){const[b,W]=function $({schema:_}){const b={},W={};for(const C in _)"__proto__"!==C&&((Array.isArray(_[C])?b:W)[C]=_[C]);return[b,W]}(_);P(_,b),S(_,W)}};function P(_,b=_.schema){const{gen:W,data:C,it:L}=_;if(0===Object.keys(b).length)return;const I=W.let("missing");for(const A in b){const U=b[A];if(0===U.length)continue;const O=(0,d.propertyInData)(W,C,A,L.opts.ownProperties);_.setParams({property:A,depsCount:U.length,deps:U.join(", ")}),L.allErrors?W.if(O,()=>{for(const p of U)(0,d.checkReportMissingProp)(_,p)}):(W.if(u._`${O} && (${(0,d.checkMissingProp)(_,U,I)})`),(0,d.reportMissingProp)(_,I),W.else())}}function S(_,b=_.schema){const{gen:W,data:C,keyword:L,it:I}=_,A=W.name("valid");for(const U in b)(0,r.alwaysValidSchema)(I,b[U])||(W.if((0,d.propertyInData)(W,C,U,I.opts.ownProperties),()=>{const O=_.subschema({keyword:L,schemaProp:U},A);_.mergeValidEvaluated(O,A)},()=>W.var(A,!0)),_.ok(A))}E.validatePropertyDeps=P,E.validateSchemaDeps=S,E.default=D},9318(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.boolOrEmptySchema=E.topBoolOrEmptySchema=void 0;const u=a(7511),r=a(5432),d=a(2682),D={message:"boolean schema is false"};function S(_,b){const{gen:W,data:C}=_;(0,u.reportError)({gen:W,keyword:"false schema",data:C,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:_},D,void 0,b)}E.topBoolOrEmptySchema=function $(_){const{gen:b,schema:W,validateName:C}=_;!1===W?S(_,!1):"object"==typeof W&&!0===W.$async?b.return(d.default.data):(b.assign(r._`${C}.errors`,null),b.return(!0))},E.boolOrEmptySchema=function P(_,b){const{gen:W,schema:C}=_;!1===C?(W.var(b,!1),S(_)):W.var(b,!0)}},9326(ct,E,a){"use strict";a.d(E,{R0:()=>P,lI:()=>$,ms:()=>D});var u=a(8071),r=a(9470);function d(S){return S[S.length-1]}function D(S){return(0,u.T)(d(S))?S.pop():void 0}function $(S){return(0,r.m)(d(S))?S.pop():void 0}function P(S,_){return"number"==typeof d(S)?S.pop():_}},9350(ct,E,a){"use strict";a.d(E,{G:()=>r});const r=(0,a(1853).L)(d=>function(){d(this),this.name="EmptyError",this.message="no elements in sequence"})},9377(ct,E,a){"use strict";a.d(E,{C:()=>d});var u=a(7624),r=a(4671);const d=(P,S,_)=>(0,r.Im)(S)?P:($(S,_),P.map(D(S,u.qk.init(_))));function D(P,S,_=!0){const b=S.idKey,W=Object.keys(P),C=new Array,L=new Array,I={};for(const T of W){const M=P[T];if((0,r.Et)(M)||(0,r.Lm)(M))M?L.push(T):C.push(T);else if((0,r.cy)(M))I[T]=V=>M.map(B=>(0,u.px)(V,B,null,S.update(V))??null);else if((0,r.Gv)(M)){const V=Object.keys(M),B=1==V.length?V[0]:"",q=(0,u.F5)("projection",B,S);q?I[T]="$slice"!==B||(0,r.eC)(M[B]).every(r.Et)?Q=>q(Q,M[B],T,S.update(Q)):Q=>(0,u.px)(Q,M,T,S.update(Q)):(0,r.Zo)(B)?I[T]=G=>(0,u.px)(G,M[B],B,S):($(M,S),I[T]=G=>{if(!(0,r.zy)(G,T))return(0,u.px)(G,M,null,S);_&&S.update(G);const Q=(0,r.hd)(G,T),ne=D(M,S,!1);return(0,r.cy)(Q)?Q.map(ne):(0,r.Gv)(Q)?ne(Q):ne(G)})}else I[T]=(0,r.Kg)(M)&&"$"===M[0]?V=>(0,u.px)(V,M,T,S):V=>M}const A=Object.keys(I),U=C.includes(b);if(_&&U&&1===C.length&&!L.length&&!A.length)return T=>{const M={...T};return delete M[b],M};const p=_&&!U&&!L.includes(b),F={preserveMissing:!0};return T=>{const M={};if(C.length&&!L.length){(0,r.h1)(M,T);for(const V of C)(0,r.yT)(M,V,{descendArray:!0})}for(const V of L){const B=(0,r.Rm)(T,V,F)??{};(0,r.h1)(M,B)}L.length&&(0,r.B2)(M);for(const V of A){const B=I[V](T);void 0===B?(0,r.yT)(M,V,{descendArray:!0}):(0,r.KY)(M,V,B)}return p&&(0,r.zy)(T,b)&&(M[b]=(0,r.hd)(T,b)),M}}function $(P,S){let _=!1,b=!1;for(const[W,C]of Object.entries(P))(0,r.vA)(!W.startsWith("$"),"Field names may not start with '$'."),(0,r.vA)(!W.endsWith(".$"),"Positional projection operator '$' is not supported."),W!==S?.idKey&&(0===C||!1===C?_=!0:(1===C||!0===C)&&(b=!0),(0,r.vA)(!(_&&b),"Projection cannot have a mix of inclusion and exclusion."))}},9403(ct,E,a){"use strict";function u(d,D){var $=d.get(D);if(typeof $>"u")throw new Error("missing value from map "+D);return $}function r(d,D,$,P){var S=d.get(D);return typeof S>"u"?(S=$(),d.set(D,S)):P&&P(S),S}a.d(E,{m:()=>u,q:()=>r})},9437(ct,E,a){"use strict";a.d(E,{W:()=>D});var u=a(8750),r=a(4360),d=a(9974);function D($){return(0,d.N)((P,S)=>{let W,_=null,b=!1;_=P.subscribe((0,r._)(S,void 0,void 0,C=>{W=(0,u.Tg)($(C,D($)(P))),_?(_.unsubscribe(),_=null,W.subscribe(S)):b=!0})),b&&(_.unsubscribe(),_=null,W.subscribe(S))})}},9455(ct,E,a){"use strict";a.d(E,{Os:()=>I});var W,u=a(6827),r=a(7459),d=a(467),D=a(1885),$=a(9403),P=a(5520),S=new Map,I=function _(A,U){var O=(0,$.q)(S,U,()=>new Map);function p(F){return(0,$.q)(O,JSON.stringify(F),()=>A(F))}return F=>Object.assign({},F.storage,{name:"validate-"+U+"-"+F.storage.name,createStorageInstance:T=>(0,d.A)(function*(){var B,M=yield F.storage.createStorageInstance(T),V=(0,D.xQ)(T.schema.primaryKey);(0,P.D)(()=>B=p(T.schema));var q=M.bulkWrite.bind(M);return M.bulkWrite=(G,Q)=>{B||(B=p(T.schema));var ne=[],ue=[];return G.forEach(Oe=>{var nt=Oe.document[V],ge=B(Oe.document);ge.length>0?ne.push({status:422,isError:!0,documentId:nt,validationErrors:ge,schema:M.schema,writeRow:Oe}):ue.push(Oe)}),(ue.length>0?q(ue,Q):Promise.resolve({error:[],success:[]})).then(Oe=>(ne.forEach(nt=>{Oe.error.push(nt)}),Oe))},M})()})}(function L(A){var U=function C(){return W||((W=new u({strict:!0})).addKeyword("version"),W.addKeyword("keyCompression"),W.addKeyword("primaryKey"),W.addKeyword("indexes"),W.addKeyword("encrypted"),W.addKeyword("final"),W.addKeyword("sharding"),W.addKeyword("internalIndexes"),W.addKeyword("attachments"),W.addKeyword("ref"),W.addKeyword("crdt"),r(W)),W}().compile(A);return O=>U(O)?[]:U.errors},"ajv")},9470(ct,E,a){"use strict";a.d(E,{m:()=>r});var u=a(8071);function r(d){return d&&(0,u.T)(d.schedule)}},9492(ct,E,a){"use strict";a.d(E,{X:()=>T});var u=a(3104),$="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function d(M){process.on("exit",function(){return M()}),process.on("beforeExit",function(){return M().then(function(){return process.exit()})}),process.on("SIGINT",function(){return M().then(function(){return process.exit()})}),process.on("uncaughtException",function(V){return M().then(function(){console.trace(V),process.exit(101)})})}:function r(M){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var V=self.close.bind(self);self.close=function(){return M(),V()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){M()},!0),window.addEventListener("unload",function(){M()},!0)}},P=new Set,S=!1;function W(){var M=[];return P.forEach(function(V){M.push(V()),P.delete(V)}),Promise.all(M)}function I(M,V){return M.broadcastChannel.postInternal({context:"leader",action:V,token:M.token})}function A(M){M.isLeader=!0,M._hasLeader=!0;var V=function b(M){if(function _(){S||(S=!0,$(W))}(),"function"!=typeof M)throw new Error("Listener is no function");return P.add(M),{remove:function(){return P.delete(M)},run:function(){return P.delete(M),M()}}}(function(){return M.die()});M._unl.push(V);var B=function(G){"leader"===G.context&&"apply"===G.action&&I(M,"tell"),"leader"===G.context&&"tell"===G.action&&!M._dpLC&&(M._dpLC=!0,M._dpL(),I(M,"tell"))};return M.broadcastChannel.addEventListener("internal",B),M._lstns.push(B),I(M,"tell")}var U=function(V,B){var q=this;this.broadcastChannel=V,V._befC.push(function(){return q.die()}),this._options=B,this.isLeader=!1,this.isDead=!1,this.token=(0,u.zs)(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+V.method.type+"||"+V.name};U.prototype={hasLeader:function(){var V=this;return navigator.locks.query().then(function(B){var q=B.held?B.held.filter(function(G){return G.name===V.lN}):[];return!!(q&&q.length>0)})},awaitLeadership:function(){var V=this;if(!this._wLMP){this._wKMC.c=new AbortController;var B=new Promise(function(q,G){V._wKMC.res=q,V._wKMC.rej=G});this._wLMP=new Promise(function(q,G){navigator.locks.request(V.lN,{signal:V._wKMC.c.signal},function(){return V._wKMC.c=void 0,A(V),q(),B}).catch(function(Q){V._wKMC.rej&&V._wKMC.rej(Q),G(Q)})})}return this._wLMP},set onduplicate(M){},die:function(){var V=this;return this._lstns.forEach(function(B){return V.broadcastChannel.removeEventListener("internal",B)}),this._lstns=[],this._unl.forEach(function(B){return B.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),I(this,"death")}};var O=function(V,B){var q=this;this.broadcastChannel=V,this._options=B,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=(0,u.zs)(),this._aplQ=u.o,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var G=function(ne){"leader"===ne.context&&("death"===ne.action&&(q._hasLeader=!1),"tell"===ne.action&&(q._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",G),this._lstns.push(G)};function T(M,V){if(M._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");V=function F(M,V){return M||(M={}),(M=JSON.parse(JSON.stringify(M))).fallbackInterval||(M.fallbackInterval=3e3),M.responseTime||(M.responseTime=V.method.averageResponseTime(V.options)),M}(V,M);var B=(0,u.UU)()?new U(M,V):new O(M,V);return M._befC.push(function(){return B.die()}),M._leaderElector=B,B}O.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(V){var B=this;return this.isLeader?(0,u.yy)(0,!0):this.isDead?(0,u.yy)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(B.isLeader)return u.aS;var ne,Q=!1,ue=new Promise(function(nt){ne=function(){Q=!0,nt()}}),ve=function(ge){"leader"===ge.context&&ge.token!=B.token&&("apply"===ge.action&&ge.token>B.token&&ne(),"tell"===ge.action&&(ne(),B._hasLeader=!0))};B.broadcastChannel.addEventListener("internal",ve);var Oe=V?4*B._options.responseTime:B._options.responseTime;return I(B,"apply").then(function(){return Promise.race([(0,u.yy)(Oe),ue.then(function(){return Promise.reject(new Error)})])}).then(function(){return I(B,"apply")}).then(function(){return Promise.race([(0,u.yy)(Oe),ue.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return B.broadcastChannel.removeEventListener("internal",ve),!Q&&A(B).then(function(){return!0})})}()}).then(function(){B._aplQC=B._aplQC-1}),this._aplQ.then(function(){return B.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function p(M){return M.isLeader?u.o:new Promise(function(V){var B=!1;function q(){B||(B=!0,M.broadcastChannel.removeEventListener("internal",Q),V(!0))}M.applyOnce().then(function(){M.isLeader&&q()});var G=function(){return(0,u.yy)(M._options.fallbackInterval).then(function(){if(!M.isDead&&!B){if(!M.isLeader)return M.applyOnce(!0).then(function(){M.isLeader?q():G()});q()}})};G();var Q=function(ue){"leader"===ue.context&&"death"===ue.action&&(M._hasLeader=!1,M.applyOnce().then(function(){M.isLeader&&q()}))};M.broadcastChannel.addEventListener("internal",Q),M._lstns.push(Q)})}(this)),this._aLP},set onduplicate(M){this._dpL=M},die:function(){var V=this;return this._lstns.forEach(function(B){return V.broadcastChannel.removeEventListener("internal",B)}),this._lstns=[],this._unl.forEach(function(B){return B.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,I(this,"death")}}},9568(ct,E,a){"use strict";a.d(E,{t:()=>_});var u=a(2771),r=a(8750),d=a(1413),D=a(7707),$=a(9974);function S(b,W,...C){if(!0===W)return void b();if(!1===W)return;const L=new D.Ms({next:()=>{L.unsubscribe(),b()}});return(0,r.Tg)(W(...C)).subscribe(L)}function _(b,W,C){let L,I=!1;return b&&"object"==typeof b?({bufferSize:L=1/0,windowTime:W=1/0,refCount:I=!1,scheduler:C}=b):L=b??1/0,function P(b={}){const{connector:W=()=>new d.B,resetOnError:C=!0,resetOnComplete:L=!0,resetOnRefCountZero:I=!0}=b;return A=>{let U,O,p,F=0,T=!1,M=!1;const V=()=>{O?.unsubscribe(),O=void 0},B=()=>{V(),U=p=void 0,T=M=!1},q=()=>{const G=U;B(),G?.unsubscribe()};return(0,$.N)((G,Q)=>{F++,!M&&!T&&V();const ne=p=p??W();Q.add(()=>{F--,0===F&&!M&&!T&&(O=S(q,I))}),ne.subscribe(Q),!U&&F>0&&(U=new D.Ms({next:ue=>ne.next(ue),error:ue=>{M=!0,V(),O=S(B,C,ue),ne.error(ue)},complete:()=>{T=!0,V(),O=S(B,L),ne.complete()}}),(0,r.Tg)(G).subscribe(U))})(A)}}({connector:()=>new u.m(L,W,C),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:I})}},9650(ct,E,a){"use strict";function u(P){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(P)}function d(P){var S=function r(P,S){if("object"!=u(P)||!P)return P;var _=P[Symbol.toPrimitive];if(void 0!==_){var b=_.call(P,S||"default");if("object"!=u(b))return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(P)}(P,"string");return"symbol"==u(S)?S:S+""}function D(P,S){for(var _=0;_<S.length;_++){var b=S[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,d(b.key),b)}}function $(P,S,_){return S&&D(P.prototype,S),_&&D(P,_),Object.defineProperty(P,"prototype",{writable:!1}),P}a.d(E,{A:()=>$})},9769(ct,E,a){"use strict";a.d(E,{IJ:()=>Ii,MD:()=>ln,WO:()=>ii,YU:()=>kr,fw:()=>P,lG:()=>yi});var u=a(7705),r=a(375),d=a(5547),D=a(5984),$=a(6494);let P=(()=>{class ie extends D.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(we,Ue){super(),this._platformLocation=we,null!=Ue&&(this._baseHref=Ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(we){this._removeListenerFns.push(this._platformLocation.onPopState(we),this._platformLocation.onHashChange(we))}getBaseHref(){return this._baseHref}path(we=!1){const Ue=this._platformLocation.hash??"#";return Ue.length>0?Ue.substring(1):Ue}prepareExternalUrl(we){const Ue=(0,D.om)(this._baseHref,we);return Ue.length>0?"#"+Ue:Ue}pushState(we,Ue,pt,Xt){const nn=this.prepareExternalUrl(pt+(0,D.Q)(Xt))||this._platformLocation.pathname;this._platformLocation.pushState(we,Ue,nn)}replaceState(we,Ue,pt,Xt){const nn=this.prepareExternalUrl(pt+(0,D.Q)(Xt))||this._platformLocation.pathname;this._platformLocation.replaceState(we,Ue,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(we=0){this._platformLocation.historyGo?.(we)}static \u0275fac=function(Ue){return new(Ue||ie)(r.KVO($.Vw),r.KVO(D.kB,8))};static \u0275prov=r.jDH({token:ie,factory:ie.\u0275fac})}return ie})();var b=function(ie){return ie[ie.Zero=0]="Zero",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Few=3]="Few",ie[ie.Many=4]="Many",ie[ie.Other=5]="Other",ie}(b||{});const ge=d.Jt5;let Er=(()=>{class ie{static \u0275fac=function(Ue){return new(Ue||ie)};static \u0275prov=r.jDH({token:ie,factory:()=>new Hr((0,r.WQX)(d.xe9)),providedIn:"root"})}return ie})();let Hr=(()=>{class ie extends Er{locale;constructor(we){super(),this.locale=we}getPluralCategory(we,Ue){switch(ge(Ue||this.locale)(we)){case b.Zero:return"zero";case b.One:return"one";case b.Two:return"two";case b.Few:return"few";case b.Many:return"many";default:return"other"}}static \u0275fac=function(Ue){return new(Ue||ie)(r.KVO(d.xe9))};static \u0275prov=r.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const br=/\s+/,Kr=[];let kr=(()=>{class ie{_ngEl;_renderer;initialClasses=Kr;rawClass;stateMap=new Map;constructor(we,Ue){this._ngEl=we,this._renderer=Ue}set klass(we){this.initialClasses=null!=we?we.trim().split(br):Kr}set ngClass(we){this.rawClass="string"==typeof we?we.trim().split(br):we}ngDoCheck(){for(const Ue of this.initialClasses)this._updateState(Ue,!0);const we=this.rawClass;if(Array.isArray(we)||we instanceof Set)for(const Ue of we)this._updateState(Ue,!0);else if(null!=we)for(const Ue of Object.keys(we))this._updateState(Ue,!!we[Ue]);this._applyStateDiff()}_updateState(we,Ue){const pt=this.stateMap.get(we);void 0!==pt?(pt.enabled!==Ue&&(pt.changed=!0,pt.enabled=Ue),pt.touched=!0):this.stateMap.set(we,{enabled:Ue,changed:!0,touched:!0})}_applyStateDiff(){for(const we of this.stateMap){const Ue=we[0],pt=we[1];pt.changed?(this._toggleClass(Ue,pt.enabled),pt.changed=!1):pt.touched||(pt.enabled&&this._toggleClass(Ue,!1),this.stateMap.delete(Ue)),pt.touched=!1}}_toggleClass(we,Ue){(we=we.trim()).length>0&&we.split(br).forEach(pt=>{Ue?this._renderer.addClass(this._ngEl.nativeElement,pt):this._renderer.removeClass(this._ngEl.nativeElement,pt)})}static \u0275fac=function(Ue){return new(Ue||ie)(d.rXU(d.aKT),d.rXU(d.sFG))};static \u0275dir=d.FsC({type:ie,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return ie})();class zr{_viewContainerRef;_templateRef;_created=!1;constructor(Je,we){this._viewContainerRef=Je,this._templateRef=we}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Je){Je&&!this._created?this.create():!Je&&this._created&&this.destroy()}}let Ii=(()=>{class ie{_localization;_activeView;_caseViews={};constructor(we){this._localization=we}set ngPlural(we){this._updateView(we)}addCase(we,Ue){this._caseViews[we]=Ue}_updateView(we){this._clearViews();const pt=function Tr(ie,Je,we,Ue){let pt=`=${ie}`;if(Je.indexOf(pt)>-1||(pt=we.getPluralCategory(ie,Ue),Je.indexOf(pt)>-1))return pt;if(Je.indexOf("other")>-1)return"other";throw new r.buA(2308,!1)}(we,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[pt])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(we){we&&(this._activeView=we,this._activeView.create())}static \u0275fac=function(Ue){return new(Ue||ie)(d.rXU(Er))};static \u0275dir=d.FsC({type:ie,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}})}return ie})(),ii=(()=>{class ie{value;constructor(we,Ue,pt,Xt){this.value=we;const nn=!isNaN(Number(we));Xt.addCase(nn?`=${we}`:we,new zr(pt,Ue))}static \u0275fac=function(Ue){return new(Ue||ie)(d.kS0("ngPluralCase"),d.rXU(d.C4Q),d.rXU(d.c1b),d.rXU(Ii,1))};static \u0275dir=d.FsC({type:ie,selectors:[["","ngPluralCase",""]]})}return ie})(),yi=(()=>{class ie{differs;constructor(we){this.differs=we}differ;keyValues=[];compareFn=Mi;transform(we,Ue=Mi){if(!we||!(we instanceof Map)&&"object"!=typeof we)return null;this.differ??=this.differs.find(we).create();const pt=this.differ.diff(we),Xt=Ue!==this.compareFn;return pt&&(this.keyValues=[],pt.forEachItem(nn=>{this.keyValues.push(function Zn(ie,Je){return{key:ie,value:Je}}(nn.key,nn.currentValue))})),(pt||Xt)&&(Ue&&this.keyValues.sort(Ue),this.compareFn=Ue),this.keyValues}static \u0275fac=function(Ue){return new(Ue||ie)(d.rXU(u.MKu,16))};static \u0275pipe=d.EJ8({name:"keyvalue",type:ie,pure:!1})}return ie})();function Mi(ie,Je){const we=ie.key,Ue=Je.key;if(we===Ue)return 0;if(null==we)return 1;if(null==Ue)return-1;if("string"==typeof we&&"string"==typeof Ue)return we<Ue?-1:1;if("number"==typeof we&&"number"==typeof Ue)return we-Ue;if("boolean"==typeof we&&"boolean"==typeof Ue)return we<Ue?-1:1;const pt=String(we),Xt=String(Ue);return pt==Xt?0:pt<Xt?-1:1}let ln=(()=>{class ie{static \u0275fac=function(Ue){return new(Ue||ie)};static \u0275mod=d.$C({type:ie});static \u0275inj=r.G2t({})}return ie})()},9786(ct,E,a){"use strict";a.d(E,{Y:()=>d,l:()=>D});var u=a(1026);let r=null;function d($){if(u.$.useDeprecatedSynchronousErrorHandling){const P=!r;if(P&&(r={errorThrown:!1,error:null}),$(),P){const{errorThrown:S,error:_}=r;if(r=null,S)throw _}}else $()}function D($){u.$.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=$)}},9795(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(2676),r=a(207),d=a(3403),D=a(8555),$=a(6066),P=a(9310),S=a(2944),_=a(4491),b=a(8758),W=a(5852),C=a(6970),L=a(3968),I=a(2646),A=a(2937),U=a(3884),O=a(3337);E.default=function p(F=!1){const T=[C.default,L.default,I.default,A.default,U.default,O.default,S.default,_.default,P.default,b.default,W.default];return F?T.push(r.default,D.default):T.push(u.default,d.default),T.push($.default),T}},9807(ct,E,a){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const u=a(5432),r=u.operators,d={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},D={message:({keyword:P,schemaCode:S})=>u.str`must be ${d[P].okStr} ${S}`,params:({keyword:P,schemaCode:S})=>u._`{comparison: ${d[P].okStr}, limit: ${S}}`},$={keyword:Object.keys(d),type:"number",schemaType:"number",$data:!0,error:D,code(P){const{keyword:S,data:_,schemaCode:b}=P;P.fail$data(u._`${_} ${d[S].fail} ${b} || isNaN(${_})`)}};E.default=$},9819(ct,E,a){"use strict";a.d(E,{wb:()=>xi});var u=a(375),r=a(5547),d=a(8173);function $(Ve){return new u.buA(3e3,!1)}function U(Ve){return new u.buA(3002,!1)}function Y(Ve){switch(Ve.length){case 0:return new d.sf;case 1:return Ve[0];default:return new d.PZ(Ve)}}function _e(Ve,m,R=new Map,ee=new Map){const Pe=[],qe=[];let gt=-1,It=null;if(m.forEach(Ht=>{const en=Ht.get("offset"),Rn=en==gt,Mn=Rn&&It||new Map;Ht.forEach((ir,Gn)=>{let qn=Gn,tr=ir;if("offset"!==Gn)switch(qn=Ve.normalizePropertyName(qn,Pe),tr){case d.FX:tr=R.get(Gn);break;case d.kp:tr=ee.get(Gn);break;default:tr=Ve.normalizeStyleValue(Gn,qn,tr,Pe)}Mn.set(qn,tr)}),Rn||qe.push(Mn),It=Mn,gt=en}),Pe.length)throw function ve(){return new u.buA(3502,!1)}();return qe}function Le(Ve,m,R,ee){switch(m){case"start":Ve.onStart(()=>ee(R&&st(R,"start",Ve)));break;case"done":Ve.onDone(()=>ee(R&&st(R,"done",Ve)));break;case"destroy":Ve.onDestroy(()=>ee(R&&st(R,"destroy",Ve)))}}function st(Ve,m,R){const qe=K(Ve.element,Ve.triggerName,Ve.fromState,Ve.toState,m||Ve.phaseName,R.totalTime??Ve.totalTime,!!R.disabled),gt=Ve._data;return null!=gt&&(qe._data=gt),qe}function K(Ve,m,R,ee,Pe="",qe=0,gt){return{element:Ve,triggerName:m,fromState:R,toState:ee,phaseName:Pe,totalTime:qe,disabled:!!gt}}function De(Ve,m,R){let ee=Ve.get(m);return ee||Ve.set(m,ee=R),ee}function Te(Ve){const m=Ve.indexOf(":");return[Ve.substring(1,m),Ve.slice(m+1)]}const me=typeof document>"u"?null:document.documentElement;function j(Ve){const m=Ve.parentNode||Ve.host||null;return m===me?null:m}let Me=null,pe=!1;function Ze(Ve,m){for(;m;){if(m===Ve)return!0;m=j(m)}return!1}function ot(Ve,m,R){if(R)return Array.from(Ve.querySelectorAll(m));const ee=Ve.querySelector(m);return ee?[ee]:[]}const ze="ng-enter",Ge="ng-leave",Re="ng-trigger",Dt=".ng-trigger",at="ng-animating",Et=".ng-animating";function Vt(Ve){if("number"==typeof Ve)return Ve;const m=Ve.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:Yt(parseFloat(m[1]),m[2])}function Yt(Ve,m){return"s"===m?1e3*Ve:Ve}function ut(Ve,m,R){return Ve.hasOwnProperty("duration")?Ve:function Ut(Ve,m,R){let ee,Pe=0,qe="";if("string"==typeof Ve){const gt=Ve.match(Bt);if(null===gt)return m.push($()),{duration:0,delay:0,easing:""};ee=Yt(parseFloat(gt[1]),gt[2]);const It=gt[3];null!=It&&(Pe=Yt(parseFloat(It),gt[4]));const Ht=gt[5];Ht&&(qe=Ht)}else ee=Ve;if(!R){let gt=!1,It=m.length;ee<0&&(m.push(function P(){return new u.buA(3100,!1)}()),gt=!0),Pe<0&&(m.push(function S(){return new u.buA(3101,!1)}()),gt=!0),gt&&m.splice(It,0,$())}return{duration:ee,delay:Pe,easing:qe}}(Ve,m,R)}const Bt=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function fn(Ve,m,R){m.forEach((ee,Pe)=>{const qe=rn(Pe);R&&!R.has(Pe)&&R.set(Pe,Ve.style[qe]),Ve.style[qe]=ee})}function On(Ve,m){m.forEach((R,ee)=>{const Pe=rn(ee);Ve.style[Pe]=""})}function xn(Ve){return Array.isArray(Ve)?1==Ve.length?Ve[0]:(0,d.K2)(Ve):Ve}const Hn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xn(Ve){let m=[];if("string"==typeof Ve){let R;for(;R=Hn.exec(Ve);)m.push(R[1]);Hn.lastIndex=0}return m}function mt(Ve,m,R){const ee=`${Ve}`,Pe=ee.replace(Hn,(qe,gt)=>{let It=m[gt];return null==It&&(R.push(function b(){return new u.buA(3003,!1)}()),It=""),It.toString()});return Pe==ee?Ve:Pe}const kt=/-+([a-z0-9])/g;function rn(Ve){return Ve.replace(kt,(...m)=>m[1].toUpperCase())}function gn(Ve,m,R){switch(m.type){case d.If.Trigger:return Ve.visitTrigger(m,R);case d.If.State:return Ve.visitState(m,R);case d.If.Transition:return Ve.visitTransition(m,R);case d.If.Sequence:return Ve.visitSequence(m,R);case d.If.Group:return Ve.visitGroup(m,R);case d.If.Animate:return Ve.visitAnimate(m,R);case d.If.Keyframes:return Ve.visitKeyframes(m,R);case d.If.Style:return Ve.visitStyle(m,R);case d.If.Reference:return Ve.visitReference(m,R);case d.If.AnimateChild:return Ve.visitAnimateChild(m,R);case d.If.AnimateRef:return Ve.visitAnimateRef(m,R);case d.If.Query:return Ve.visitQuery(m,R);case d.If.Stagger:return Ve.visitStagger(m,R);default:throw function W(){return new u.buA(3004,!1)}()}}function Ir(Ve,m){return window.getComputedStyle(Ve)[m]}let fr=(()=>{class Ve{validateStyleProperty(R){return function ae(Ve){Me||(Me=function Ce(){return typeof document<"u"?document.body:null}()||{},pe=!!Me.style&&"WebkitAppearance"in Me.style);let m=!0;return Me.style&&!function te(Ve){return"ebkit"==Ve.substring(1,6)}(Ve)&&(m=Ve in Me.style,!m&&pe&&(m="Webkit"+Ve.charAt(0).toUpperCase()+Ve.slice(1)in Me.style)),m}(R)}containsElement(R,ee){return Ze(R,ee)}getParentElement(R){return j(R)}query(R,ee,Pe){return ot(R,ee,Pe)}computeStyle(R,ee,Pe){return Pe||""}animate(R,ee,Pe,qe,gt,It=[],Ht){return new d.sf(Pe,qe)}static \u0275fac=function(ee){return new(ee||Ve)};static \u0275prov=u.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();class Er{static NOOP=new fr}class Tr{}const br=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kr extends Tr{normalizePropertyName(m,R){return rn(m)}normalizeStyleValue(m,R,ee,Pe){let qe="";const gt=ee.toString().trim();if(br.has(R)&&0!==ee&&"0"!==ee)if("number"==typeof ee)qe="px";else{const It=ee.match(/^[+-]?[\d\.]+([a-z]*)$/);It&&0==It[1].length&&Pe.push(function C(){return new u.buA(3005,!1)}())}return gt+qe}}const ri=new Set(["true","1"]),zr=new Set(["false","0"]);function fi(Ve,m){const R=ri.has(Ve)||zr.has(Ve),ee=ri.has(m)||zr.has(m);return(Pe,qe)=>{let gt="*"==Ve||Ve==Pe,It="*"==m||m==qe;return!gt&&R&&"boolean"==typeof Pe&&(gt=Pe?ri.has(Ve):zr.has(Ve)),!It&&ee&&"boolean"==typeof qe&&(It=qe?ri.has(m):zr.has(m)),gt&&It}}const hi=new RegExp("s*:selfs*,?","g");function _i(Ve,m,R,ee){return new ii(Ve).build(m,R,ee)}class ii{_driver;constructor(m){this._driver=m}build(m,R,ee){const Pe=new tn(R);return this._resetContextStyleTimingState(Pe),gn(this,xn(m),Pe)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,R){let ee=R.queryCount=0,Pe=R.depCount=0;const qe=[],gt=[];return"@"==m.name.charAt(0)&&R.errors.push(function L(){return new u.buA(3006,!1)}()),m.definitions.forEach(It=>{if(this._resetContextStyleTimingState(R),It.type==d.If.State){const Ht=It,en=Ht.name;en.toString().split(/\s*,\s*/).forEach(Rn=>{Ht.name=Rn,qe.push(this.visitState(Ht,R))}),Ht.name=en}else if(It.type==d.If.Transition){const Ht=this.visitTransition(It,R);ee+=Ht.queryCount,Pe+=Ht.depCount,gt.push(Ht)}else R.errors.push(function I(){return new u.buA(3007,!1)}())}),{type:d.If.Trigger,name:m.name,states:qe,transitions:gt,queryCount:ee,depCount:Pe,options:null}}visitState(m,R){const ee=this.visitStyle(m.styles,R),Pe=m.options&&m.options.params||null;if(ee.containsDynamicStyles){const qe=new Set,gt=Pe||{};ee.styles.forEach(It=>{It instanceof Map&&It.forEach(Ht=>{Xn(Ht).forEach(en=>{gt.hasOwnProperty(en)||qe.add(en)})})}),qe.size&&R.errors.push(function A(){return new u.buA(3008,!1)}(0,qe.values()))}return{type:d.If.State,name:m.name,style:ee,options:Pe?{params:Pe}:null}}visitTransition(m,R){R.queryCount=0,R.depCount=0;const ee=gn(this,xn(m.animation),R),Pe=function $r(Ve,m){const R=[];return"string"==typeof Ve?Ve.split(/\s*,\s*/).forEach(ee=>function yr(Ve,m,R){if(":"==Ve[0]){const Ht=function wr(Ve,m){switch(Ve){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(R,ee)=>parseFloat(ee)>parseFloat(R);case":decrement":return(R,ee)=>parseFloat(ee)<parseFloat(R);default:return m.push(function G(){return new u.buA(3016,!1)}()),"* => *"}}(Ve,R);if("function"==typeof Ht)return void m.push(Ht);Ve=Ht}const ee=Ve.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ee||ee.length<4)return R.push(function q(){return new u.buA(3015,!1)}()),m;const Pe=ee[1],qe=ee[2],gt=ee[3];m.push(fi(Pe,gt)),"<"==qe[0]&&("*"!=Pe||"*"!=gt)&&m.push(fi(gt,Pe))}(ee,R,m)):R.push(Ve),R}(m.expr,R.errors);return{type:d.If.Transition,matchers:Pe,animation:ee,queryCount:R.queryCount,depCount:R.depCount,options:Un(m.options)}}visitSequence(m,R){return{type:d.If.Sequence,steps:m.steps.map(ee=>gn(this,ee,R)),options:Un(m.options)}}visitGroup(m,R){const ee=R.currentTime;let Pe=0;const qe=m.steps.map(gt=>{R.currentTime=ee;const It=gn(this,gt,R);return Pe=Math.max(Pe,R.currentTime),It});return R.currentTime=Pe,{type:d.If.Group,steps:qe,options:Un(m.options)}}visitAnimate(m,R){const ee=function zn(Ve,m){if(Ve.hasOwnProperty("duration"))return Ve;if("number"==typeof Ve)return kn(ut(Ve,m).duration,0,"");const R=Ve;if(R.split(/\s+/).some(qe=>"{"==qe.charAt(0)&&"{"==qe.charAt(1))){const qe=kn(0,0,"");return qe.dynamic=!0,qe.strValue=R,qe}const Pe=ut(R,m);return kn(Pe.duration,Pe.delay,Pe.easing)}(m.timings,R.errors);R.currentAnimateTimings=ee;let Pe,qe=m.styles?m.styles:(0,d.iF)({});if(qe.type==d.If.Keyframes)Pe=this.visitKeyframes(qe,R);else{let gt=m.styles,It=!1;if(!gt){It=!0;const en={};ee.easing&&(en.easing=ee.easing),gt=(0,d.iF)(en)}R.currentTime+=ee.duration+ee.delay;const Ht=this.visitStyle(gt,R);Ht.isEmptyStep=It,Pe=Ht}return R.currentAnimateTimings=null,{type:d.If.Animate,timings:ee,style:Pe,options:null}}visitStyle(m,R){const ee=this._makeStyleAst(m,R);return this._validateStyleAst(ee,R),ee}_makeStyleAst(m,R){const ee=[],Pe=Array.isArray(m.styles)?m.styles:[m.styles];for(let It of Pe)"string"==typeof It?It===d.kp?ee.push(It):R.errors.push(U()):ee.push(new Map(Object.entries(It)));let qe=!1,gt=null;return ee.forEach(It=>{if(It instanceof Map&&(It.has("easing")&&(gt=It.get("easing"),It.delete("easing")),!qe))for(let Ht of It.values())if(Ht.toString().indexOf("{{")>=0){qe=!0;break}}),{type:d.If.Style,styles:ee,easing:gt,offset:m.offset,containsDynamicStyles:qe,options:null}}_validateStyleAst(m,R){const ee=R.currentAnimateTimings;let Pe=R.currentTime,qe=R.currentTime;ee&&qe>0&&(qe-=ee.duration+ee.delay),m.styles.forEach(gt=>{"string"!=typeof gt&&gt.forEach((It,Ht)=>{const en=R.collectedStyles.get(R.currentQuerySelector),Rn=en.get(Ht);let Mn=!0;Rn&&(qe!=Pe&&qe>=Rn.startTime&&Pe<=Rn.endTime&&(R.errors.push(function O(){return new u.buA(3010,!1)}()),Mn=!1),qe=Rn.startTime),Mn&&en.set(Ht,{startTime:qe,endTime:Pe}),R.options&&function Fn(Ve,m,R){const ee=m.params||{},Pe=Xn(Ve);Pe.length&&Pe.forEach(qe=>{ee.hasOwnProperty(qe)||R.push(function _(){return new u.buA(3001,!1)}())})}(It,R.options,R.errors)})})}visitKeyframes(m,R){const ee={type:d.If.Keyframes,styles:[],options:null};if(!R.currentAnimateTimings)return R.errors.push(function p(){return new u.buA(3011,!1)}()),ee;let qe=0;const gt=[];let It=!1,Ht=!1,en=0;const Rn=m.steps.map(xr=>{const Pr=this._makeStyleAst(xr,R);let ti=null!=Pr.offset?Pr.offset:function qt(Ve){if("string"==typeof Ve)return null;let m=null;if(Array.isArray(Ve))Ve.forEach(R=>{if(R instanceof Map&&R.has("offset")){const ee=R;m=parseFloat(ee.get("offset")),ee.delete("offset")}});else if(Ve instanceof Map&&Ve.has("offset")){const R=Ve;m=parseFloat(R.get("offset")),R.delete("offset")}return m}(Pr.styles),Lr=0;return null!=ti&&(qe++,Lr=Pr.offset=ti),Ht=Ht||Lr<0||Lr>1,It=It||Lr<en,en=Lr,gt.push(Lr),Pr});Ht&&R.errors.push(function F(){return new u.buA(3012,!1)}()),It&&R.errors.push(function T(){return new u.buA(3200,!1)}());const Mn=m.steps.length;let ir=0;qe>0&&qe<Mn?R.errors.push(function M(){return new u.buA(3202,!1)}()):0==qe&&(ir=1/(Mn-1));const Gn=Mn-1,qn=R.currentTime,tr=R.currentAnimateTimings,Nr=tr.duration;return Rn.forEach((xr,Pr)=>{const ti=ir>0?Pr==Gn?1:ir*Pr:gt[Pr],Lr=ti*Nr;R.currentTime=qn+tr.delay+Lr,tr.duration=Lr,this._validateStyleAst(xr,R),xr.offset=ti,ee.styles.push(xr)}),ee}visitReference(m,R){return{type:d.If.Reference,animation:gn(this,xn(m.animation),R),options:Un(m.options)}}visitAnimateChild(m,R){return R.depCount++,{type:d.If.AnimateChild,options:Un(m.options)}}visitAnimateRef(m,R){return{type:d.If.AnimateRef,animation:this.visitReference(m.animation,R),options:Un(m.options)}}visitQuery(m,R){const ee=R.currentQuerySelector,Pe=m.options||{};R.queryCount++,R.currentQuery=m;const[qe,gt]=function vt(Ve){const m=!!Ve.split(/\s*,\s*/).find(R=>":self"==R);return m&&(Ve=Ve.replace(hi,"")),Ve=Ve.replace(/@\*/g,Dt).replace(/@\w+/g,R=>Dt+"-"+R.slice(1)).replace(/:animating/g,Et),[Ve,m]}(m.selector);R.currentQuerySelector=ee.length?ee+" "+qe:qe,De(R.collectedStyles,R.currentQuerySelector,new Map);const It=gn(this,xn(m.animation),R);return R.currentQuery=null,R.currentQuerySelector=ee,{type:d.If.Query,selector:qe,limit:Pe.limit||0,optional:!!Pe.optional,includeSelf:gt,animation:It,originalSelector:m.selector,options:Un(m.options)}}visitStagger(m,R){R.currentQuery||R.errors.push(function V(){return new u.buA(3013,!1)}());const ee="full"===m.timings?{duration:0,delay:0,easing:"full"}:ut(m.timings,R.errors,!0);return{type:d.If.Stagger,animation:gn(this,xn(m.animation),R),timings:ee,options:null}}}class tn{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(m){this.errors=m}}function Un(Ve){return Ve?(Ve={...Ve}).params&&(Ve.params=function Wt(Ve){return Ve?{...Ve}:null}(Ve.params)):Ve={},Ve}function kn(Ve,m,R){return{duration:Ve,delay:m,easing:R}}function Vn(Ve,m,R,ee,Pe,qe,gt=null,It=!1){return{type:1,element:Ve,keyframes:m,preStyleProps:R,postStyleProps:ee,duration:Pe,delay:qe,totalTime:Pe+qe,easing:gt,subTimeline:It}}class jr{_map=new Map;get(m){return this._map.get(m)||[]}append(m,R){let ee=this._map.get(m);ee||this._map.set(m,ee=[]),ee.push(...R)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Pi=new RegExp(":enter","g"),Or=new RegExp(":leave","g");function Wr(Ve,m,R,ee,Pe,qe=new Map,gt=new Map,It,Ht,en=[]){return(new Gr).buildKeyframes(Ve,m,R,ee,Pe,qe,gt,It,Ht,en)}class Gr{buildKeyframes(m,R,ee,Pe,qe,gt,It,Ht,en,Rn=[]){en=en||new jr;const Mn=new oi(m,R,en,Pe,qe,Rn,[]);Mn.options=Ht;const ir=Ht.delay?Vt(Ht.delay):0;Mn.currentTimeline.delayNextStep(ir),Mn.currentTimeline.setStyles([gt],null,Mn.errors,Ht),gn(this,ee,Mn);const Gn=Mn.timelines.filter(qn=>qn.containsAnimation());if(Gn.length&&It.size){let qn;for(let tr=Gn.length-1;tr>=0;tr--){const Nr=Gn[tr];if(Nr.element===R){qn=Nr;break}}qn&&!qn.allowOnlyTimelineStyles()&&qn.setStyles([It],null,Mn.errors,Ht)}return Gn.length?Gn.map(qn=>qn.buildKeyframes()):[Vn(R,[],[],[],0,ir,"",!1)]}visitTrigger(m,R){}visitState(m,R){}visitTransition(m,R){}visitAnimateChild(m,R){const ee=R.subInstructions.get(R.element);if(ee){const Pe=R.createSubContext(m.options),qe=R.currentTimeline.currentTime,gt=this._visitSubInstructions(ee,Pe,Pe.options);qe!=gt&&R.transformIntoNewTimeline(gt)}R.previousNode=m}visitAnimateRef(m,R){const ee=R.createSubContext(m.options);ee.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],R,ee),this.visitReference(m.animation,ee),R.transformIntoNewTimeline(ee.currentTimeline.currentTime),R.previousNode=m}_applyAnimationRefDelays(m,R,ee){for(const Pe of m){const qe=Pe?.delay;if(qe){const gt="number"==typeof qe?qe:Vt(mt(qe,Pe?.params??{},R.errors));ee.delayNextStep(gt)}}}_visitSubInstructions(m,R,ee){let qe=R.currentTimeline.currentTime;const gt=null!=ee.duration?Vt(ee.duration):null,It=null!=ee.delay?Vt(ee.delay):null;return 0!==gt&&m.forEach(Ht=>{const en=R.appendInstructionToTimeline(Ht,gt,It);qe=Math.max(qe,en.duration+en.delay)}),qe}visitReference(m,R){R.updateOptions(m.options,!0),gn(this,m.animation,R),R.previousNode=m}visitSequence(m,R){const ee=R.subContextCount;let Pe=R;const qe=m.options;if(qe&&(qe.params||qe.delay)&&(Pe=R.createSubContext(qe),Pe.transformIntoNewTimeline(),null!=qe.delay)){Pe.previousNode.type==d.If.Style&&(Pe.currentTimeline.snapshotCurrentStyles(),Pe.previousNode=Ci);const gt=Vt(qe.delay);Pe.delayNextStep(gt)}m.steps.length&&(m.steps.forEach(gt=>gn(this,gt,Pe)),Pe.currentTimeline.applyStylesToKeyframe(),Pe.subContextCount>ee&&Pe.transformIntoNewTimeline()),R.previousNode=m}visitGroup(m,R){const ee=[];let Pe=R.currentTimeline.currentTime;const qe=m.options&&m.options.delay?Vt(m.options.delay):0;m.steps.forEach(gt=>{const It=R.createSubContext(m.options);qe&&It.delayNextStep(qe),gn(this,gt,It),Pe=Math.max(Pe,It.currentTimeline.currentTime),ee.push(It.currentTimeline)}),ee.forEach(gt=>R.currentTimeline.mergeTimelineCollectedStyles(gt)),R.transformIntoNewTimeline(Pe),R.previousNode=m}_visitTiming(m,R){if(m.dynamic){const ee=m.strValue;return ut(R.params?mt(ee,R.params,R.errors):ee,R.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,R){const ee=R.currentAnimateTimings=this._visitTiming(m.timings,R),Pe=R.currentTimeline;ee.delay&&(R.incrementTime(ee.delay),Pe.snapshotCurrentStyles());const qe=m.style;qe.type==d.If.Keyframes?this.visitKeyframes(qe,R):(R.incrementTime(ee.duration),this.visitStyle(qe,R),Pe.applyStylesToKeyframe()),R.currentAnimateTimings=null,R.previousNode=m}visitStyle(m,R){const ee=R.currentTimeline,Pe=R.currentAnimateTimings;!Pe&&ee.hasCurrentStyleProperties()&&ee.forwardFrame();const qe=Pe&&Pe.easing||m.easing;m.isEmptyStep?ee.applyEmptyStep(qe):ee.setStyles(m.styles,qe,R.errors,R.options),R.previousNode=m}visitKeyframes(m,R){const ee=R.currentAnimateTimings,Pe=R.currentTimeline.duration,qe=ee.duration,It=R.createSubContext().currentTimeline;It.easing=ee.easing,m.styles.forEach(Ht=>{It.forwardTime((Ht.offset||0)*qe),It.setStyles(Ht.styles,Ht.easing,R.errors,R.options),It.applyStylesToKeyframe()}),R.currentTimeline.mergeTimelineCollectedStyles(It),R.transformIntoNewTimeline(Pe+qe),R.previousNode=m}visitQuery(m,R){const ee=R.currentTimeline.currentTime,Pe=m.options||{},qe=Pe.delay?Vt(Pe.delay):0;qe&&(R.previousNode.type===d.If.Style||0==ee&&R.currentTimeline.hasCurrentStyleProperties())&&(R.currentTimeline.snapshotCurrentStyles(),R.previousNode=Ci);let gt=ee;const It=R.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!Pe.optional,R.errors);R.currentQueryTotal=It.length;let Ht=null;It.forEach((en,Rn)=>{R.currentQueryIndex=Rn;const Mn=R.createSubContext(m.options,en);qe&&Mn.delayNextStep(qe),en===R.element&&(Ht=Mn.currentTimeline),gn(this,m.animation,Mn),Mn.currentTimeline.applyStylesToKeyframe(),gt=Math.max(gt,Mn.currentTimeline.currentTime)}),R.currentQueryIndex=0,R.currentQueryTotal=0,R.transformIntoNewTimeline(gt),Ht&&(R.currentTimeline.mergeTimelineCollectedStyles(Ht),R.currentTimeline.snapshotCurrentStyles()),R.previousNode=m}visitStagger(m,R){const ee=R.parentContext,Pe=R.currentTimeline,qe=m.timings,gt=Math.abs(qe.duration),It=gt*(R.currentQueryTotal-1);let Ht=gt*R.currentQueryIndex;switch(qe.duration<0?"reverse":qe.easing){case"reverse":Ht=It-Ht;break;case"full":Ht=ee.currentStaggerTime}const Rn=R.currentTimeline;Ht&&Rn.delayNextStep(Ht);const Mn=Rn.currentTime;gn(this,m.animation,R),R.previousNode=m,ee.currentStaggerTime=Pe.currentTime-Mn+(Pe.startTime-ee.currentTimeline.startTime)}}const Ci={};class oi{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ci;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(m,R,ee,Pe,qe,gt,It,Ht){this._driver=m,this.element=R,this.subInstructions=ee,this._enterClassName=Pe,this._leaveClassName=qe,this.errors=gt,this.timelines=It,this.currentTimeline=Ht||new Jr(this._driver,R,0),It.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,R){if(!m)return;const ee=m;let Pe=this.options;null!=ee.duration&&(Pe.duration=Vt(ee.duration)),null!=ee.delay&&(Pe.delay=Vt(ee.delay));const qe=ee.params;if(qe){let gt=Pe.params;gt||(gt=this.options.params={}),Object.keys(qe).forEach(It=>{(!R||!gt.hasOwnProperty(It))&&(gt[It]=mt(qe[It],gt,this.errors))})}}_copyOptions(){const m={};if(this.options){const R=this.options.params;if(R){const ee=m.params={};Object.keys(R).forEach(Pe=>{ee[Pe]=R[Pe]})}}return m}createSubContext(m=null,R,ee){const Pe=R||this.element,qe=new oi(this._driver,Pe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Pe,ee||0));return qe.previousNode=this.previousNode,qe.currentAnimateTimings=this.currentAnimateTimings,qe.options=this._copyOptions(),qe.updateOptions(m),qe.currentQueryIndex=this.currentQueryIndex,qe.currentQueryTotal=this.currentQueryTotal,qe.parentContext=this,this.subContextCount++,qe}transformIntoNewTimeline(m){return this.previousNode=Ci,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,R,ee){const Pe={duration:R??m.duration,delay:this.currentTimeline.currentTime+(ee??0)+m.delay,easing:""},qe=new Oi(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,Pe,m.stretchStartingKeyframe);return this.timelines.push(qe),Pe}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,R,ee,Pe,qe,gt){let It=[];if(Pe&&It.push(this.element),m.length>0){m=(m=m.replace(Pi,"."+this._enterClassName)).replace(Or,"."+this._leaveClassName);let en=this._driver.query(this.element,m,1!=ee);0!==ee&&(en=ee<0?en.slice(en.length+ee,en.length):en.slice(0,ee)),It.push(...en)}return!qe&&0==It.length&&gt.push(function B(){return new u.buA(3014,!1)}()),It}}class Jr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(m,R,ee,Pe){this._driver=m,this.element=R,this.startTime=ee,this._elementTimelineStylesLookup=Pe,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(R),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(R,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const R=1===this._keyframes.size&&this._pendingStyles.size;this.duration||R?(this.forwardTime(this.currentTime+m),R&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,R){return this.applyStylesToKeyframe(),new Jr(this._driver,m,R||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,R){this._localTimelineStyles.set(m,R),this._globalTimelineStyles.set(m,R),this._styleSummary.set(m,{time:this.currentTime,value:R})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[R,ee]of this._globalTimelineStyles)this._backFill.set(R,ee||d.kp),this._currentKeyframe.set(R,d.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,R,ee,Pe){R&&this._previousKeyframe.set("easing",R);const qe=Pe&&Pe.params||{},gt=function Zn(Ve,m){const R=new Map;let ee;return Ve.forEach(Pe=>{if("*"===Pe){ee??=m.keys();for(let qe of ee)R.set(qe,d.kp)}else for(let[qe,gt]of Pe)R.set(qe,gt)}),R}(m,this._globalTimelineStyles);for(let[It,Ht]of gt){const en=mt(Ht,qe,ee);this._pendingStyles.set(It,en),this._localTimelineStyles.has(It)||this._backFill.set(It,this._globalTimelineStyles.get(It)??d.kp),this._updateStyle(It,en)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,R)=>{this._currentKeyframe.set(R,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,R)=>{this._currentKeyframe.has(R)||this._currentKeyframe.set(R,m)}))}snapshotCurrentStyles(){for(let[m,R]of this._localTimelineStyles)this._pendingStyles.set(m,R),this._updateStyle(m,R)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let R in this._currentKeyframe)m.push(R);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((R,ee)=>{const Pe=this._styleSummary.get(ee);(!Pe||R.time>Pe.time)&&this._updateStyle(ee,R.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,R=new Set,ee=1===this._keyframes.size&&0===this.duration;let Pe=[];this._keyframes.forEach((It,Ht)=>{const en=new Map([...this._backFill,...It]);en.forEach((Rn,Mn)=>{Rn===d.FX?m.add(Mn):Rn===d.kp&&R.add(Mn)}),ee||en.set("offset",Ht/this.duration),Pe.push(en)});const qe=[...m.values()],gt=[...R.values()];if(ee){const It=Pe[0],Ht=new Map(It);It.set("offset",0),Ht.set("offset",1),Pe=[It,Ht]}return Vn(this.element,Pe,qe,gt,this.duration,this.startTime,this.easing,!1)}}class Oi extends Jr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(m,R,ee,Pe,qe,gt,It=!1){super(m,R,gt.delay),this.keyframes=ee,this.preStyleProps=Pe,this.postStyleProps=qe,this._stretchStartingKeyframe=It,this.timings={duration:gt.duration,delay:gt.delay,easing:gt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:R,duration:ee,easing:Pe}=this.timings;if(this._stretchStartingKeyframe&&R){const qe=[],gt=ee+R,It=R/gt,Ht=new Map(m[0]);Ht.set("offset",0),qe.push(Ht);const en=new Map(m[0]);en.set("offset",$i(It)),qe.push(en);const Rn=m.length-1;for(let Mn=1;Mn<=Rn;Mn++){let ir=new Map(m[Mn]);const Gn=ir.get("offset");ir.set("offset",$i((R+Gn*ee)/gt)),qe.push(ir)}ee=gt,R=0,Pe="",m=qe}return Vn(this.element,m,this.preStyleProps,this.postStyleProps,ee,R,Pe,!0)}}function $i(Ve,m=3){const R=Math.pow(10,m-1);return Math.round(Ve*R)/R}function yi(Ve,m,R,ee,Pe,qe,gt,It,Ht,en,Rn,Mn,ir){return{type:0,element:Ve,triggerName:m,isRemovalTransition:Pe,fromState:R,fromStyles:qe,toState:ee,toStyles:gt,timelines:It,queriedElements:Ht,preStyleProps:en,postStyleProps:Rn,totalTime:Mn,errors:ir}}const Mi={};class pi{_triggerName;ast;_stateStyles;constructor(m,R,ee){this._triggerName=m,this.ast=R,this._stateStyles=ee}match(m,R,ee,Pe){return function Bi(Ve,m,R,ee,Pe){return Ve.some(qe=>qe(m,R,ee,Pe))}(this.ast.matchers,m,R,ee,Pe)}buildStyles(m,R,ee){let Pe=this._stateStyles.get("*");return void 0!==m&&(Pe=this._stateStyles.get(m?.toString())||Pe),Pe?Pe.buildStyles(R,ee):new Map}build(m,R,ee,Pe,qe,gt,It,Ht,en,Rn){const Mn=[],ir=this.ast.options&&this.ast.options.params||Mi,qn=this.buildStyles(ee,It&&It.params||Mi,Mn),tr=Ht&&Ht.params||Mi,Nr=this.buildStyles(Pe,tr,Mn),xr=new Set,Pr=new Map,ti=new Map,Lr="void"===Pe,qi={params:je(tr,ir),delay:this.ast.options?.delay},l=Rn?[]:Wr(m,R,this.ast.animation,qe,gt,qn,Nr,qi,en,Mn);let h=0;return l.forEach(H=>{h=Math.max(H.duration+H.delay,h)}),Mn.length?yi(R,this._triggerName,ee,Pe,Lr,qn,Nr,[],[],Pr,ti,h,Mn):(l.forEach(H=>{const oe=H.element,Ee=De(Pr,oe,new Set);H.preStyleProps.forEach(tt=>Ee.add(tt));const Be=De(ti,oe,new Set);H.postStyleProps.forEach(tt=>Be.add(tt)),oe!==R&&xr.add(oe)}),yi(R,this._triggerName,ee,Pe,Lr,qn,Nr,l,[...xr.values()],Pr,ti,h))}}function je(Ve,m){const R={...m};return Object.entries(Ve).forEach(([ee,Pe])=>{null!=Pe&&(R[ee]=Pe)}),R}class wt{styles;defaultParams;normalizer;constructor(m,R,ee){this.styles=m,this.defaultParams=R,this.normalizer=ee}buildStyles(m,R){const ee=new Map,Pe=je(m,this.defaultParams);return this.styles.styles.forEach(qe=>{"string"!=typeof qe&&qe.forEach((gt,It)=>{gt&&(gt=mt(gt,Pe,R));const Ht=this.normalizer.normalizePropertyName(It,R);gt=this.normalizer.normalizeStyleValue(It,Ht,gt,R),ee.set(It,gt)})}),ee}}class Gt{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(m,R,ee){this.name=m,this.ast=R,this._normalizer=ee,R.states.forEach(Pe=>{this.states.set(Pe.name,new wt(Pe.style,Pe.options&&Pe.options.params||{},ee))}),ie(this.states,"true","1"),ie(this.states,"false","0"),R.transitions.forEach(Pe=>{this.transitionFactories.push(new pi(m,Pe,this.states))}),this.fallbackTransition=function ln(Ve,m){return new pi(Ve,{type:d.If.Transition,animation:{type:d.If.Sequence,steps:[],options:null},matchers:[(gt,It)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,R,ee,Pe){return this.transitionFactories.find(gt=>gt.match(m,R,ee,Pe))||null}matchStyles(m,R,ee){return this.fallbackTransition.buildStyles(m,R,ee)}}function ie(Ve,m,R){Ve.has(m)?Ve.has(R)||Ve.set(R,Ve.get(m)):Ve.has(R)&&Ve.set(m,Ve.get(R))}const Je=new jr;class we{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(m,R,ee){this.bodyNode=m,this._driver=R,this._normalizer=ee}register(m,R){const ee=[],qe=_i(this._driver,R,ee,[]);if(ee.length)throw function Oe(){return new u.buA(3503,!1)}();this._animations.set(m,qe)}_buildPlayer(m,R,ee){const Pe=m.element,qe=_e(this._normalizer,m.keyframes,R,ee);return this._driver.animate(Pe,qe,m.duration,m.delay,m.easing,[],!0)}create(m,R,ee={}){const Pe=[],qe=this._animations.get(m);let gt;const It=new Map;if(qe?(gt=Wr(this._driver,R,qe,ze,Ge,new Map,new Map,ee,Je,Pe),gt.forEach(Rn=>{const Mn=De(It,Rn.element,new Map);Rn.postStyleProps.forEach(ir=>Mn.set(ir,null))})):(Pe.push(function nt(){return new u.buA(3300,!1)}()),gt=[]),Pe.length)throw function ge(){return new u.buA(3504,!1)}();It.forEach((Rn,Mn)=>{Rn.forEach((ir,Gn)=>{Rn.set(Gn,this._driver.computeStyle(Mn,Gn,d.kp))})});const en=Y(gt.map(Rn=>{const Mn=It.get(Rn.element);return this._buildPlayer(Rn,new Map,Mn)}));return this._playersById.set(m,en),en.onDestroy(()=>this.destroy(m)),this.players.push(en),en}destroy(m){const R=this._getPlayer(m);R.destroy(),this._playersById.delete(m);const ee=this.players.indexOf(R);ee>=0&&this.players.splice(ee,1)}_getPlayer(m){const R=this._playersById.get(m);if(!R)throw function xe(){return new u.buA(3301,!1)}();return R}listen(m,R,ee,Pe){const qe=K(R,"","","");return Le(this._getPlayer(m),ee,qe,Pe),()=>{}}command(m,R,ee,Pe){if("register"==ee)return void this.register(m,Pe[0]);if("create"==ee)return void this.create(m,R,Pe[0]||{});const qe=this._getPlayer(m);switch(ee){case"play":qe.play();break;case"pause":qe.pause();break;case"reset":qe.reset();break;case"restart":qe.restart();break;case"finish":qe.finish();break;case"init":qe.init();break;case"setPosition":qe.setPosition(parseFloat(Pe[0]));break;case"destroy":this.destroy(m)}}}const Ue="ng-animate-queued",Xt="ng-animate-disabled",Dr=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yn="__ng_removed";class ar{namespaceId;value;options;get params(){return this.options.params}constructor(m,R=""){this.namespaceId=R;const ee=m&&m.hasOwnProperty("value");if(this.value=function ji(Ve){return Ve??null}(ee?m.value:m),ee){const{value:qe,...gt}=m;this.options=gt}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const R=m.params;if(R){const ee=this.options.params;Object.keys(R).forEach(Pe=>{null==ee[Pe]&&(ee[Pe]=R[Pe])})}}}const mr="void",Ri=new ar(mr);class ki{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(m,R,ee){this.id=m,this.hostElement=R,this._engine=ee,this._hostClassName="ng-tns-"+m,ai(R,this._hostClassName)}listen(m,R,ee,Pe){if(!this._triggers.has(R))throw function He(){return new u.buA(3302,!1)}();if(null==ee||0==ee.length)throw function et(){return new u.buA(3303,!1)}();if(!function oo(Ve){return"start"==Ve||"done"==Ve}(ee))throw function Ke(){return new u.buA(3400,!1)}();const qe=De(this._elementListeners,m,[]),gt={name:R,phase:ee,callback:Pe};qe.push(gt);const It=De(this._engine.statesByElement,m,new Map);return It.has(R)||(ai(m,Re),ai(m,Re+"-"+R),It.set(R,Ri)),()=>{this._engine.afterFlush(()=>{const Ht=qe.indexOf(gt);Ht>=0&&qe.splice(Ht,1),this._triggers.has(R)||It.delete(R)})}}register(m,R){return!this._triggers.has(m)&&(this._triggers.set(m,R),!0)}_getTrigger(m){const R=this._triggers.get(m);if(!R)throw function Xe(){return new u.buA(3401,!1)}();return R}trigger(m,R,ee,Pe=!0){const qe=this._getTrigger(R),gt=new qr(this.id,R,m);let It=this._engine.statesByElement.get(m);It||(ai(m,Re),ai(m,Re+"-"+R),this._engine.statesByElement.set(m,It=new Map));let Ht=It.get(R);const en=new ar(ee,this.id);if(!(ee&&ee.hasOwnProperty("value"))&&Ht&&en.absorbOptions(Ht.options),It.set(R,en),Ht||(Ht=Ri),en.value!==mr&&Ht.value===en.value){if(!function Ki(Ve,m){const R=Object.keys(Ve),ee=Object.keys(m);if(R.length!=ee.length)return!1;for(let Pe=0;Pe<R.length;Pe++){const qe=R[Pe];if(!m.hasOwnProperty(qe)||Ve[qe]!==m[qe])return!1}return!0}(Ht.params,en.params)){const tr=[],Nr=qe.matchStyles(Ht.value,Ht.params,tr),xr=qe.matchStyles(en.value,en.params,tr);tr.length?this._engine.reportError(tr):this._engine.afterFlush(()=>{On(m,Nr),fn(m,xr)})}return}const ir=De(this._engine.playersByElement,m,[]);ir.forEach(tr=>{tr.namespaceId==this.id&&tr.triggerName==R&&tr.queued&&tr.destroy()});let Gn=qe.matchTransition(Ht.value,en.value,m,en.params),qn=!1;if(!Gn){if(!Pe)return;Gn=qe.fallbackTransition,qn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:R,transition:Gn,fromState:Ht,toState:en,player:gt,isFallbackTransition:qn}),qn||(ai(m,Ue),gt.onStart(()=>{Gi(m,Ue)})),gt.onDone(()=>{let tr=this.players.indexOf(gt);tr>=0&&this.players.splice(tr,1);const Nr=this._engine.playersByElement.get(m);if(Nr){let xr=Nr.indexOf(gt);xr>=0&&Nr.splice(xr,1)}}),this.players.push(gt),ir.push(gt),gt}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(R=>R.delete(m)),this._elementListeners.forEach((R,ee)=>{this._elementListeners.set(ee,R.filter(Pe=>Pe.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const R=this._engine.playersByElement.get(m);R&&(R.forEach(ee=>ee.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,R){const ee=this._engine.driver.query(m,Dt,!0);ee.forEach(Pe=>{if(Pe[Yn])return;const qe=this._engine.fetchNamespacesByElement(Pe);qe.size?qe.forEach(gt=>gt.triggerLeaveAnimation(Pe,R,!1,!0)):this.clearElementCache(Pe)}),this._engine.afterFlushAnimationsDone(()=>ee.forEach(Pe=>this.clearElementCache(Pe)))}triggerLeaveAnimation(m,R,ee,Pe){const qe=this._engine.statesByElement.get(m),gt=new Map;if(qe){const It=[];if(qe.forEach((Ht,en)=>{if(gt.set(en,Ht.value),this._triggers.has(en)){const Rn=this.trigger(m,en,mr,Pe);Rn&&It.push(Rn)}}),It.length)return this._engine.markElementAsRemoved(this.id,m,!0,R,gt),ee&&Y(It).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const R=this._elementListeners.get(m),ee=this._engine.statesByElement.get(m);if(R&&ee){const Pe=new Set;R.forEach(qe=>{const gt=qe.name;if(Pe.has(gt))return;Pe.add(gt);const Ht=this._triggers.get(gt).fallbackTransition,en=ee.get(gt)||Ri,Rn=new ar(mr),Mn=new qr(this.id,gt,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:gt,transition:Ht,fromState:en,toState:Rn,player:Mn,isFallbackTransition:!0})})}}removeNode(m,R){const ee=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,R),this.triggerLeaveAnimation(m,R,!0))return;let Pe=!1;if(ee.totalAnimations){const qe=ee.players.length?ee.playersByQueriedElement.get(m):[];if(qe&&qe.length)Pe=!0;else{let gt=m;for(;gt=gt.parentNode;)if(ee.statesByElement.get(gt)){Pe=!0;break}}}if(this.prepareLeaveAnimationListeners(m),Pe)ee.markElementAsRemoved(this.id,m,!1,R);else{const qe=m[Yn];(!qe||qe===er)&&(ee.afterFlush(()=>this.clearElementCache(m)),ee.destroyInnerAnimations(m),ee._onRemovalComplete(m,R))}}insertNode(m,R){ai(m,this._hostClassName)}drainQueuedTransitions(m){const R=[];return this._queue.forEach(ee=>{const Pe=ee.player;if(Pe.destroyed)return;const qe=ee.element,gt=this._elementListeners.get(qe);gt&&gt.forEach(It=>{if(It.name==ee.triggerName){const Ht=K(qe,ee.triggerName,ee.fromState.value,ee.toState.value);Ht._data=m,Le(ee.player,It.phase,Ht,It.callback)}}),Pe.markedForDestroy?this._engine.afterFlush(()=>{Pe.destroy()}):R.push(ee)}),this._queue=[],R.sort((ee,Pe)=>{const qe=ee.transition.ast.depCount,gt=Pe.transition.ast.depCount;return 0==qe||0==gt?qe-gt:this._engine.driver.containsElement(ee.element,Pe.element)?1:-1})}destroy(m){this.players.forEach(R=>R.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}}class si{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(m,R)=>{};_onRemovalComplete(m,R){this.onRemovalComplete(m,R)}constructor(m,R,ee){this.bodyNode=m,this.driver=R,this._normalizer=ee}get queuedPlayers(){const m=[];return this._namespaceList.forEach(R=>{R.players.forEach(ee=>{ee.queued&&m.push(ee)})}),m}createNamespace(m,R){const ee=new ki(m,R,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,R)?this._balanceNamespaceList(ee,R):(this.newHostElements.set(R,ee),this.collectEnterElement(R)),this._namespaceLookup[m]=ee}_balanceNamespaceList(m,R){const ee=this._namespaceList,Pe=this.namespacesByHostElement;if(ee.length-1>=0){let gt=!1,It=this.driver.getParentElement(R);for(;It;){const Ht=Pe.get(It);if(Ht){const en=ee.indexOf(Ht);ee.splice(en+1,0,m),gt=!0;break}It=this.driver.getParentElement(It)}gt||ee.unshift(m)}else ee.push(m);return Pe.set(R,m),m}register(m,R){let ee=this._namespaceLookup[m];return ee||(ee=this.createNamespace(m,R)),ee}registerTrigger(m,R,ee){let Pe=this._namespaceLookup[m];Pe&&Pe.register(R,ee)&&this.totalAnimations++}destroy(m,R){m&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const ee=this._fetchNamespace(m);this.namespacesByHostElement.delete(ee.hostElement);const Pe=this._namespaceList.indexOf(ee);Pe>=0&&this._namespaceList.splice(Pe,1),ee.destroy(R),delete this._namespaceLookup[m]}))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const R=new Set,ee=this.statesByElement.get(m);if(ee)for(let Pe of ee.values())if(Pe.namespaceId){const qe=this._fetchNamespace(Pe.namespaceId);qe&&R.add(qe)}return R}trigger(m,R,ee,Pe){if(Ui(R)){const qe=this._fetchNamespace(m);if(qe)return qe.trigger(R,ee,Pe),!0}return!1}insertNode(m,R,ee,Pe){if(!Ui(R))return;const qe=R[Yn];if(qe&&qe.setForRemoval){qe.setForRemoval=!1,qe.setForMove=!0;const gt=this.collectedLeaveElements.indexOf(R);gt>=0&&this.collectedLeaveElements.splice(gt,1)}if(m){const gt=this._fetchNamespace(m);gt&&gt.insertNode(R,ee)}Pe&&this.collectEnterElement(R)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,R){R?this.disabledNodes.has(m)||(this.disabledNodes.add(m),ai(m,Xt)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Gi(m,Xt))}removeNode(m,R,ee){if(Ui(R)){const Pe=m?this._fetchNamespace(m):null;Pe?Pe.removeNode(R,ee):this.markElementAsRemoved(m,R,!1,ee);const qe=this.namespacesByHostElement.get(R);qe&&qe.id!==m&&qe.removeNode(R,ee)}else this._onRemovalComplete(R,ee)}markElementAsRemoved(m,R,ee,Pe,qe){this.collectedLeaveElements.push(R),R[Yn]={namespaceId:m,setForRemoval:Pe,hasAnimation:ee,removedBeforeQueried:!1,previousTriggersValues:qe}}listen(m,R,ee,Pe,qe){return Ui(R)?this._fetchNamespace(m).listen(R,ee,Pe,qe):()=>{}}_buildInstruction(m,R,ee,Pe,qe){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,ee,Pe,m.fromState.options,m.toState.options,R,qe)}destroyInnerAnimations(m){let R=this.driver.query(m,Dt,!0);R.forEach(ee=>this.destroyActiveAnimationsForElement(ee)),0!=this.playersByQueriedElement.size&&(R=this.driver.query(m,Et,!0),R.forEach(ee=>this.finishActiveQueriedAnimationOnElement(ee)))}destroyActiveAnimationsForElement(m){const R=this.playersByElement.get(m);R&&R.forEach(ee=>{ee.queued?ee.markedForDestroy=!0:ee.destroy()})}finishActiveQueriedAnimationOnElement(m){const R=this.playersByQueriedElement.get(m);R&&R.forEach(ee=>ee.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Y(this.players).onDone(()=>m());m()})}processLeaveNode(m){const R=m[Yn];if(R&&R.setForRemoval){if(m[Yn]=er,R.namespaceId){this.destroyInnerAnimations(m);const ee=this._fetchNamespace(R.namespaceId);ee&&ee.clearElementCache(m)}this._onRemovalComplete(m,R.setForRemoval)}m.classList?.contains(Xt)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(ee=>{this.markElementAsDisabled(ee,!1)})}flush(m=-1){let R=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ee,Pe)=>this._balanceNamespaceList(ee,Pe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ee=0;ee<this.collectedEnterElements.length;ee++)ai(this.collectedEnterElements[ee],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ee=[];try{R=this._flushAnimations(ee,m)}finally{for(let Pe=0;Pe<ee.length;Pe++)ee[Pe]()}}else for(let ee=0;ee<this.collectedLeaveElements.length;ee++)this.processLeaveNode(this.collectedLeaveElements[ee]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ee=>ee()),this._flushFns=[],this._whenQuietFns.length){const ee=this._whenQuietFns;this._whenQuietFns=[],R.length?Y(R).onDone(()=>{ee.forEach(Pe=>Pe())}):ee.forEach(Pe=>Pe())}}reportError(m){throw function Ie(){return new u.buA(3402,!1)}()}_flushAnimations(m,R){const ee=new jr,Pe=[],qe=new Map,gt=[],It=new Map,Ht=new Map,en=new Map,Rn=new Set;this.disabledNodes.forEach(dt=>{Rn.add(dt);const rt=this.driver.query(dt,".ng-animate-queued",!0);for(let Ct=0;Ct<rt.length;Ct++)Rn.add(rt[Ct])});const Mn=this.bodyNode,ir=Array.from(this.statesByElement.keys()),Gn=fo(ir,this.collectedEnterElements),qn=new Map;let tr=0;Gn.forEach((dt,rt)=>{const Ct=ze+tr++;qn.set(rt,Ct),dt.forEach(yt=>ai(yt,Ct))});const Nr=[],xr=new Set,Pr=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const rt=this.collectedLeaveElements[dt],Ct=rt[Yn];Ct&&Ct.setForRemoval&&(Nr.push(rt),xr.add(rt),Ct.hasAnimation?this.driver.query(rt,".ng-star-inserted",!0).forEach(yt=>xr.add(yt)):Pr.add(rt))}const ti=new Map,Lr=fo(ir,Array.from(xr));Lr.forEach((dt,rt)=>{const Ct=Ge+tr++;ti.set(rt,Ct),dt.forEach(yt=>ai(yt,Ct))}),m.push(()=>{Gn.forEach((dt,rt)=>{const Ct=qn.get(rt);dt.forEach(yt=>Gi(yt,Ct))}),Lr.forEach((dt,rt)=>{const Ct=ti.get(rt);dt.forEach(yt=>Gi(yt,Ct))}),Nr.forEach(dt=>{this.processLeaveNode(dt)})});const qi=[],l=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(R).forEach(Ct=>{const yt=Ct.player,At=Ct.element;if(qi.push(yt),this.collectedEnterElements.length){const dn=At[Yn];if(dn&&dn.setForMove){if(dn.previousTriggersValues&&dn.previousTriggersValues.has(Ct.triggerName)){const bn=dn.previousTriggersValues.get(Ct.triggerName),mn=this.statesByElement.get(Ct.element);if(mn&&mn.has(Ct.triggerName)){const Cn=mn.get(Ct.triggerName);Cn.value=bn,mn.set(Ct.triggerName,Cn)}}return void yt.destroy()}}const Nt=!Mn||!this.driver.containsElement(Mn,At),Ot=ti.get(At),Kt=qn.get(At),jt=this._buildInstruction(Ct,ee,Kt,Ot,Nt);if(jt.errors&&jt.errors.length)return void l.push(jt);if(Nt)return yt.onStart(()=>On(At,jt.fromStyles)),yt.onDestroy(()=>fn(At,jt.toStyles)),void Pe.push(yt);if(Ct.isFallbackTransition)return yt.onStart(()=>On(At,jt.fromStyles)),yt.onDestroy(()=>fn(At,jt.toStyles)),void Pe.push(yt);const Zt=[];jt.timelines.forEach(dn=>{dn.stretchStartingKeyframe=!0,this.disabledNodes.has(dn.element)||Zt.push(dn)}),jt.timelines=Zt,ee.append(At,jt.timelines),gt.push({instruction:jt,player:yt,element:At}),jt.queriedElements.forEach(dn=>De(It,dn,[]).push(yt)),jt.preStyleProps.forEach((dn,bn)=>{if(dn.size){let mn=Ht.get(bn);mn||Ht.set(bn,mn=new Set),dn.forEach((Cn,Sn)=>mn.add(Sn))}}),jt.postStyleProps.forEach((dn,bn)=>{let mn=en.get(bn);mn||en.set(bn,mn=new Set),dn.forEach((Cn,Sn)=>mn.add(Sn))})});if(l.length){const dt=[];l.forEach(rt=>{dt.push(function se(){return new u.buA(3505,!1)}())}),qi.forEach(rt=>rt.destroy()),this.reportError(dt)}const h=new Map,H=new Map;gt.forEach(dt=>{const rt=dt.element;ee.has(rt)&&(H.set(rt,rt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,h))}),Pe.forEach(dt=>{const rt=dt.element;this._getPreviousPlayers(rt,!1,dt.namespaceId,dt.triggerName,null).forEach(yt=>{De(h,rt,[]).push(yt),yt.destroy()})});const oe=Nr.filter(dt=>so(dt,Ht,en)),Ee=new Map;zi(Ee,this.driver,Pr,en,d.kp).forEach(dt=>{so(dt,Ht,en)&&oe.push(dt)});const tt=new Map;Gn.forEach((dt,rt)=>{zi(tt,this.driver,new Set(dt),Ht,d.FX)}),oe.forEach(dt=>{const rt=Ee.get(dt),Ct=tt.get(dt);Ee.set(dt,new Map([...rt?.entries()??[],...Ct?.entries()??[]]))});const ht=[],Tt=[],Rt={};gt.forEach(dt=>{const{element:rt,player:Ct,instruction:yt}=dt;if(ee.has(rt)){if(Rn.has(rt))return Ct.onDestroy(()=>fn(rt,yt.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(yt.totalTime),void Pe.push(Ct);let At=Rt;if(H.size>1){let Ot=rt;const Kt=[];for(;Ot=Ot.parentNode;){const jt=H.get(Ot);if(jt){At=jt;break}Kt.push(Ot)}Kt.forEach(jt=>H.set(jt,At))}const Nt=this._buildAnimation(Ct.namespaceId,yt,h,qe,tt,Ee);if(Ct.setRealPlayer(Nt),At===Rt)ht.push(Ct);else{const Ot=this.playersByElement.get(At);Ot&&Ot.length&&(Ct.parentPlayer=Y(Ot)),Pe.push(Ct)}}else On(rt,yt.fromStyles),Ct.onDestroy(()=>fn(rt,yt.toStyles)),Tt.push(Ct),Rn.has(rt)&&Pe.push(Ct)}),Tt.forEach(dt=>{const rt=qe.get(dt.element);if(rt&&rt.length){const Ct=Y(rt);dt.setRealPlayer(Ct)}}),Pe.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Nr.length;dt++){const rt=Nr[dt],Ct=rt[Yn];if(Gi(rt,Ge),Ct&&Ct.hasAnimation)continue;let yt=[];if(It.size){let Nt=It.get(rt);Nt&&Nt.length&&yt.push(...Nt);let Ot=this.driver.query(rt,Et,!0);for(let Kt=0;Kt<Ot.length;Kt++){let jt=It.get(Ot[Kt]);jt&&jt.length&&yt.push(...jt)}}const At=yt.filter(Nt=>!Nt.destroyed);At.length?vo(this,rt,At):this.processLeaveNode(rt)}return Nr.length=0,ht.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const rt=this.players.indexOf(dt);this.players.splice(rt,1)}),dt.play()}),ht}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,R,ee,Pe,qe){let gt=[];if(R){const It=this.playersByQueriedElement.get(m);It&&(gt=It)}else{const It=this.playersByElement.get(m);if(It){const Ht=!qe||qe==mr;It.forEach(en=>{en.queued||!Ht&&en.triggerName!=Pe||gt.push(en)})}}return(ee||Pe)&&(gt=gt.filter(It=>!(ee&&ee!=It.namespaceId||Pe&&Pe!=It.triggerName))),gt}_beforeAnimationBuild(m,R,ee){const qe=R.element,gt=R.isRemovalTransition?void 0:m,It=R.isRemovalTransition?void 0:R.triggerName;for(const Ht of R.timelines){const en=Ht.element,Rn=en!==qe,Mn=De(ee,en,[]);this._getPreviousPlayers(en,Rn,gt,It,R.toState).forEach(Gn=>{const qn=Gn.getRealPlayer();qn.beforeDestroy&&qn.beforeDestroy(),Gn.destroy(),Mn.push(Gn)})}On(qe,R.fromStyles)}_buildAnimation(m,R,ee,Pe,qe,gt){const It=R.triggerName,Ht=R.element,en=[],Rn=new Set,Mn=new Set,ir=R.timelines.map(qn=>{const tr=qn.element;Rn.add(tr);const Nr=tr[Yn];if(Nr&&Nr.removedBeforeQueried)return new d.sf(qn.duration,qn.delay);const xr=tr!==Ht,Pr=function Ji(Ve){const m=[];return to(Ve,m),m}((ee.get(tr)||Dr).map(h=>h.getRealPlayer())).filter(h=>!!h.element&&h.element===tr),ti=qe.get(tr),Lr=gt.get(tr),qi=_e(this._normalizer,qn.keyframes,ti,Lr),l=this._buildPlayer(qn,qi,Pr);if(qn.subTimeline&&Pe&&Mn.add(tr),xr){const h=new qr(m,It,tr);h.setRealPlayer(l),en.push(h)}return l});en.forEach(qn=>{De(this.playersByQueriedElement,qn.element,[]).push(qn),qn.onDone(()=>function vi(Ve,m,R){let ee=Ve.get(m);if(ee){if(ee.length){const Pe=ee.indexOf(R);ee.splice(Pe,1)}0==ee.length&&Ve.delete(m)}return ee}(this.playersByQueriedElement,qn.element,qn))}),Rn.forEach(qn=>ai(qn,at));const Gn=Y(ir);return Gn.onDestroy(()=>{Rn.forEach(qn=>Gi(qn,at)),fn(Ht,R.toStyles)}),Mn.forEach(qn=>{De(Pe,qn,[]).push(Gn)}),Gn}_buildPlayer(m,R,ee){return R.length>0?this.driver.animate(m.element,R,m.duration,m.delay,m.easing,ee):new d.sf(m.duration,m.delay)}}class qr{namespaceId;triggerName;element;_player=new d.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(m,R,ee){this.namespaceId=m,this.triggerName=R,this.element=ee}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((R,ee)=>{R.forEach(Pe=>Le(m,ee,void 0,Pe))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const R=this._player;R.triggerCallback&&m.onStart(()=>R.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,R){De(this._queuedCallbacks,m,[]).push(R)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const R=this._player;R.triggerCallback&&R.triggerCallback(m)}}function Ui(Ve){return Ve&&1===Ve.nodeType}function Zi(Ve,m){const R=Ve.style.display;return Ve.style.display=m??"none",R}function zi(Ve,m,R,ee,Pe){const qe=[];R.forEach(Ht=>qe.push(Zi(Ht)));const gt=[];ee.forEach((Ht,en)=>{const Rn=new Map;Ht.forEach(Mn=>{const ir=m.computeStyle(en,Mn,Pe);Rn.set(Mn,ir),(!ir||0==ir.length)&&(en[Yn]=nr,gt.push(en))}),Ve.set(en,Rn)});let It=0;return R.forEach(Ht=>Zi(Ht,qe[It++])),gt}function fo(Ve,m){const R=new Map;if(Ve.forEach(It=>R.set(It,[])),0==m.length)return R;const Pe=new Set(m),qe=new Map;function gt(It){if(!It)return 1;let Ht=qe.get(It);if(Ht)return Ht;const en=It.parentNode;return Ht=R.has(en)?en:Pe.has(en)?1:gt(en),qe.set(It,Ht),Ht}return m.forEach(It=>{const Ht=gt(It);1!==Ht&&R.get(Ht).push(It)}),R}function ai(Ve,m){Ve.classList?.add(m)}function Gi(Ve,m){Ve.classList?.remove(m)}function vo(Ve,m,R){Y(R).onDone(()=>Ve.processLeaveNode(m))}function to(Ve,m){for(let R=0;R<Ve.length;R++){const ee=Ve[R];ee instanceof d.PZ?to(ee.players,m):m.push(ee)}}function so(Ve,m,R){const ee=R.get(Ve);if(!ee)return!1;let Pe=m.get(Ve);return Pe?ee.forEach(qe=>Pe.add(qe)):m.set(Ve,ee),R.delete(Ve),!0}class ao{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(m,R)=>{};constructor(m,R,ee){this._driver=R,this._normalizer=ee,this._transitionEngine=new si(m.body,R,ee),this._timelineEngine=new we(m.body,R,ee),this._transitionEngine.onRemovalComplete=(Pe,qe)=>this.onRemovalComplete(Pe,qe)}registerTrigger(m,R,ee,Pe,qe){const gt=m+"-"+Pe;let It=this._triggerCache[gt];if(!It){const Ht=[],Rn=_i(this._driver,qe,Ht,[]);if(Ht.length)throw function ue(){return new u.buA(3404,!1)}();It=function $t(Ve,m,R){return new Gt(Ve,m,R)}(Pe,Rn,this._normalizer),this._triggerCache[gt]=It}this._transitionEngine.registerTrigger(R,Pe,It)}register(m,R){this._transitionEngine.register(m,R)}destroy(m,R){this._transitionEngine.destroy(m,R)}onInsert(m,R,ee,Pe){this._transitionEngine.insertNode(m,R,ee,Pe)}onRemove(m,R,ee){this._transitionEngine.removeNode(m,R,ee)}disableAnimations(m,R){this._transitionEngine.markElementAsDisabled(m,R)}process(m,R,ee,Pe){if("@"==ee.charAt(0)){const[qe,gt]=Te(ee);this._timelineEngine.command(qe,R,gt,Pe)}else this._transitionEngine.trigger(m,R,ee,Pe)}listen(m,R,ee,Pe,qe){if("@"==ee.charAt(0)){const[gt,It]=Te(ee);return this._timelineEngine.listen(gt,R,It,qe)}return this._transitionEngine.listen(m,R,ee,Pe,qe)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(m){this._transitionEngine.afterFlushAnimationsDone(m)}}let ho=(()=>{class Ve{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(R,ee,Pe){this._element=R,this._startStyles=ee,this._endStyles=Pe;let qe=Ve.initialStylesByElement.get(R);qe||Ve.initialStylesByElement.set(R,qe=new Map),this._initialStyles=qe}start(){this._state<1&&(this._startStyles&&fn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fn(this._element,this._initialStyles),this._endStyles&&(fn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ve.initialStylesByElement.delete(this._element),this._startStyles&&(On(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(On(this._element,this._endStyles),this._endStyles=null),fn(this._element,this._initialStyles),this._state=3)}}return Ve})();function ei(Ve){let m=null;return Ve.forEach((R,ee)=>{(function Qi(Ve){return"display"===Ve||"position"===Ve})(ee)&&(m=m||new Map,m.set(ee,R))}),m}class uo{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(m,R,ee,Pe){this.element=m,this.keyframes=R,this.options=ee,this._specialStyles=Pe,this._duration=ee.duration,this._delay=ee.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;const m=this.keyframes,R=this._triggerWebAnimation(this.element,m,this.options);if(!R)return this._onFinish(),null;this.domPlayer=R,this._finalKeyframe=m.length?m[m.length-1]:new Map;const ee=()=>this._onFinish();return R.addEventListener("finish",ee),this.onDestroy(()=>{R.removeEventListener("finish",ee)}),R}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(m){const R=[];return m.forEach(ee=>{R.push(Object.fromEntries(ee))}),R}_triggerWebAnimation(m,R,ee){const Pe=this._convertKeyframesToObject(R);try{return m.animate(Pe,ee)}catch{return null}}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){const m=this._buildPlayer();m&&(this.hasStarted()||(this._onStartFns.forEach(R=>R()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),m.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=m*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ee,Pe)=>{"offset"!==Pe&&m.set(Pe,this._finished?ee:Ir(this.element,Pe))}),this.currentSnapshot=m}triggerCallback(m){const R="start"===m?this._onStartFns:this._onDoneFns;R.forEach(ee=>ee()),R.length=0}}class Ni{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}containsElement(m,R){return Ze(m,R)}getParentElement(m){return j(m)}query(m,R,ee){return ot(m,R,ee)}computeStyle(m,R,ee){return Ir(m,R)}animate(m,R,ee,Pe,qe,gt=[]){const Ht={duration:ee,delay:Pe,fill:0==Pe?"both":"forwards"};qe&&(Ht.easing=qe);const en=new Map,Rn=gt.filter(Gn=>Gn instanceof uo);(function _n(Ve,m){return 0===Ve||0===m})(ee,Pe)&&Rn.forEach(Gn=>{Gn.currentSnapshot.forEach((qn,tr)=>en.set(tr,qn))});let Mn=function un(Ve){return Ve.length?Ve[0]instanceof Map?Ve:Ve.map(m=>new Map(Object.entries(m))):[]}(R).map(Gn=>new Map(Gn));Mn=function sn(Ve,m,R){if(R.size&&m.length){let ee=m[0],Pe=[];if(R.forEach((qe,gt)=>{ee.has(gt)||Pe.push(gt),ee.set(gt,qe)}),Pe.length)for(let qe=1;qe<m.length;qe++){let gt=m[qe];Pe.forEach(It=>gt.set(It,Ir(Ve,It)))}}return m}(m,Mn,en);const ir=function no(Ve,m){let R=null,ee=null;return Array.isArray(m)&&m.length?(R=ei(m[0]),m.length>1&&(ee=ei(m[m.length-1]))):m instanceof Map&&(R=ei(m)),R||ee?new ho(Ve,R,ee):null}(m,Mn);return new uo(m,Mn,Ht,ir)}}const he="@.disabled";class be{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(m,R,ee,Pe){this.namespaceId=m,this.delegate=R,this.engine=ee,this._onDestroy=Pe}get data(){return this.delegate.data}destroyNode(m){this.delegate.destroyNode?.(m)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(m,R){return this.delegate.createElement(m,R)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,R){this.delegate.appendChild(m,R),this.engine.onInsert(this.namespaceId,R,m,!1)}insertBefore(m,R,ee,Pe=!0){this.delegate.insertBefore(m,R,ee),this.engine.onInsert(this.namespaceId,R,m,Pe)}removeChild(m,R,ee,Pe){Pe?this.delegate.removeChild(m,R,ee,Pe):this.parentNode(R)&&this.engine.onRemove(this.namespaceId,R,this.delegate)}selectRootElement(m,R){return this.delegate.selectRootElement(m,R)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,R,ee,Pe){this.delegate.setAttribute(m,R,ee,Pe)}removeAttribute(m,R,ee){this.delegate.removeAttribute(m,R,ee)}addClass(m,R){this.delegate.addClass(m,R)}removeClass(m,R){this.delegate.removeClass(m,R)}setStyle(m,R,ee,Pe){this.delegate.setStyle(m,R,ee,Pe)}removeStyle(m,R,ee){this.delegate.removeStyle(m,R,ee)}setProperty(m,R,ee){"@"==R.charAt(0)&&R==he?this.disableAnimations(m,!!ee):this.delegate.setProperty(m,R,ee)}setValue(m,R){this.delegate.setValue(m,R)}listen(m,R,ee,Pe){return this.delegate.listen(m,R,ee,Pe)}disableAnimations(m,R){this.engine.disableAnimations(m,R)}}class it extends be{factory;constructor(m,R,ee,Pe,qe){super(R,ee,Pe,qe),this.factory=m,this.namespaceId=R}setProperty(m,R,ee){"@"==R.charAt(0)?"."==R.charAt(1)&&R==he?this.disableAnimations(m,ee=void 0===ee||!!ee):this.engine.process(this.namespaceId,m,R.slice(1),ee):this.delegate.setProperty(m,R,ee)}listen(m,R,ee,Pe){if("@"==R.charAt(0)){const qe=function xt(Ve){switch(Ve){case"body":return document.body;case"document":return document;case"window":return window;default:return Ve}}(m);let gt=R.slice(1),It="";return"@"!=gt.charAt(0)&&([gt,It]=function Jt(Ve){const m=Ve.indexOf(".");return[Ve.substring(0,m),Ve.slice(m+1)]}(gt)),this.engine.listen(this.namespaceId,qe,gt,It,Ht=>{this.factory.scheduleListenerCallback(Ht._data||-1,ee,Ht)})}return this.delegate.listen(m,R,ee,Pe)}}class hn{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(m,R,ee){this.delegate=m,this.engine=R,this._zone=ee,R.onRemovalComplete=(Pe,qe)=>{qe?.removeChild(null,Pe)}}createRenderer(m,R){const Pe=this.delegate.createRenderer(m,R);if(!m||!R?.data?.animation){const en=this._rendererCache;let Rn=en.get(Pe);return Rn||(Rn=new be("",Pe,this.engine,()=>en.delete(Pe)),en.set(Pe,Rn)),Rn}const qe=R.id,gt=R.id+"-"+this._currentId;this._currentId++,this.engine.register(gt,m);const It=en=>{Array.isArray(en)?en.forEach(It):this.engine.registerTrigger(qe,gt,m,en.name,en)};return R.data.animation.forEach(It),new it(this,gt,Pe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(m,R,ee){if(m>=0&&m<this._microtaskId)return void this._zone.run(()=>R(ee));const Pe=this._animationCallbacksBuffer;0==Pe.length&&queueMicrotask(()=>{this._zone.run(()=>{Pe.forEach(qe=>{const[gt,It]=qe;gt(It)}),this._animationCallbacksBuffer=[]})}),Pe.push([R,ee])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(m){this.engine.flush(),this.delegate.componentReplaced?.(m)}}var Tn=a(2896),jn=a(3686);const Sr=[{provide:Tr,useFactory:function cr(){return new Kr}},{provide:ao,useClass:(()=>{class Ve extends ao{constructor(R,ee,Pe){super(R,ee,Pe)}ngOnDestroy(){this.flush()}static \u0275fac=function(ee){return new(ee||Ve)(u.KVO(u.qQL),u.KVO(Er),u.KVO(Tr))};static \u0275prov=u.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})()},{provide:r._9s,useFactory:function Wn(){return new hn((0,u.WQX)(Tn.mE),(0,u.WQX)(ao),(0,u.WQX)(u.SKi))}}],Ar=[{provide:Er,useClass:fr},{provide:r.bc$,useValue:"NoopAnimations"},...Sr],Yr=[{provide:Er,useFactory:()=>new Ni},{provide:r.bc$,useFactory:()=>"BrowserAnimations"},...Sr];let xi=(()=>{class Ve{static withConfig(R){return{ngModule:Ve,providers:R.disableAnimations?Ar:Yr}}static \u0275fac=function(ee){return new(ee||Ve)};static \u0275mod=r.$C({type:Ve});static \u0275inj=u.G2t({providers:Yr,imports:[jn.Bb]})}return Ve})()},9820(ct,E,a){"use strict";a.d(E,{X:()=>C});var u=a(7624),r=a(4337),D=a(9377),P=a(722),S=a(4671);const _={$sort:P.x,$skip:(L,I,A)=>L.drop(I),$limit:(L,I,A)=>L.take(I)};class b{#e;#t;#n;#i;#s={};#r=null;#o=[];constructor(I,A,U,O){this.#e=I,this.#t=A,this.#n=U,this.#i=O}fetch(){if(this.#r)return this.#r;this.#r=(0,r.dF)(this.#e).filter(this.#t);const I=this.#i.processingMode;I&u.to.CLONE_INPUT&&this.#r.map(S.mg);for(const A of["$sort","$skip","$limit"])(0,S.zy)(this.#s,A)&&(this.#r=_[A](this.#r,this.#s[A],this.#i));return Object.keys(this.#n).length&&(this.#r=(0,D.C)(this.#r,this.#n,this.#i)),I&u.to.CLONE_OUTPUT&&this.#r.map(S.mg),this.#r}fetchAll(){const I=(0,r.dF)([...this.#o]);return this.#o=[],(0,r.xW)(I,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(I){return this.#s.$skip=I,this}limit(I){return this.#s.$limit=I,this}sort(I){return this.#s.$sort=I,this}collation(I){return this.#i={...this.#i,collation:I},this}next(){if(this.#o.length>0)return this.#o.pop();const I=this.fetch().next();return I.done?void 0:I.value}hasNext(){if(this.#o.length>0)return!0;const I=this.fetch().next();return!I.done&&(this.#o.push(I.value),!0)}map(I){return this.all().map(I)}forEach(I){this.all().forEach(I)}[Symbol.iterator](){return this.fetchAll()}}const W=new Set(Array.from(["$and","$or","$nor","$expr","$jsonSchema"]));class C{#e;#t;#n;constructor(I,A){this.#n=(0,S.mg)(I),this.#t=(0,u.B3)(A),this.#e=[],this.compile()}compile(){(0,S.vA)((0,S.Gv)(this.#n),`query criteria must be an object: ${JSON.stringify(this.#n)}`);const I={};for(const[A,U]of Object.entries(this.#n)){if("$where"===A)(0,S.vA)(this.#t.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true."),Object.assign(I,{field:A,expr:U});else if(W.has(A))this.processOperator(A,A,U);else{(0,S.vA)(!(0,S.Zo)(A),`unknown top level operator: ${A}`);for(const[O,p]of Object.entries((0,S.S8)(U)))this.processOperator(A,O,p)}I.field&&this.processOperator(I.field,I.field,I.expr)}}processOperator(I,A,U){const O=(0,u.F5)("query",A,this.#t);(0,S.vA)(!!O,`unknown query operator ${A}`),this.#e.push(O(I,U,this.#t))}test(I){return this.#e.every(A=>A(I))}find(I,A){return new b(I,U=>this.test(U),A||{},this.#t)}remove(I){return I.reduce((A,U)=>(this.test(U)||A.push(U),A),[])}}},9825(ct,E,a){"use strict";a.d(E,{K:()=>S,X:()=>b});var u=a(9650),r=a(6568),d=a(5520),D=a(6434),$=a(9403),P=a(3896),S=function(){function A(O,p,F){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(T=>{var M=T.docId,V=this.cacheItemByDocId.get(M);V&&(V[0].delete(T.revisionHeight+T.lwt+""),0===V[0].size&&this.cacheItemByDocId.delete(M))}):void 0,this.primaryPath=O,this.changes$=p,this.documentCreator=F,p.subscribe(T=>{this.tasks.add(()=>{for(var M=this.cacheItemByDocId,V=0;V<T.length;V++){var B=T[V],q=M.get(B.documentId);if(q){var G=B.documentData;G||(G=B.previousDocumentData),q[1]=G}}}),this.tasks.size<=1&&(0,d.vN)().then(()=>{this.processTasks()})})}var U=A.prototype;return U.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(F=>F()),this.tasks.clear())},U.getLatestDocumentData=function(p){return this.processTasks(),(0,$.m)(this.cacheItemByDocId,p)[1]},U.getLatestDocumentDataIfExists=function(p){this.processTasks();var F=this.cacheItemByDocId.get(p);if(F)return F[1]},(0,u.A)(A,[{key:"getCachedRxDocuments",get:function(){var O=_(this);return(0,D.Ns)(this,"getCachedRxDocuments",O)}},{key:"getCachedRxDocument",get:function(){var O=_(this);return(0,D.Ns)(this,"getCachedRxDocument",p=>O([p])[0])}}])}();function _(A){var U=A.primaryPath,O=A.cacheItemByDocId,p=A.registry,F=P.h.deepFreezeWhenDevMode,T=A.documentCreator;return V=>{for(var B=new Array(V.length),q=[],G=0;G<V.length;G++){var Q=V[G],ne=Q[U],ue=(0,r.Wg)(Q._rev),ve=void 0,Oe=void 0,nt=O.get(ne);nt?Oe=(ve=nt[0]).get(ue+Q._meta.lwt+""):O.set(ne,nt=[ve=new Map,Q]);var ge=Oe?Oe.deref():void 0;ge||(Q=F(Q),ge=T(Q),ve.set(ue+Q._meta.lwt+"",C(ge)),p&&q.push(ge)),B[G]=ge}return q.length>0&&p&&(A.tasks.add(()=>{for(var xe=0;xe<q.length;xe++){var He=q[xe];p.register(He,{docId:He.primary,revisionHeight:(0,r.Wg)(He.revision),lwt:He._data._meta.lwt})}}),A.tasks.size<=1&&(0,d.vN)().then(()=>{A.processTasks()})),B}}function b(A,U){return(0,A.getCachedRxDocuments)(U)}var C="function"==typeof WeakRef?function L(A){return new WeakRef(A)}:function I(A){return{deref:()=>A}}},9857(ct,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0});class a extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}E.default=a},9858(ct,E,a){"use strict";a.d(E,{y:()=>r});var u=a(8071);function r(d){return(0,u.T)(d?.then)}},9974(ct,E,a){"use strict";a.d(E,{N:()=>d});var u=a(8071);function d(D){return $=>{if(function r(D){return(0,u.T)(D?.lift)}($))return $.lift(function(P){try{return D(P,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}}}]);