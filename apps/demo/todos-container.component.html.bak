<div class="container">
  <div class="row">
    <div class="offset-md-2 col-md-8 entry">
      <anms-big-input rtl [placeholder]="'I am going to...'" [value]="newTodo" (keyup)="onNewTodoChange($event.target.value)"
        (keyup.enter)="!isAddTodoDisabled && onAddTodo()" (keyup.escape)="onNewTodoClear()">
        <anms-big-input-action ariaLabel="add todo" fontSet="fas" fontIcon="fa-plus" faIcon="plus" color="accent"
          (action)="onAddTodo()" [disabled]="isAddTodoDisabled" [matTooltip]="'Add new todo'"
          matTooltipPosition="before">
        </anms-big-input-action>
        <anms-big-input-action ariaLabel="remove completed items" fontSet="fas" fontIcon="fa-trash" faIcon="trash" color="warn"
          (action)="onRemoveCompletedTodos()" [disabled]="removeCompletedDisabled$ | async"
          [matTooltip]="'Remove completed todos'" matTooltipPosition="after">
        </anms-big-input-action>
      </anms-big-input>
    </div>
  </div>
  <div class="row">
    <ng-container *ngIf="todos$ | async as todos">
      <div class="col-md-6">
        <h2>
          Todo example
          <button class="todos-filter" mat-icon-button [matMenuTriggerFor]="todosFilter" aria-label="open filter menu">
            <fa-icon icon="filter"></fa-icon>
          </button>
          <mat-menu class="todos-filter-menu-overlay" #todosFilter="matMenu" xPosition="before">
            <button mat-menu-item (click)="onFilterTodos('ALL')" [ngClass]="{ active: todos.filter === 'ALL' }"
              aria-label="show all items">
              <mat-icon>
                <fa-icon icon="tasks"></fa-icon>
              </mat-icon>
              <span>{{ 'All' }}</span>
            </button>
            <button mat-menu-item (click)="onFilterTodos('DONE')" [ngClass]="{ active: todos.filter === 'DONE' }"
              aria-label="show completed items">
              <mat-icon>
                <fa-icon icon="check"></fa-icon>
              </mat-icon>
              <span>{{ 'Completed' }}</span>
            </button>
            <button mat-menu-item (click)="onFilterTodos('ACTIVE')" [ngClass]="{ active: todos.filter === 'ACTIVE' }"
              aria-label="show active items">
              <mat-icon>
                <fa-icon icon="square"></fa-icon>
              </mat-icon>
              <span>{{ 'Active' }}</span>
            </button>
          </mat-menu>
          <mat-chip-list class="todos-filter-info d-none d-sm-block d-md-none d-lg-block">
            <mat-chip [disabled]=true [ngPlural]="todos.length">
              Displaying
              <ng-template ngPluralCase="other">{{ todos.length }} todos</ng-template>
              <ng-template ngPluralCase="=1">one todo</ng-template>
              <ng-template ngPluralCase="=0">none todos</ng-template>
            </mat-chip>
          </mat-chip-list>
        </h2>
        <mat-card *ngFor="let todo of todos" class="todo" [ngClass]="routeAnimationsElements" data-testid="todo-item">
          <mat-checkbox class="todo-completed" [checked]="todo.completed" (change)="onToggleTodo(todo)"></mat-checkbox>
          <span class="todo-label" [ngClass]="{ 'todo-label-completed': todo.completed }" (click)="onToggleTodo(todo)" aria-label="toggle todo">
            &nbsp;{{todo.title}}&nbsp;
          </span>
        </mat-card>
        <br>
        <br>
      </div>
  </ng-container>
    <div class="offset-md-1 col-md-5" [ngClass]="routeAnimationsElements" rtl>
      <h2>Todo example with support for adding, toggling, removing and filtering of the todo items.</h2>
    </div>
  </div>

</div>
